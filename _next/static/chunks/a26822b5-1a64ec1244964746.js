"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[131],{82077:function(e,t,a){a.d(t,{XLE:function(){return tQ},ZeD:function(){return et},nvn:function(){return tX},zxk:function(){return eF}});var n,r,l,i,o,s,c,m,u,d=a(1604),p=a(67294),h=a(73935),f=a(5183),g=a(19604),v=a(96391),b=a(39020),y=a(47318),w=a(61761);a(6512);var x=a(77493),E=a(73342),N=a(37303),k=a(95142),C=a(66688),D=a(21359),S=a(15948),M=a(98430),z=a(30780),F=a(19818),_=a(32512);a(61735),a(29208);var L=a(30381),O=a(18156),V=a(18573);a(41420),a(74231),a(36331);var $=Object.defineProperty,j=(e,t,a)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,P=(e,t,a)=>(j(e,"symbol"!=typeof t?t+"":t,a),a);let H=p.createContext(null),B=({children:e})=>p.createElement("div",{className:"fixed inset-0 z-modal w-screen h-screen overflow-y-auto"},e,p.createElement("div",{className:"fixed -z-1 inset-0 opacity-80 bg-gradient-to-br from-gray-800 via-gray-900 to-black"})),I=e=>{let{portalNode:t}=function(){let e=p.useContext(H);if(!e)throw Error("No Modal Container context provided");return e}();return t?(0,h.createPortal)(p.createElement(B,null,p.createElement("div",{...e})),t):null},T=({children:e})=>p.createElement("div",{className:"w-full flex justify-between gap-4 items-center px-5 pb-5 rounded-b-md"},e),R=({className:e="",padded:t=!1,...a})=>p.createElement("div",{className:`${t?"p-5":"p-0"} m-0 overflow-hidden flex flex-col min-h-[160px] [&:last-child]:rounded-[0_0_5px_5px] ${e}`,...a}),A=({...e})=>p.createElement("svg",{viewBox:"0 0 32 32",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M14.9524 4.89689L14.9524 26.8016H16.7461L16.7461 4.89689H14.9524Z"}),p.createElement("path",{d:"M4.8969 16.7461H26.8016L26.8016 14.9523H4.89689L4.8969 16.7461Z"})),Y=({...e})=>p.createElement("svg",{viewBox:"0 0 32 32",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M5 6.2684L24.7316 26L26 24.7316L6.2684 5L5 6.2684Z"}),p.createElement("path",{d:"M6.2684 26L26 6.2684L24.7316 5L5 24.7316L6.2684 26Z"})),Z=({...e})=>p.createElement("svg",{viewBox:"0 0 4 14",fill:"#828282",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M2 5.5C1.5625 5.5 1.21875 5.65625 0.9375 5.9375C0.625 6.25 0.5 6.59375 0.5 7C0.5 7.4375 0.625 7.78125 0.9375 8.0625C1.21875 8.375 1.5625 8.5 2 8.5C2.40625 8.5 2.75 8.375 3.0625 8.0625C3.34375 7.78125 3.5 7.4375 3.5 7C3.5 6.59375 3.34375 6.25 3.0625 5.9375C2.75 5.65625 2.40625 5.5 2 5.5ZM0.5 2.25C0.5 1.84375 0.625 1.5 0.9375 1.1875C1.21875 0.90625 1.5625 0.75 2 0.75C2.40625 0.75 2.75 0.90625 3.0625 1.1875C3.34375 1.5 3.5 1.84375 3.5 2.25C3.5 2.6875 3.34375 3.03125 3.0625 3.3125C2.75 3.625 2.40625 3.75 2 3.75C1.5625 3.75 1.21875 3.625 0.9375 3.3125C0.625 3.03125 0.5 2.6875 0.5 2.25ZM0.5 11.75C0.5 11.3438 0.625 11 0.9375 10.6875C1.21875 10.4062 1.5625 10.25 2 10.25C2.40625 10.25 2.75 10.4062 3.0625 10.6875C3.34375 11 3.5 11.3438 3.5 11.75C3.5 12.1875 3.34375 12.5312 3.0625 12.8125C2.75 13.125 2.40625 13.25 2 13.25C1.5625 13.25 1.21875 13.125 0.9375 12.8125C0.625 12.5312 0.5 12.1875 0.5 11.75Z"})),K=({...e})=>p.createElement("svg",{viewBox:"0 0 32 32",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M21 7.208L19.7346 6L10.5227 14.7939C9.82527 15.4597 9.82626 16.5412 10.5227 17.2061L19.7346 26L21 24.792L11.7901 16L21 7.208Z"})),q=({...e})=>p.createElement("svg",{viewBox:"0 0 32 32",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.9 4.2V6.9H25V8.7H7V6.9H15.1V4.2H16.9ZM7.77201 10.5H24.2279L22.4102 24.1332C22.2853 25.0698 21.4406 25.8 20.4977 25.8H11.5022C10.5561 25.8 9.71404 25.0653 9.58977 24.1332L7.77201 10.5ZM22.172 12.3H9.82791L11.3739 23.8953C11.3788 23.9318 11.4569 24 11.5022 24H20.4977C20.5432 24 20.6209 23.9328 20.6259 23.8953L22.172 12.3Z"})),J=({children:e,close:t})=>p.createElement("div",{className:"h-14 flex items-center justify-between px-5 border-b border-gray-200 m-0"},p.createElement(G,null,e),t&&p.createElement("div",{onClick:t,className:"flex items-center fill-gray-400 cursor-pointer transition-colors duration-100 ease-out hover:fill-gray-700"},p.createElement(Y,{className:"w-6 h-auto"}))),G=({children:e})=>p.createElement("h2",{className:"text-gray-600 font-sans font-medium text-base leading-none m-0 block truncate flex items-center"},e),W=({className:e="",style:t={},...a})=>p.createElement("div",{className:`block z-0 overflow-visible bg-gray-50 rounded-[5px] my-10 mx-auto w-[460px] max-w-[90%] ${e}`,style:{animation:"popup-down 150ms ease-out 1",...t},...a}),U=p.createContext(null);function Q(){let{cms:e,dispatch:t,state:a}=p.useContext(U);if(!e)throw Error("useCMS could not find an instance of CMS");let[,n]=p.useState(e.enabled);return e.dispatch=t,e.state=a,p.useEffect(()=>e.events.subscribe("cms",()=>{n(e.enabled)}),[e]),e}let X=function(e,t,a){let n=Q();p.useEffect(function(){return n.events.subscribe(e,t)},a)};function ee(e){let t=Q();return{dispatch:a=>t.events.dispatch({...a,type:e}),subscribe:a=>t.events.subscribe(e,a)}}function et(e){return t=>p.createElement(ea,{name:t.input.name,label:t.field.label,description:t.field.description,error:t.meta.error,index:t.index,tinaForm:t.tinaForm},p.createElement(e,{...t}))}let ea=({name:e,label:t,description:a,error:n,margin:r=!0,children:l,index:i,tinaForm:o,...s})=>{let{dispatch:c}=ee("field:hover"),{dispatch:m}=ee("field:focus");return p.createElement(en,{margin:r,onMouseOver:()=>c({id:o.id,fieldName:e}),onMouseOut:()=>c({id:null,fieldName:null}),onClick:()=>m({id:o.id,fieldName:e}),style:{zIndex:i?1e3-i:void 0},...s},(!1!==t||a)&&p.createElement(er,{name:e},!1!==t&&p.createElement(p.Fragment,null,t||e),a&&p.createElement(el,null,a)),l,n&&"string"==typeof n&&p.createElement(ei,null,n))},en=({margin:e,children:t,...a})=>p.createElement("div",{className:`relative ${e?"mb-5 last:mb-0":""}`,...a},t),er=({children:e,className:t,name:a,...n})=>p.createElement("label",{htmlFor:a,className:`block font-sans text-xs font-semibold text-gray-700 whitespace-normal mb-2 ${t}`,...n},e),el=({children:e,className:t,...a})=>p.createElement("span",{className:`block font-sans text-xs italic font-light text-gray-400 pt-0.5 whitespace-normal m-0 ${t}`,...a},e),ei=({children:e,className:t,...a})=>p.createElement("span",{className:`block font-sans text-xs font-normal text-red-500 pt-3 animate-slide-in whitespace-normal m-0  ${t}`,...a},e);function eo(...e){return e.filter(Boolean).join(" ")}let es=()=>"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),ec=p.forwardRef(function(e,t){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),p.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))}),em=({value:e,onChange:t,defaultQuery:a,items:n})=>{let[r,l]=p.useState(a??""),i=p.useMemo(()=>{try{let e=RegExp(r,"i"),t=n.filter(t=>e.test(t.label));if(0===t.length)return n;return t}catch(e){return n}},[n,r]);return p.createElement(b.h,{value:e,onChange:t,as:"div",className:"relative inline-block text-left z-20"},p.createElement("div",{className:"mt-1"},p.createElement("div",{className:"relative w-full cursor-default overflow-hidden rounded-lg bg-white text-left shadow-md sm:text-sm"},p.createElement(b.h.Input,{className:"w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300",displayValue:e=>(null==e?void 0:e.label)??"Plain Text",onChange:e=>l(e.target.value),onClick:e=>e.stopPropagation()}),p.createElement(b.h.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2"},p.createElement(ec,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})))),p.createElement(y.u,{as:p.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},p.createElement(b.h.Options,{className:"origin-top-right absolute right-0 mt-1 w-full max-h-[300px] overflow-y-auto rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},i.map(e=>p.createElement(b.h.Option,{key:e.key,value:e},({active:t})=>p.createElement("button",{className:eo(t?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-xs w-full text-right")},e.render(e)))))))};g._m.config({paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.31.1/min/vs"}});let eu=0,ed=e=>{e.current?e.current.focus():eu<30&&setTimeout(()=>{eu+=1,ed(e)},100)},ep=({attributes:e,editor:t,element:a,language:n,...r})=>{let[l,i]=p.useState(null),o=(0,g.Ik)(),s=p.useRef(null),c=(0,v.vt)(),[m,u]=p.useState(28);if(p.useEffect(()=>{c&&(0,f.zbr)(t.selection)&&ed(s)},[c,s.current]),"string"!=typeof(a.value||""))throw Error("Element must be of type string for code block");let d=n||a.lang,h=p.useMemo(()=>es(),[]),b=p.useMemo(()=>{let e={"":"plain text"};return o?o.languages.getLanguages().reduce((e,t)=>"plaintext"===t.id?e:{...e,[t.id]:t.id},e):e},[o]);p.useEffect(()=>{o&&(o.languages.typescript.typescriptDefaults.setEagerModelSync(!0),o.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}))},[o]);let y=Object.entries(b).map(([e,t])=>({key:e,label:t,render:e=>e.label})),w=p.useMemo(()=>y.find(e=>e.key===d)??{key:"",label:"Plain Text"},[y,d]);return p.useEffect(()=>{if(l)switch(i(null),l){case"remove":(0,f.$Rk)(t),(0,f.fLV)(t,{type:"p",children:[{text:""}],lang:void 0,value:void 0},{match:e=>{if((0,f.kKo)(e)&&e.type===a.type)return!0}});break;case"insertNext":(0,f.s2K)(t,[{type:f.mnA,children:[{text:""}],lang:void 0,value:void 0}],{select:!0}),(0,f.$Rk)(t);break;case"up":{let e=(0,f.O$c)(t,a);if(!e)return;let n=(0,f.T2j)(t,e);if(!n){(0,f.$Rk)(t),(0,f.s2K)(t,[{type:f.mnA,children:[{text:""}],lang:void 0,value:void 0}],{at:e,select:!0});return}(0,f.$Rk)(t,n)}break;case"down":{let e=(0,f.O$c)(t,a);if(!e)return;let n=(0,f.Mxs)(t,e);n?(0,f.$Rk)(t,n):((0,f.s2K)(t,[{type:f.mnA,children:[{text:""}],lang:void 0,value:void 0}],{select:!0}),(0,f.$Rk)(t))}}},[l]),p.createElement("div",{...e,className:"relative mb-2 mt-0.5 rounded-lg shadow-md p-2 border-gray-200 border"},p.createElement("style",null,`.monaco-editor .editor-widget {
          display: none !important;
          visibility: hidden !important;
        }`),r.children,p.createElement("div",{contentEditable:!1},!n&&p.createElement("div",{className:"flex justify-between pb-2"},p.createElement("div",null),p.createElement(em,{items:y,value:w,defaultQuery:"plaintext",onChange:e=>(0,f.fLV)(t,{lang:e.key})})),p.createElement("div",{style:{height:`${m}px`}},p.createElement(g.ZP,{path:h,onMount:function(e,t){s.current=e,e.onDidContentSizeChange(()=>{u(e.getContentHeight()),e.layout()}),e.addCommand(t.KeyMod.Shift|t.KeyCode.Enter,()=>{e.hasTextFocus()&&i("insertNext")}),e.onKeyDown(t=>{if("ArrowUp"===t.code){let t=e.getSelection();1===t.endLineNumber&&1===t.startLineNumber&&i("up")}if("ArrowDown"===t.code){let t=e.getSelection(),a=e.getModel().getLineCount();t.endLineNumber===a&&t.startLineNumber===a&&i("down")}if("Backspace"===t.code){let t=e.getSelection();1===t.endColumn&&1===t.endLineNumber&&1===t.positionColumn&&1===t.positionLineNumber&&1===t.selectionStartColumn&&1===t.selectionStartLineNumber&&1===t.startColumn&&1===t.startLineNumber&&i("remove")}})},options:{scrollBeyondLastLine:!1,tabSize:2,disableLayerHinting:!0,accessibilitySupport:"off",codeLens:!1,wordWrap:"on",minimap:{enabled:!1},fontSize:14,lineHeight:2,formatOnPaste:!0,lineNumbers:"off",formatOnType:!0,fixedOverflowWidgets:!0,folding:!1,renderLineHighlight:"none",scrollbar:{verticalScrollbarSize:1,horizontalScrollbarSize:1,alwaysConsumeMouseWheel:!1}},language:String(d),value:String(a.value),onChange:e=>{(0,f.fLV)(t,{value:e,lang:d})}}))))},eh="mt-0.5",ef="font-normal",eg=()=>({[f.GDC]:({attributes:e,editor:t,element:a,className:n,...r})=>p.createElement("h1",{className:eo(ef,eh,n,"text-4xl font-medium mb-4 last:mb-0 mt-6 first:mt-0"),...e,...r}),[f.oGK]:({attributes:e,editor:t,element:a,className:n,...r})=>p.createElement("h2",{className:eo(ef,eh,n,"text-3xl font-medium mb-4 last:mb-0 mt-6 first:mt-0"),...e,...r}),[f.o3Y]:({attributes:e,editor:t,element:a,className:n,...r})=>p.createElement("h3",{className:eo(ef,eh,n,"text-2xl font-semibold mb-4 last:mb-0 mt-6 first:mt-0"),...e,...r}),[f.jB_]:({attributes:e,editor:t,element:a,className:n,...r})=>p.createElement("h4",{className:eo(ef,eh,n,"text-xl font-bold mb-4 last:mb-0 mt-6 first:mt-0"),...e,...r}),[f.$H6]:({attributes:e,editor:t,element:a,className:n,...r})=>p.createElement("h5",{className:eo(ef,eh,n,"text-lg font-bold mb-4 last:mb-0 mt-6 first:mt-0"),...e,...r}),[f.KWL]:({attributes:e,editor:t,element:a,className:n,...r})=>p.createElement("h6",{className:eo(ef,eh,n,"text-base font-bold mb-4 last:mb-0 mt-6 first:mt-0"),...e,...r}),[f.JBe]:({attributes:e,className:t,editor:a,element:n,...r})=>p.createElement("div",{className:eo(eh,t,"text-base font-normal mb-4 last:mb-0"),...e,...r}),[f.ahg]:({className:e,attributes:t,editor:a,element:n,...r})=>p.createElement("blockquote",{className:eo("not-italic mb-4 last:mb-0 border-l-3 border-gray-200 pl-3",eh,e),...t,...r}),[f.sTz]:e=>p.createElement(ep,{...e}),html:({attributes:e,editor:t,element:a,children:n,className:r})=>p.createElement("div",{...e,className:eo("font-mono text-sm bg-green-100 cursor-not-allowed mb-4",r)},n,a.value),html_inline:({attributes:e,editor:t,element:a,children:n,className:r})=>p.createElement("span",{...e,className:eo("font-mono bg-green-100 cursor-not-allowed",r)},n,a.value),[f.HtX]:({attributes:e,editor:t,className:a,element:n,...r})=>p.createElement("ul",{className:eo(eh,a,"mb-4 pl-4 list-disc list-inside last:mb-0"),...e,...r}),[f.kN6]:({attributes:e,editor:t,className:a,element:n,...r})=>p.createElement("ol",{className:eo(eh,a,"mb-4 pl-4 list-decimal list-inside last:mb-0"),...e,...r}),[f.f86]:({attributes:e,className:t,editor:a,element:n,...r})=>p.createElement("li",{className:eo("p-0 mt-0 mb-0 list-outside",t),...e,...r}),[f.wl8]:({attributes:e,editor:t,element:a,className:n,...r})=>p.createElement("span",{className:eo(n,"w-full inline-block align-top mb-2"),...e,...r}),[f.uJg]:({attributes:e,editor:t,element:a,nodeProps:n,className:r,...l})=>p.createElement("a",{className:eo(r,"text-blue-500 hover:text-blue-600 transition-color ease-out duration-150 underline"),...e,...l}),[f.QMB]:({editor:e,leaf:t,text:a,attributes:n,className:r,...l})=>p.createElement("code",{className:eo("bg-gray-100 p-1 rounded-sm",r),...n,...l}),[f.mZ5]:({editor:e,leaf:t,text:a,...n})=>p.createElement("em",{...n.attributes,...n}),[f.Qpp]:({editor:e,leaf:t,text:a,...n})=>p.createElement("strong",{...n.attributes,...n}),[f.cIJ]:({attributes:e,className:t,editor:a,element:n,children:r,...l})=>{let i=(0,v.vt)();return p.createElement("div",{className:eo(t,"cursor-pointer relative border bg-gray-200 my-4 first:mt-0 last:mb-0"),...e,...l},r,i&&p.createElement("span",{className:"absolute h-4 -top-2 inset-0 ring-2 ring-blue-100 ring-inset rounded-md z-10 pointer-events-none"}))}}),ev={heading:p.createElement(ew,null),link:p.createElement(function(e){let t=e.title||"insert link";return p.createElement("svg",{height:"24",className:"h-5 w-5",width:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,t),p.createElement("g",{fill:"none"},p.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z",fill:"currentColor"})))},null),quote:p.createElement(function(e){let t=e.title||"format quote";return p.createElement("svg",{height:"24",className:"h-5 w-5",width:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,t),p.createElement("g",{fill:"none"},p.createElement("path",{d:"M6 17h3l2-4V7H5v6h3l-2 4zm8 0h3l2-4V7h-6v6h3l-2 4z",fill:"currentColor"})))},null),image:p.createElement(function(e){let t=e.title||"image";return p.createElement("svg",{className:"h-5 w-5",height:"24",width:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,t),p.createElement("g",{fill:"none"},p.createElement("path",{d:"M19 5v14H5V5h14zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L9 13.14 6 17h12l-3.86-5.14z",fill:"currentColor"})))},null),ul:p.createElement(function(e){let t=e.title||"format list bulleted";return p.createElement("svg",{className:"h-5 w-5",height:"24",width:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,t),p.createElement("g",{fill:"none"},p.createElement("path",{d:"M7 5h14v2H7V5z",fill:"currentColor"}),p.createElement("path",{d:"M4 7.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z",fill:"currentColor"}),p.createElement("path",{d:"M7 11h14v2H7v-2zm0 6h14v2H7v-2zm-3 2.5c.82 0 1.5-.68 1.5-1.5s-.67-1.5-1.5-1.5-1.5.68-1.5 1.5.68 1.5 1.5 1.5z",fill:"currentColor"}),p.createElement("path",{d:"M4 13.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z",fill:"currentColor"})))},null),ol:p.createElement(function(e){let t=e.title||"format list numbered";return p.createElement("svg",{className:"h-5 w-5",height:"24",width:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,t),p.createElement("g",{fill:"none"},p.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z",fill:"currentColor"})))},null),code:p.createElement(function(e){let t=e.title||"code";return p.createElement("svg",{className:"h-5 w-5",height:"24",width:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,t),p.createElement("g",{fill:"none"},p.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z",fill:"currentColor"})))},null),codeBlock:p.createElement(function(e){let t=e.title||"code-block";return p.createElement("svg",{className:"h-5 w-5",stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,t),p.createElement("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),p.createElement("path",{d:"M6.854 4.646a.5.5 0 0 1 0 .708L4.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0zm2.292 0a.5.5 0 0 0 0 .708L11.793 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708 0z"}))},null),bold:p.createElement(function(e){let t=e.title||"format bold";return p.createElement("svg",{className:"h-5 w-5",height:"24",width:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,t),p.createElement("g",{fill:"none"},p.createElement("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z",fill:"currentColor"})))},null),italic:p.createElement(function(e){let t=e.title||"format italic";return p.createElement("svg",{className:"h-5 w-5",height:"24",width:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,t),p.createElement("g",{fill:"none"},p.createElement("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z",fill:"currentColor"})))},null),raw:p.createElement(()=>p.createElement("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:0,role:"img",className:"h-5 w-5",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null),p.createElement("path",{d:"M22.27 19.385H1.73A1.73 1.73 0 010 17.655V6.345a1.73 1.73 0 011.73-1.73h20.54A1.73 1.73 0 0124 6.345v11.308a1.73 1.73 0 01-1.73 1.731zM5.769 15.923v-4.5l2.308 2.885 2.307-2.885v4.5h2.308V8.078h-2.308l-2.307 2.885-2.308-2.885H3.46v7.847zM21.232 12h-2.309V8.077h-2.307V12h-2.308l3.461 4.039z"})),null)},eb=({name:e})=>ev[e],ey=({title:e})=>p.createElement(p.Fragment,null,e&&p.createElement("span",{className:"sr-only"},e),p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})));function ew(e){let t=e.title||"format size";return p.createElement("svg",{height:"24",width:"24",className:"h-5 w-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},p.createElement("title",null,t),p.createElement("g",{fill:"none"},p.createElement("path",{d:"M9 4v3h5v12h3V7h5V4H9zm-6 8h3v7h3v-7h3V9H3v3z",fill:"currentColor"})))}function ex({className:e=""}){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 ${e}`,viewBox:"0 0 20 20",fill:"currentColor"},p.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))}class eE{constructor({id:e,label:t,fields:a,actions:n,buttons:r,global:l,reset:i,loadInitialValues:o,onChange:s,queries:c,...m}){this.global=null,this.loading=!1,this.subscribe=(e,t)=>this.finalForm.subscribe(e,t),this.handleSubmit=async(e,t,a)=>{var n;try{let r=await (null==(n=this.beforeSubmit)?void 0:n.call(this,e));if(r)for(let[e,a]of Object.entries(r))t.change(e,a);let l=await this.onSubmit(r||e,t,a);return t.initialize(e),l}catch(e){return{[k.Ck]:e}}},this.submit=()=>this.finalForm.submit();let u=m.initialValues||{};if(this.__type=m.__type||"form",this.id=e,this.label=t,this.global=l,this.fields=a||[],this.onSubmit=m.onSubmit,this.queries=c||[],this.crudType=m.crudType||"update",this.relativePath=m.relativePath||e,this.finalForm=(0,k.Np)({...m,initialValues:u,onSubmit:this.handleSubmit,mutators:{...E.Z,setFieldData:N.Z,...m.mutators}}),this._reset=i,this.actions=n||[],this.buttons=r||{save:"Save",reset:"Reset"},this.updateFields(this.fields),o&&(this.loading=!0,o().then(e=>{this.updateInitialValues(e)}).finally(()=>{this.loading=!1})),s){let e=!0;this.subscribe(t=>{e?e=!1:s(t)},{values:!0,...(null==m?void 0:m.extraSubscribeValues)||{}})}}get name(){}get values(){if(!this.loading)return this.finalForm.getState().values||this.initialValues}get initialValues(){return this.finalForm.getState().initialValues}get pristine(){return this.finalForm.getState().pristine}get dirty(){return this.finalForm.getState().dirty}get submitting(){return this.finalForm.getState().submitting}get valid(){return this.finalForm.getState().valid}async reset(){this._reset&&await this._reset(),this.finalForm.reset()}updateFields(e){this.fields=e}change(e,t){return this.finalForm.change(e,t)}get mutators(){return this.finalForm.mutators}addQuery(e){this.queries=[...this.queries.filter(t=>t!==e),e]}removeQuery(e){this.queries=this.queries.filter(t=>t!==e)}updateValues(e){this.finalForm.batch(()=>{this.finalForm.getState().active?ek(this.finalForm,e):eN(this.finalForm,e)})}updateInitialValues(e){this.finalForm.batch(()=>{let t=this.values||{};this.finalForm.initialize(e),this.finalForm.getState().active?ek(this.finalForm,t):eN(this.finalForm,t)})}getActiveField(e){return e?this.getFieldGroup({formOrObjectField:this,values:this.finalForm.getState().values,namePathIndex:0,namePath:e.split(".")}):this}getFieldGroup({formOrObjectField:e,values:t={},namePathIndex:a,namePath:n}){let r=n[a],l=e.fields.find(e=>e.name===r),i=t[r],o=a===n.length-1;if(!l)return{...e,fields:e.fields.map(e=>({...e,name:[...n,e.name].join(".")}))};if("object"===l.type){if(l.templates){if(l.list){if(o)return e;{let e=a+1,t=n[e],r=i[t],o=l.templates[r._template],s=[...n.slice(0,e),t].join(".");if(e!==n.length-1)return this.getFieldGroup({formOrObjectField:o,values:r,namePath:n,namePathIndex:a+2});if(!o)throw console.error({field:l,value:i}),Error(`Expected template value for field ${l.name}`);return{...o,name:s,fields:o.fields.map(e=>({...e,name:[s,e.name].join(".")}))}}}}else{if(l.list){let e=a+1,t=n[e],r=i[t],o=[...n.slice(0,e),t].join(".");return e!==n.length-1&&l.fields?this.getFieldGroup({formOrObjectField:l,values:r,namePath:n,namePathIndex:a+2}):{...l,name:o,fields:l.fields.map(e=>({...e,name:[o,e.name].join(".")}))}}{let e=[...n.slice(0,a+1)].join(".");return a!==n.length-1?this.getFieldGroup({formOrObjectField:l,values:i,namePath:n,namePathIndex:a+1}):{...l,name:e,fields:l.fields.map(t=>({...t,name:[e,t.name].join(".")}))}}}}else if("rich-text"===l.type){if(o)return{...e,fields:e.fields.map(e=>({...e,name:[...n.slice(0,a),e.name].join(".")}))};{let t=n.findIndex(e=>"children"===e),r=n.slice(t).findIndex(e=>"props"===e)+t,o=n.slice(t,r).join("."),s=(0,k.u9)(i,o),c=s.props,m=s.name,u=a+Math.max(r,3),d=u+1===n.length,p=l.templates.find(e=>e.name===m),h=n.slice(0,u+2).join(".");if((null==s?void 0:s.type)==="img"){let t=n.slice(0,u+2).join(".");return{...e,name:[t].join("."),fields:[{type:"image",name:[h,"url"].join("."),component:"image"},{type:"string",label:"Alt",name:[h,"alt"].join("."),component:"text"},{type:"string",label:"Caption",name:[h,"caption"].join("."),component:"text"}]}}if(!d)return u===n.length||0===r?{...e,name:n.slice(0,a).join("."),fields:e.fields.map(e=>({...e,name:[...n.slice(0,a),e.name].join(".")}))}:this.getFieldGroup({formOrObjectField:p,values:c,namePath:n,namePathIndex:a+Math.max(4,t+r)});if(!p)throw Error(`Expected template value for field ${s.name}`);return{...p,name:h,fields:p.fields.map(e=>({...e,name:[h,e.name].join(".")}))}}}else{let t=[...n.slice(0,a)].join(".");return t?{...e,name:t,fields:e.fields.map(e=>({...e,name:[t,e.name].join(".")}))}:e}}}function eN(e,t){Object.entries(t).forEach(([t,a])=>{e.change(t,a)})}function ek(e,t,a){let n=e.getState().active;Object.entries(t).forEach(([t,r])=>{let l=a?`${a}.${t}`:t;"object"==typeof r?"string"==typeof n&&n.startsWith(l)?ek(e,r,l):e.change(l,r):l!==n&&e.change(l,r)})}function eC({form:e,fields:t,activeFieldName:a,padding:n=!1}){let r=Q(),[l,i]=p.useState([]),o=p.useCallback(()=>{i(r.plugins.getType("field").all())},[i]);return p.useEffect(()=>o(),[]),X("plugin:add:field",()=>o(),[]),p.createElement(eS,{padding:n},t.map((t,n)=>p.createElement(eD,{key:t.name,field:t,activeFieldName:a,form:e,fieldPlugins:l,index:n})))}let eD=({field:e,form:t,fieldPlugins:a,index:n,activeFieldName:r})=>{let l;if(p.useEffect(()=>{t.mutators.setFieldData(e.name,{tinaField:e})},[t,e]),null===e.component)return null;let i=a.find(t=>t.name===e.component);i&&i.type&&(l=i.type);let o=eM("parse",e,i),s=eM("validate",e,i),c=e.format;!c&&i&&i.format&&(c=i.format);let m=e.name===r;if(e.list&&"string"===e.type&&r){let t=r.split("."),a=t.slice(0,t.length-1).join(".");e.name===a&&(m=!0)}return p.createElement(C.gN,{name:e.name,key:e.name,isEqual:(t,a)=>ez(e,t,a),type:l,parse:o?(t,a)=>o(t,a,e):void 0,format:c?(t,a)=>c(t,a,e):void 0,validate:(t,a,n)=>{if(s)return s(t,a,n,e)}},a=>"string"!=typeof e.component&&null!==e.component?p.createElement(e.component,{...a,form:t.finalForm,tinaForm:t,field:{...e,experimental_focusIntent:m}}):i?p.createElement(i.Component,{...a,experimental_focusIntent:m,form:t.finalForm,tinaForm:t,field:{...e,experimental_focusIntent:m},index:n}):p.createElement("p",null,"Unrecognized field type"))},eS=({padding:e,children:t})=>p.createElement("div",{className:`relative block w-full h-full whitespace-nowrap overflow-x-visible ${e?"pb-5":""}`},t);function eM(e,t,a){let n=t[e];return!n&&a&&a[e]&&(n=a[e]),n}let ez=(e,t,a)=>{let n=(e,t)=>{if("id"!==e)return t};return"rich-text"===e.type?JSON.stringify(t,n)===JSON.stringify(a,n):t===a};p.createContext(!1),D.string,D.string,D.any.isRequired,D.any;let eF=({variant:e="secondary",as:t="button",size:a="medium",busy:n,disabled:r,rounded:l="full",children:i,className:o="",...s})=>{let c={disabled:`pointer-events-none	opacity-30 cursor-not-allowed`,busy:"pointer-events-none opacity-70 cursor-wait",default:""};return p.createElement(t,{className:`icon-parent inline-flex items-center font-medium focus:outline-none focus:ring-2 focus:shadow-outline text-center inline-flex justify-center transition-all duration-150 ease-out  ${{primary:"shadow text-white bg-blue-500 hover:bg-blue-600 focus:ring-blue-500 border-0",secondary:"shadow text-gray-500 hover:text-blue-500 bg-gray-50 hover:bg-white border border-gray-100",white:"shadow text-gray-500 hover:text-blue-500 bg-white hover:bg-gray-50 border border-gray-100",ghost:"text-gray-500 hover:text-blue-500 hover:shadow border border-transparent border-0 hover:border hover:border-gray-200 bg-transparent",danger:"shadow text-white bg-red-500 hover:bg-red-600 focus:ring-red-500"}[e]} ${{small:"text-xs h-8 px-3",medium:"text-sm h-10 px-4",custom:""}[a]} ${c[n?"busy":r?"disabled":"default"]} ${{full:"rounded-full",left:"rounded-l-full",right:"rounded-r-full",custom:""}[l]} ${o}`,...s},i)},e_=({variant:e="secondary",size:t="medium",busy:a,disabled:n,children:r,className:l,...i})=>{let o={disabled:`pointer-events-none	opacity-30 cursor-not-allowed`,busy:"pointer-events-none opacity-70 cursor-wait",default:""};return p.createElement("button",{className:`icon-parent inline-flex items-center border border-transparent text-sm font-medium focus:outline-none focus:ring-2 focus:shadow-outline text-center inline-flex justify-center transition-all duration-150 ease-out rounded-full  ${{primary:"shadow text-white bg-blue-500 hover:bg-blue-600 focus:ring-blue-500",secondary:"shadow text-gray-500 hover:text-blue-500 bg-gray-50 hover:bg-white border border-gray-200",white:"shadow text-gray-500 hover:text-blue-500 bg-white hover:bg-gray-50 border border-gray-200",ghost:"text-gray-500 hover:text-blue-500 hover:shadow border border-transparent hover:border-gray-200 bg-transparent"}[e]} ${{small:"h-7 w-7",medium:"h-9 w-9",custom:""}[t]} ${o[a?"busy":n?"disabled":"default"]} ${l}`,...i},r)},eL=({toolbarItems:e,className:t="w-full"})=>p.createElement(M.fC,null,p.createElement(M.xz,{className:`cursor-pointer relative justify-center inline-flex items-center p-3 text-sm font-medium focus:outline-1 focus:outline-blue-200 pointer-events-auto ${open?"text-blue-400":"text-gray-300 hover:text-blue-500"} ${t}}`},p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}))),p.createElement(M.h_,null,p.createElement(M.VY,{style:{zIndex:2e4},align:"end"},p.createElement("div",{className:"mt-0 -mr-1 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 py-1"},e.map(e=>p.createElement("span",{"data-test":`${e.name}OverflowButton`,key:e.name,onMouseDown:t=>{t.preventDefault(),e.onMouseDown(t)},className:function(...e){return e.filter(Boolean).join(" ")}(e.active?"bg-gray-50 text-blue-500":"bg-white text-gray-600","hover:bg-gray-50 hover:text-blue-500 cursor-pointer pointer-events-auto px-4 py-2 text-sm w-full flex items-center whitespace-nowrap")},p.createElement("div",{className:"mr-2 opacity-80"},e.Icon)," ",e.label))))));var eO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eV=p.createContext&&p.createContext(eO),e$=globalThis&&globalThis.__assign||function(){return(e$=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ej=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};function eP(e){return function(t){return p.createElement(eH,e$({attr:e$({},e.attr)},t),function e(t){return t&&t.map(function(t,a){return p.createElement(t.tag,e$({key:a},t.attr),e(t.child))})}(e.child))}}function eH(e){var t=function(t){var a,n=e.attr,r=e.size,l=e.title,i=ej(e,["attr","size","title"]),o=r||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),p.createElement("svg",e$({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,i,{className:a,style:e$(e$({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),l&&p.createElement("title",null,l),e.children)};return void 0!==eV?p.createElement(eV.Consumer,null,function(e){return t(e)}):t(eO)}function eB(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6 18h12v2H6zm5-14v8.586L6.707 8.293 5.293 9.707 12 16.414l6.707-6.707-1.414-1.414L13 12.586V4z"}}]})(e)}function eI(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"}}]})(e)}function eT(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 19v-4h3l-4-5-4 5h3v4z"}},{tag:"path",attr:{d:"M7 19h2v-2H7c-1.654 0-3-1.346-3-3 0-1.404 1.199-2.756 2.673-3.015l.581-.102.192-.558C8.149 8.274 9.895 7 12 7c2.757 0 5 2.243 5 5v1h1c1.103 0 2 .897 2 2s-.897 2-2 2h-3v2h3c2.206 0 4-1.794 4-4a4.01 4.01 0 0 0-3.056-3.888C18.507 7.67 15.56 5 12 5 9.244 5 6.85 6.611 5.757 9.15 3.609 9.792 2 11.82 2 14c0 2.757 2.243 5 5 5z"}}]})(e)}function eR(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H10c-1.103 0-2 .897-2 2v4H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2v-4h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM4 20V10h10l.002 10H4zm16-6h-4v-4c0-1.103-.897-2-2-2h-4V4h10v10z"}},{tag:"path",attr:{d:"M6 12h6v2H6zm0 4h6v2H6z"}}]})(e)}function eA(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z"}},{tag:"path",attr:{d:"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z"}}]})(e)}function eY(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.001 10h2v5h-2zM11 16h2v2h-2z"}},{tag:"path",attr:{d:"M13.768 4.2C13.42 3.545 12.742 3.138 12 3.138s-1.42.407-1.768 1.063L2.894 18.064a1.986 1.986 0 0 0 .054 1.968A1.984 1.984 0 0 0 4.661 21h14.678c.708 0 1.349-.362 1.714-.968a1.989 1.989 0 0 0 .054-1.968L13.768 4.2zM4.661 19 12 5.137 19.344 19H4.661z"}}]})(e)}function eZ(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.937 8.68c-.011-.032-.02-.063-.033-.094a.997.997 0 0 0-.196-.293l-6-6a.997.997 0 0 0-.293-.196c-.03-.014-.062-.022-.094-.033a.991.991 0 0 0-.259-.051C13.04 2.011 13.021 2 13 2H6c-1.103 0-2 .897-2 2v16c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V9c0-.021-.011-.04-.013-.062a.99.99 0 0 0-.05-.258zM16.586 8H14V5.414L16.586 8zM6 20V4h6v5a1 1 0 0 0 1 1h5l.002 10H6z"}}]})(e)}function eK(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.903 8.586a.997.997 0 0 0-.196-.293l-6-6a.997.997 0 0 0-.293-.196c-.03-.014-.062-.022-.094-.033a.991.991 0 0 0-.259-.051C13.04 2.011 13.021 2 13 2H6c-1.103 0-2 .897-2 2v16c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V9c0-.021-.011-.04-.013-.062a.952.952 0 0 0-.051-.259c-.01-.032-.019-.063-.033-.093zM16.586 8H14V5.414L16.586 8zM6 20V4h6v5a1 1 0 0 0 1 1h5l.002 10H6z"}},{tag:"path",attr:{d:"M8 12h8v2H8zm0 4h8v2H8zm0-8h2v2H8z"}}]})(e)}function eq(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 5h-8.586L9.707 3.293A.997.997 0 0 0 9 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zM4 19V7h16l.002 12H4z"}}]})(e)}function eJ(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.5 4C15.57 4 14 5.57 14 7.5c0 1.554 1.025 2.859 2.43 3.315-.146.932-.547 1.7-1.23 2.323-1.946 1.773-5.527 1.935-7.2 1.907V8.837c1.44-.434 2.5-1.757 2.5-3.337C10.5 3.57 8.93 2 7 2S3.5 3.57 3.5 5.5c0 1.58 1.06 2.903 2.5 3.337v6.326c-1.44.434-2.5 1.757-2.5 3.337C3.5 20.43 5.07 22 7 22s3.5-1.57 3.5-3.5c0-.551-.14-1.065-.367-1.529 2.06-.186 4.657-.757 6.409-2.35 1.097-.997 1.731-2.264 1.904-3.768C19.915 10.438 21 9.1 21 7.5 21 5.57 19.43 4 17.5 4zm-12 1.5C5.5 4.673 6.173 4 7 4s1.5.673 1.5 1.5S7.827 7 7 7s-1.5-.673-1.5-1.5zM7 20c-.827 0-1.5-.673-1.5-1.5a1.5 1.5 0 0 1 1.482-1.498l.13.01A1.495 1.495 0 0 1 7 20zM17.5 9c-.827 0-1.5-.673-1.5-1.5S16.673 6 17.5 6s1.5.673 1.5 1.5S18.327 9 17.5 9z"}}]})(e)}function eG(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM9 9H5V5h4v4zm5 2h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1zm1-6h4v4h-4V5zM3 20a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6zm2-5h4v4H5v-4zm8 5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6zm2-5h4v4h-4v-4z"}}]})(e)}function eW(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.707 17.293 8.414 13H18v-2H8.414l4.293-4.293-1.414-1.414L4.586 12l6.707 6.707z"}}]})(e)}function eU(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z"}},{tag:"path",attr:{d:"M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"}}]})(e)}function eQ(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h2v2H4zm0 5h2v2H4zm0 5h2v2H4zm16-8V6H8.023v2H18.8zM8 11h12v2H8zm0 5h12v2H8z"}}]})(e)}function eX(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 21a1 1 0 0 0 .24 0l4-1a1 1 0 0 0 .47-.26L21 7.41a2 2 0 0 0 0-2.82L19.42 3a2 2 0 0 0-2.83 0L4.3 15.29a1.06 1.06 0 0 0-.27.47l-1 4A1 1 0 0 0 3.76 21 1 1 0 0 0 4 21zM18 4.41 19.59 6 18 7.59 16.42 6zM5.91 16.51 15 7.41 16.59 9l-9.1 9.1-2.11.52z"}}]})(e)}function e0(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m11.293 17.293 1.414 1.414L19.414 12l-6.707-6.707-1.414 1.414L15.586 11H6v2h9.586z"}}]})(e)}function e1(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z"}}]})(e)}let e2=({dotSize:e=8,color:t="white"})=>p.createElement("div",null,p.createElement(e5,{dotSize:e,color:t}),p.createElement(e5,{dotSize:e,color:t,delay:.3}),p.createElement(e5,{dotSize:e,color:t,delay:.5})),e5=({delay:e=0,color:t,dotSize:a})=>p.createElement("span",{className:"inline-block mr-1",style:{animation:"loading-dots-scale-up-and-down 2s linear infinite",animationDelay:`${e}s`,background:t,width:a,height:a,borderRadius:a}}),e4=p.createContext(()=>null);function e3(){return(0,p.useContext)(e4)}let e6=({children:e})=>{let t=p.useRef(null),a=p.useRef(0),n=p.useCallback(e=>t.current?(0,h.createPortal)(e.children({zIndexShift:a.current+=1}),t.current):null,[t,a]);return p.createElement(e4.Provider,{value:n},p.createElement("div",{ref:t,style:{position:"relative",width:"100%",flex:"1 1 0%",overflow:"hidden"}},e))},e7=({pristine:e,reset:t,children:a,...n})=>{let[r,l]=p.useState(!1);return p.createElement(p.Fragment,null,p.createElement(eF,{onClick:()=>{l(e=>!e)},disabled:e,...n},a),r&&p.createElement(e9,{reset:t,close:()=>l(!1)}))},e9=({close:e,reset:t})=>p.createElement(I,null,p.createElement(W,null,p.createElement(J,{close:e},"Reset"),p.createElement(R,{padded:!0},p.createElement("p",null,"Are you sure you want to reset all changes?")),p.createElement(T,null,p.createElement(eF,{style:{flexGrow:2},onClick:e},"Cancel"),p.createElement(eF,{style:{flexGrow:3},variant:"primary",onClick:async()=>{await t(),e()}},"Reset")))),e8=({onDismiss:e,escape:t,click:a,disabled:n,allowClickPropagation:r,document:l,...i})=>{let o=function({onDismiss:e,escape:t=!1,click:a=!1,disabled:n=!1,allowClickPropagation:r=!1,document:l}){let i=(0,p.useRef)();return(0,p.useEffect)(()=>{let o=l?[document,l]:[document],s=e=>{e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()},c=t=>{n||i.current.contains(t.target)||(console.log("did not click main content",t.target,i.current),r||s(t),e(t))},m=t=>{n||27!==t.keyCode||(t.stopPropagation(),e(t))};return a&&o.forEach(e=>e.body.addEventListener("click",c)),t&&o.forEach(e=>e.addEventListener("keydown",m)),()=>{o.forEach(e=>{e.body.removeEventListener("click",c),e.removeEventListener("keydown",m)})}},[a,l,t,n,e]),i}({onDismiss:e,escape:t,click:a,disabled:n,allowClickPropagation:r,document:l});return p.createElement("div",{ref:o,...i})},te=({actions:e,form:t})=>{let[a,n]=(0,p.useState)(!1);return p.createElement(p.Fragment,null,p.createElement(tt,{onClick:()=>n(e=>!e)}),p.createElement(ta,{open:a},p.createElement(e8,{click:!0,escape:!0,disabled:!a,onDismiss:()=>{n(e=>!e)}},e.map((e,a)=>p.createElement(e,{form:t,key:a})))))},tt=({className:e="",...t})=>p.createElement("button",{className:`h-16 w-10 self-stretch bg-transparent bg-center bg-[length:auto_18px] -mr-4 ml-2 outline-none cursor-pointer transition-opacity duration-100 ease-out flex justify-center items-center hover:bg-gray-50 hover:fill-gray-700 ${e}`,...t},p.createElement(Z,null)),ta=({open:e,className:t="",style:a={},...n})=>p.createElement("div",{className:`min-w-[192px] rounded-3xl border border-solid border-[#efefef] block absolute bottom-5 right-5 ${e?"opacity-100":"opacity-0"} transition-all duration-100 ease-out origin-bottom-right shadow-[0_2px_3px_rgba(0,0,0,0.05)] bg-white overflow-hidden z-10 ${t}`,style:{transform:e?"translate3d(0, -28px, 0) scale3d(1, 1, 1)":"translate3d(0, 0, 0) scale3d(0.5, 0.5, 1)",pointerEvents:e?"all":"none",...a},...n});function tn(e){return eP({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"}}]})(e)}function tr(e){return eP({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 388c-72.597 0-132-59.405-132-132 0-72.601 59.403-132 132-132 36.3 0 69.299 15.4 92.406 39.601L278 234h154V80l-51.698 51.702C348.406 99.798 304.406 80 256 80c-96.797 0-176 79.203-176 176s78.094 176 176 176c81.045 0 148.287-54.134 169.401-128H378.85c-18.745 49.561-67.138 84-122.85 84z"}}]})(e)}function tl(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}}]})(e)}function ti(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z"}}]})(e)}p.createContext({currentBranch:null,setCurrentBranch:e=>{console.warn("BranchContext not initialized")}});let to="shadow-inner focus:shadow-outline focus:border-blue-500 focus:outline-none block text-base placeholder:text-gray-300 px-3 py-2 text-gray-600 w-full bg-white border border-gray-200 transition-all ease-out duration-150 focus:text-gray-900 rounded-md",ts=p.forwardRef(({className:e,disabled:t,...a},n)=>p.createElement("input",{ref:n,type:"text",className:`${to} ${t?"opacity-50 pointer-events-none cursor-not-allowed":""} ${e}`,...a})),tc=p.forwardRef(({...e},t)=>p.createElement("textarea",{...e,className:"shadow-inner text-base px-3 py-2 text-gray-600 resize-y focus:shadow-outline focus:border-blue-500 block w-full border border-gray-200 focus:text-gray-900 rounded-md",ref:t,style:{minHeight:"160px"}})),{get:tm,to:tu}=m||(m=a.t(F,2));var td=((n=td||{}).Hex="hex",n.RGB="rgb",n);function tp(e){if(!e)return null;let t=tm(e);if(!t)return null;let a=t.value;return{r:a[0],g:a[1],b:a[2],a:a[3]}}let th={rgb:{getLabel:e=>`R${e.r} G${e.g} B${e.b}`,getValue(e){let t=[e.r,e.g,e.b,e.a];return tu.rgb(t)},parse:tp},hex:{getLabel:e=>"#"+(16777216+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1),getValue(e){let t=[e.r,e.g,e.b,e.a];return tu.hex(t)},parse:tp}},{SketchPicker:tf,BlockPicker:tg}=z,tv=({colorRGBA:e,colorFormat:t,unselectable:a,...n})=>p.createElement("div",{className:"bg-gray-100 rounded-3xl shadow-[0_2px_3px_rgba(0,0,0,0.12)] cursor-pointer w-full m-0",...n},p.createElement("div",{className:"swatch-inner flex items-center justify-center text-[13px] font-bold w-full h-10 rounded-3xl hover:opacity-[.6]",style:{background:e?`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`:"#fff",color:e&&!(.299*e.r+.587*e.g+.114*e.b>186)?"#ffffff":"#000000",transition:"all var(--tina-timing-short) ease-out"}},e?th[t].getLabel(e):"Click to add color")),tb=({triggerBoundingBox:e,openTop:t,className:a="",style:n={},...r})=>p.createElement("div",{className:`fixed z-50 before:content-[""] before:absolute before:left-1/2 before:-translate-x-1/2 before:w-[18px] before:h-[14px] before:bg-gray-200 before:z-10 after:content-[""] after:absolute after:left-1/2 after:-translate-x-1/2 after:w-4 after:h-[13px] after:bg-white after:z-20 ${t?"before:bottom-0 before:mt-[1px] before:translate-y-full color-picker-on-top-clip-path after:bottom-0 after:mb-0.5 after:translate-y-full":"before:top-0 before:mb-[1px] before:-translate-y-full color-picker-clip-path after:top-0 after:mt-0.5 after:-translate-y-full"} ${a}`,style:{top:e?t?e.top:e.bottom:0,left:e?e.left+e.width/2:0,transform:t?"translate3d(-50%, calc(-100% - 8px), 0) scale3d(1, 1, 1)":"translate3d(-50%, 8px, 0) scale3d(1, 1, 1)",animation:`${t?"color-popup-open-top-keyframes":"color-popup-keyframes"} 85ms ease-out both 1`,transformOrigin:`50% ${t?"100%":"0"}`,...n},...r}),ty="transparent",tw=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],tx={sketch:e=>p.createElement(tf,{presetColors:e.presetColors,color:e.color,onChange:e.onChange,disableAlpha:e.disableAlpha,width:e.width}),block:e=>p.createElement(tg,{colors:e.presetColors,color:e.color,onChange:e.onChange,width:e.width})},tE=({colorFormat:e,userColors:t=tw,widget:a="sketch",input:n})=>{let r=e3(),l=p.useRef(null),[i,o]=(0,p.useState)(null),[s,c]=(0,p.useState)(!1),m=()=>{l.current&&o(l.current.getBoundingClientRect())};p.useEffect(()=>{i&&(i.top+i.height/2>window.innerHeight/2?c(!0):c(!1))},[i]),p.useEffect(()=>{let e=!1;setTimeout(()=>{m()},100);let t=()=>{clearTimeout(e),e=setTimeout(m,100)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[l.current]);let u=tx[a];if(!u)throw Error("You must specify a widget type.");let[d,h]=(0,p.useState)(!1),f=(e||td.Hex).toLowerCase(),g=n.value?th[f].parse(n.value):null,v=e=>{let t=e.hex===ty?null:{...e.rgb,a:1};n.onChange(t?th[f].getValue(t):null)},b=e=>{e.stopPropagation();let t=!d;h(t),t&&m()};return p.createElement("div",{className:"relative",ref:l},p.createElement(tv,{onClick:b,colorRGBA:g,colorFormat:f}),d&&p.createElement(r,null,({zIndexShift:e})=>p.createElement(tb,{openTop:s,triggerBoundingBox:i,style:{zIndex:5e3+e}},p.createElement(e8,{click:!0,escape:!0,disabled:!d,onDismiss:b},p.createElement(u,{presetColors:[...t,ty],color:g||{r:0,g:0,b:0,a:0},onChange:v,disableAlpha:!0,width:"240px"})))))},tN=({input:e,field:t,name:a,disabled:n=!1})=>{let r=!!(e.value||e.checked),l=null;if(t.toggleLabels){let e="object"==typeof t.toggleLabels&&"true"in t.toggleLabels&&"false"in t.toggleLabels&&t.toggleLabels;l={true:e?e.true:"Yes",false:e?e.false:"No"}}return p.createElement("div",{className:"flex gap-2 items-center"},l&&p.createElement("span",{className:`text-sm ${r?"text-gray-300":"text-blue-500 font-bold"}`},l.false),p.createElement("div",{className:"relative w-12 h-7"},p.createElement(tk,{id:a,type:"checkbox",...e}),p.createElement("label",{className:"bg-none p-0 outline-none w-12 h-7",style:{opacity:n?.4:1,pointerEvents:n?"none":"inherit"},htmlFor:a,role:"switch"},p.createElement("div",{className:"relative w-[48px] h-7 rounded-3xl bg-white shadow-inner border border-gray-200 pointer-events-none -ml-0.5"},p.createElement("span",{className:`absolute rounded-3xl left-0.5 top-1/2 w-[22px] h-[22px] shadow border transition-all ease-out duration-150 ${r?"bg-blue-500 border-blue-600":"bg-gray-250 border-gray-300"}`,style:{transform:`translate3d(${r?"20px":"0"}, -50%, 0)`}})))),l&&p.createElement("span",{className:`text-sm ${r?"text-blue-500 font-bold":"text-gray-300"}`},l.true))},tk=({disabled:e,...t})=>p.createElement("input",{className:`absolute left-0 top-0 w-12 h-8 opacity-0 m-0 ${e?"cursor-not-allowed pointer-events-none":"cursor-pointer z-20"}`,...t}),tC="shadow appearance-none bg-white block pl-3 pr-8 py-2 truncate w-full text-base cursor-pointer border border-gray-200 focus:outline-none focus:shadow-outline focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md";function tD(e){return"object"==typeof e?e:{value:e,label:e}}function tS(e){return p.createElement("option",{key:e.value,value:e.value},e.label)}let tM=({direction:e,children:t,...a})=>p.createElement("div",{className:`flex w-full ${"horizontal"===e?"flex-wrap gap-y-1 gap-x-3":"flex-col gap-1"}`,...a},t),tz=({checked:e,htmlFor:t,children:a,...n})=>p.createElement("label",{className:"cursor-pointer flex group items-center gap-2",htmlFor:t,...n},p.createElement("span",{className:`relative h-[19px] w-[19px] rounded-full border text-indigo-600 focus:ring-indigo-500 transition ease-out duration-150 ${e?"border-blue-500 bg-blue-500 shadow-sm group-hover:bg-blue-400 group-hover:border-blue-400":"border-gray-200 bg-white shadow-inner group-hover:bg-gray-100"}`},p.createElement(eI,{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[17px] h-[17px] transition ease-out duration-150 ${e?"opacity-100 text-white group-hover:opacity-80":"text-blue-500 opacity-0 grou-hover:opacity-30"}`})),p.createElement("span",{className:`relative transition ease-out duration-150 ${e?"text-gray-800 opacity-100":"text-gray-700 opacity-70 group-hover:opacity-100"}`},a)),tF=({...e})=>p.createElement("input",{className:to,...e}),t_=({onChange:e,value:t,step:a})=>p.createElement(tF,{type:"number",step:a,value:t,onChange:e}),tL="text/*,application/pdf,application/octet-stream,application/json,application/ld+json,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,image/*",tO=e=>Object.assign({},...(e||tL).split(",").map(e=>({[e]:[]}))),tV=e=>/\.(gif|jpg|jpeg|tiff|png|svg|webp|avif)(\?.*)?$/i.test(e),t$=e=>e.startsWith("http")?e:`${window.location.origin}${e}`,{useDropzone:tj}=_,tP=({src:e})=>{let t=/\.svg$/.test(e);return p.createElement("img",{src:e,className:`block max-w-full rounded shadow overflow-hidden max-h-48 lg:max-h-64 h-auto object-contain transition-opacity duration-100 ease-out m-0 bg-gray-200 bg-auto bg-center bg-no-repeat ${t?"min-w-[12rem]":""}`})},tH=({src:e})=>p.createElement("div",{className:"max-w-full w-full flex-1 flex justify-start items-center gap-3"},p.createElement("div",{className:"w-12 h-12 bg-white shadow border border-gray-100 rounded flex justify-center flex-none"},p.createElement(eZ,{className:"w-3/5 h-full fill-gray-300"})),p.createElement("span",{className:"text-base text-left flex-1 text-gray-500 w-full break-words truncate"},e)),tB=p.forwardRef(({onDrop:e,onClear:t,onClick:a,value:n,src:r,loading:l},i)=>{let{getRootProps:o,getInputProps:s}=tj({accept:tO(Q().media.accept||tL),onDrop:e,noClick:!!a});return p.createElement("div",{className:"w-full max-w-full",...o()},p.createElement("input",{...s()}),n?l?p.createElement(tT,null):p.createElement("div",{className:`relative w-full max-w-full flex justify-start ${tV(r)?"items-start gap-3":"items-center gap-2"}`},p.createElement("button",{className:"flex-shrink min-w-0 focus-within:shadow-outline focus-within:border-blue-500 rounded outline-none overflow-visible cursor-pointer border-none hover:opacity-60 transition ease-out duration-100",onClick:a,ref:i},tV(r)?p.createElement(tP,{src:r}):p.createElement(tH,{src:r})),t&&p.createElement(tI,{onClick:e=>{e.stopPropagation(),t()}})):p.createElement("button",{className:"outline-none relative hover:opacity-60 w-full",onClick:a},l?p.createElement(tT,null):p.createElement("div",{className:"text-center rounded-[5px] bg-gray-100 text-gray-300 leading-[1.35] py-3 text-[15px] font-normal transition-all ease-out duration-100 hover:opacity-60"},"Drag 'n' drop a file here,",p.createElement("br",null),"or click to select a file")))}),tI=({onClick:e})=>p.createElement(e_,{variant:"white",className:"flex-none",onClick:e},p.createElement(q,{className:"w-7 h-auto"})),tT=()=>p.createElement("div",{className:"p-4 w-full min-h-[96px] flex flex-col justify-center items-center"},p.createElement(e2,null)),tR=(e,t)=>{let[a,n]=p.useState([]),[r,l]=p.useState(!0);return p.useEffect(()=>{let a=async()=>{n(await Promise.all(t.map(async t=>{try{let a=await e.api.tina.request(`#graphql
            query ($collection: String!){
              collection(collection: $collection) {
                documents(first: -1) {
                  edges {
                    node {
                      ...on Node {
                        id,
                      }
                      ...on Document {
                        _internalSys: _sys {
                          title
                        }
                      }
                    }
                  }
                }
              }
            }
            `,{variables:{collection:t}});return{collection:t,edges:a.collection.documents.edges}}catch(e){return{collection:t,edges:[]}}}))),l(!1)};e&&t.length>0?a():n([])},[e,t]),{optionSets:a,loading:r}},tA=({cms:e,input:t,field:a})=>{let{optionSets:n,loading:r}=tR(e,a.collections),l=p.useRef(null);return(p.useEffect(()=>{l.current&&a.experimental_focusIntent&&l.current.focus()},[a.experimental_focusIntent,l]),!0===r)?p.createElement(e2,{color:"var(--tina-color-primary)"}):p.createElement(p.Fragment,null,p.createElement("select",{ref:l,id:t.name,value:t.value,onChange:t.onChange,className:tC,...t},p.createElement("option",{value:""},"Choose an option"),n.length>0&&n.map(({collection:e,edges:t})=>p.createElement("optgroup",{key:`${e}-group`,label:e},t.map(({node:{id:e,_internalSys:{title:t}}})=>p.createElement("option",{key:`${e}-option`,value:e},t||e))))),p.createElement(tl,{className:"absolute top-1/2 right-3 w-6 h-auto -translate-y-1/2 text-gray-300 group-hover:text-blue-500 transition duration-150 ease-out"}))},tY=(e,t)=>{let[a,n]=p.useState(void 0);return p.useEffect(()=>{let a=async()=>{n((await e.api.tina.request(`#graphql
        query($id: String!) {
          node(id:$id) {
            ... on Document {
              _sys {
                collection {
                  name
                }
                breadcrumbs
              }
            }
          }
        }`,{variables:{id:t}})).node)};e&&t?a():n(void 0)},[e,t]),a},tZ=({cms:e,id:t,children:a})=>{let n=tY(e,t);return n?p.createElement(p.Fragment,null,a(n)):null},tK=({cms:e,input:t})=>{let a=!1!==e.flags.get("tina-admin"),n=e.flags.get("tina-preview")||!1;return a?p.createElement(tZ,{cms:e,id:t.value},a=>"visual"===e.state.editingMode?p.createElement("button",{type:"button",onClick:()=>{e.dispatch({type:"forms:set-active-form-id",value:t.value})},className:"text-gray-700 hover:text-blue-500 flex items-center uppercase text-sm mt-2 mb-2 leading-none"},p.createElement(eA,{className:"h-5 w-auto opacity-80 mr-2"}),"Edit"):p.createElement("a",{href:`${n?`/${n}/index.html#`:"/admin#"}/collections/${a._sys.collection.name}/${a._sys.breadcrumbs.join("/")}`,className:"text-gray-700 hover:text-blue-500 flex items-center uppercase text-sm mt-2 mb-2 leading-none"},p.createElement(eA,{className:"h-5 w-auto opacity-80 mr-2"}),"Edit in CMS")):null},tq=({input:e,value:t,label:a="",icon:n,...r})=>p.createElement("button",{className:"relative whitespace-nowrap flex items-center justify-center flex-1 block font-medium text-base px-3 py-2 text-gray-400 transition-all ease-out duration-150",onClick:()=>{e.onChange(t)},...r},n?p.createElement(n,{className:"w-6 h-auto opacity-70"}):p.createElement("span",{className:"flex-1 truncate max-w-full w-0"},a),p.createElement("span",{className:`absolute whitespace-nowrap px-3 py-2 z-20 font-medium text-base flex items-center justify-center -top-0.5 -right-0.5 -bottom-0.5 -left-0.5 truncate bg-white border border-gray-200 origin-center rounded-md shadow text-blue-500 transition-all ease-out duration-150 ${e.value===t?"opacity-100":"opacity-0"}`},n?p.createElement(n,{className:"w-6 h-auto opacity-70"}):p.createElement("span",{className:"flex-1 truncate max-w-full w-0"},a))),tJ=p.forwardRef(({className:e,disabled:t,error:a,...n},r)=>p.createElement("input",{ref:r,type:"password",className:`shadow-inner focus:shadow-outline focus:border-blue-500 focus:outline-none block text-base placeholder:text-gray-300 px-3 py-2 text-gray-600 w-full bg-white border border-gray-200 transition-all ease-out duration-150 focus:text-gray-900 rounded-md ${t?"opacity-50 pointer-events-none cursor-not-allowed":""} ${e} ${a?"border-red-500 focus:border-red-500 focus:shadow-outline-red":""}`,...n}));r=({tinaForm:e,field:t})=>{let a=Q();return p.useState(!1),p.createElement(p.Fragment,null,p.createElement(tG,{onClick:()=>{if(!0===e.finalForm.getState().invalid){a.alerts.error("Cannot navigate away from an invalid form.");return}a.dispatch({type:"forms:set-active-field-name",value:{formId:e.id,fieldName:t.name}})}},t.label||t.name))},e=>p.createElement(ea,{name:e.input.name,label:!1,description:e.field.description,error:e.meta.error,index:e.index,tinaForm:e.tinaForm},p.createElement(r,{...e}));let tG=({onClick:e,children:t})=>p.createElement("div",{className:"pt-1 mb-5"},p.createElement("button",{onClick:e,className:"group px-4 py-3 bg-white hover:bg-gray-50 shadow focus:shadow-outline focus:border-blue-500 w-full border border-gray-100 hover:border-gray-200 text-gray-500 hover:text-blue-400 focus:text-blue-500 rounded-md flex justify-between items-center gap-2"},p.createElement("span",{className:"text-left text-base font-medium overflow-hidden text-ellipsis whitespace-nowrap flex-1"},t)," ",p.createElement(eX,{className:"h-6 w-auto transition-opacity duration-150 ease-out opacity-80 group-hover:opacity-90"}))),tW=({onClick:e,children:t})=>p.createElement("button",{className:`relative z-40 group text-left w-full bg-white hover:bg-gray-50 py-2 border-t border-b shadow-sm
       border-gray-100 px-6 -mt-px`,onClick:e,tabIndex:-1},p.createElement("div",{className:"flex items-center justify-between gap-3 text-xs tracking-wide font-medium text-gray-700 group-hover:text-blue-400 uppercase max-w-form mx-auto"},t,p.createElement(tn,{className:"h-auto w-5 inline-block opacity-70 -mt-0.5 -mx-0.5"}))),tU=({isExpanded:e,className:t="",style:a={},...n})=>p.createElement("div",{className:`absolute w-full top-0 bottom-0 left-0 flex flex-col justify-between overflow-hidden z-10 ${t}`,style:{pointerEvents:e?"all":"none",...e?{animationName:"fly-in-left",animationDuration:"150ms",animationDelay:"0",animationIterationCount:1,animationTimingFunction:"ease-out",animationFillMode:"backwards"}:{transition:"transform 150ms ease-out",transform:"translate3d(100%, 0, 0)"},...a},...n});et(({input:e,field:t})=>p.createElement(tE,{colorFormat:t.colorFormat,userColors:t.colors,widget:t.widget,input:e})),et(e=>{let t;let a=p.useRef(null),n=Q(),{value:r}=e.input,[l,i]=(0,p.useState)(!1);async function o(t){var a,r;if(t){let l="function"==typeof(null==(r=null==(a=null==n?void 0:n.media)?void 0:a.store)?void 0:r.parse)?n.media.store.parse(t):t;e.input.onChange(l)}}e.field.clearable&&(t=()=>e.input.onChange("")),p.useEffect(()=>{a.current&&e.field.experimental_focusIntent&&a.current.focus()},[e.field.experimental_focusIntent,a]);let s=e.field.uploadDir||(()=>"");return p.createElement(tB,{ref:a,value:r,src:r,loading:l,onClick:()=>{let t=s(e.form.getState().values);n.media.open({allowDelete:!0,directory:t,onSelect:o})},onDrop:async([t],a)=>{i(!0);try{if(t){let a=s(e.form.getState().values),[r]=await n.media.persist([{directory:a,file:t}]);r&&await o(r)}let r={"file-invalid-type":"Invalid file type","file-too-large":"File too large","file-too-small":"File too small","too-many-files":"Too many files"},l=e=>r[e.code]||(console.error(e),"Unknown error");if(a.length>0){let e=[];a.map(t=>{e.push(`${t.file.name}: ${t.errors.map(e=>l(e)).join(", ")}`)}),n.alerts.error(()=>p.createElement(p.Fragment,null,"Upload Failed. ",p.createElement("br",null),e.join(". "),"."))}}catch(e){console.error("Error uploading media asset: ",e)}finally{i(!1)}},onClear:t})}),et(({input:e,field:t})=>p.createElement(t_,{...e,step:t.step})),et(({input:e,field:t,options:a,className:n=""})=>{let r=a||t.options,l=p.useRef(null);return p.useEffect(()=>{l.current&&(null==t?void 0:t.experimental_focusIntent)&&l.current.focus()},[null==t?void 0:t.experimental_focusIntent,l]),p.createElement("div",{className:"relative group"},p.createElement("select",{id:e.name,ref:l,value:e.value,onChange:e.onChange,className:`${tC} ${e.value?"text-gray-700":"text-gray-300"} } ${n}`,...e},r?r.map(tD).map(tS):p.createElement("option",null,e.value)),p.createElement(tl,{className:"absolute top-1/2 right-2 w-6 h-auto -translate-y-1/2 text-gray-300 group-hover:text-blue-500 transition duration-150 ease-out pointer-events-none"}))}),et(({input:e,field:t,options:a})=>{let n=a||t.options,r={};return p.createElement(tM,{id:e.name,direction:t.direction},n?n.map(e=>"object"==typeof e?e:{value:e,label:e}).map(a=>{let n=`field-${t.name}-option-${a.value}`,l=a.value===e.value;return p.createElement("div",{key:a.value,ref:e=>{r[`radio_${a.value}`]=e}},p.createElement("input",{className:"absolute w-0 h-0 opacity-0 cursor-pointer",type:"radio",id:n,name:e.name,value:a.value,onChange:t=>{e.onChange(t.target.value)},checked:l}),p.createElement(tz,{htmlFor:n,checked:l},a.label))}):e.value)});let tQ=et(e=>{let t=p.useRef(null);return p.useEffect(()=>{if(t.current&&e.field.experimental_focusIntent){let e=t.current;e.focus(),e.setSelectionRange(e.value.length,e.value.length)}},[e.field.experimental_focusIntent,t]),p.createElement(tc,{ref:t,...e.input})}),tX=et(e=>{var t;let a=p.useRef(null);return p.useEffect(()=>{a.current&&e.field.experimental_focusIntent&&a.current.focus()},[e.field.experimental_focusIntent,a]),p.createElement(ts,{...e.input,ref:a,disabled:(null==(t=e.field)?void 0:t.disabled)??!1,placeholder:e.field.placeholder})});et(tN),et(({input:e,field:t,form:a,tinaForm:n})=>{let[r,l]=p.useState(""),i=p.useCallback(e=>{var n,r;(null==(r=null==(n=a.getFieldState(t.name))?void 0:n.value)||!r.includes(e))&&e.length&&(a.mutators.insert(t.name,0,e),l(""))},[a,t.name]),o=e.value||[],s=p.useRef(null);return p.useEffect(()=>{s.current&&t.experimental_focusIntent&&s.current.focus()},[t.experimental_focusIntent,s]),p.createElement(p.Fragment,null,p.createElement("div",{className:"flex items-center gap-3"},p.createElement(ts,{ref:s,value:r,onChange:e=>l(e.target.value),placeholder:t.placeholder?t.placeholder:"Add a tag",onKeyPress:e=>{(","===e.key||"Enter"===e.key)&&(e.preventDefault(),i(r))},className:"flex-1"}),p.createElement(e_,{onClick:()=>{i(r)},variant:"primary",size:"small",className:"flex-shrink-0"},p.createElement(A,{className:"w-5/6 h-auto"}))),p.createElement("span",{className:"flex gap-2 flex-wrap mt-2 mb-0"},0===o.length&&p.createElement("span",{className:"text-gray-300 text-sm italic"},"No tags"),o.map((e,a)=>p.createElement(t0,{key:e,tinaForm:n,field:t,index:a},e))))});let t0=({tinaForm:e,field:t,index:a,children:n,...r})=>{let l=p.useCallback(()=>{e.mutators.remove(t.name,a)},[e,t,a]);return p.createElement("span",{className:"rounded-full shadow bg-white border border-gray-150 flex items-center tracking-[0.01em] leading-none text-gray-700",...r},p.createElement("span",{style:{maxHeight:"calc(var(--tina-sidebar-width) - 50px)"},className:"text-sm flex-1 pl-3 pr-1 py-1 truncate"},n),p.createElement("button",{className:"group text-center flex-shrink-0 border-0 bg-transparent pl-1 pr-2 py-1 text-gray-300 hover:text-blue-500 flex items-center justify-center cursor-pointer",onClick:l},p.createElement(e1,{className:"w-4 h-auto transition ease-out duration-100 group-hover:scale-110 origin-center"})))};function t1({onClickPrev:e,onClickSwitch:t,onClickNext:a,switchContent:n,switchColSpan:r,switchProps:l}){return p.createElement("tr",null,p.createElement("th",{className:"rdtPrev",onClick:e},p.createElement("span",null,"")),p.createElement("th",{className:"rdtSwitch",colSpan:r,onClick:t,...l},n),p.createElement("th",{className:"rdtNext",onClick:a},p.createElement("span",null,"")))}class t2 extends p.Component{constructor(){super(...arguments),P(this,"_setDate",e=>{this.props.updateDate(e)})}render(){return p.createElement("div",{className:"rdtDays"},p.createElement("table",null,p.createElement("thead",null,this.renderNavigation(),this.renderDayHeaders()),p.createElement("tbody",null,this.renderDays()),this.renderFooter()))}renderNavigation(){let e=this.props.viewDate,t=e.localeData();return p.createElement(t1,{onClickPrev:()=>this.props.navigate(-1,"months"),onClickSwitch:()=>this.props.showView("months"),onClickNext:()=>this.props.navigate(1,"months"),switchContent:t.months(e)+" "+e.year(),switchColSpan:5,switchProps:{"data-value":this.props.viewDate.month()}})}renderDayHeaders(){let e=(function(e){let t=e.firstDayOfWeek(),a=[],n=0;return e._weekdaysMin.forEach(function(e){a[(7+n++-t)%7]=e}),a})(this.props.viewDate.localeData()).map((e,t)=>p.createElement("th",{key:e+t,className:"dow"},e));return p.createElement("tr",null,e)}renderDays(){let e=this.props.viewDate,t=e.clone().startOf("month"),a=e.clone().endOf("month"),n=[[],[],[],[],[],[]],r=e.clone().subtract(1,"months");r.date(r.daysInMonth()).startOf("week");let l=r.clone().add(42,"d"),i=0;for(;r.isBefore(l);)n[Math.floor(i++/7)].push(this.renderDay(r,t,a)),r.add(1,"d");return n.map((e,t)=>p.createElement("tr",{key:`${l.month()}_${t}`},e))}renderDay(e,t,a){let n=this.props.selectedDate,r={key:e.format("M_D"),"data-value":e.date(),"data-month":e.month(),"data-year":e.year()},l="rdtDay";return e.isBefore(t)?l+=" rdtOld":e.isAfter(a)&&(l+=" rdtNew"),n&&e.isSame(n,"day")&&(l+=" rdtActive"),e.isSame(this.props.moment(),"day")&&(l+=" rdtToday"),this.props.isValidDate(e)?r.onClick=this._setDate:l+=" rdtDisabled",r.className=l,this.props.renderDay(r,e.clone(),n&&n.clone())}renderFooter(){if(!this.props.timeFormat)return;let e=this.props.viewDate;return p.createElement("tfoot",null,p.createElement("tr",null,p.createElement("td",{onClick:()=>this.props.showView("time"),colSpan:7,className:"rdtTimeToggle"},e.format(this.props.timeFormat))))}}P(t2,"defaultProps",{isValidDate:()=>!0,renderDay:(e,t)=>p.createElement("td",{...e},t.date())});class t5 extends p.Component{constructor(){super(...arguments),P(this,"_updateSelectedMonth",e=>{this.props.updateDate(e)})}render(){return p.createElement("div",{className:"rdtMonths"},p.createElement("table",null,p.createElement("thead",null,this.renderNavigation())),p.createElement("table",null,p.createElement("tbody",null,this.renderMonths())))}renderNavigation(){let e=this.props.viewDate.year();return p.createElement(t1,{onClickPrev:()=>this.props.navigate(-1,"years"),onClickSwitch:()=>this.props.showView("years"),onClickNext:()=>this.props.navigate(1,"years"),switchContent:e,switchColSpan:"2"})}renderMonths(){let e=[[],[],[]];for(let a=0;a<12;a++){var t;((t=a)<4?e[0]:t<8?e[1]:e[2]).push(this.renderMonth(a))}return e.map((e,t)=>p.createElement("tr",{key:t},e))}renderMonth(e){let t;let a=this.props.selectedDate,n="rdtMonth";this.isDisabledMonth(e)?n+=" rdtDisabled":t=this._updateSelectedMonth,a&&a.year()===this.props.viewDate.year()&&a.month()===e&&(n+=" rdtActive");let r={key:e,className:n,"data-value":e,onClick:t};return this.props.renderMonth?this.props.renderMonth(r,e,this.props.viewDate.year(),this.props.selectedDate&&this.props.selectedDate.clone()):p.createElement("td",{...r},this.getMonthText(e))}isDisabledMonth(e){let t=this.props.isValidDate;if(!t)return!1;let a=this.props.viewDate.clone().set({month:e}),n=a.endOf("month").date()+1;for(;n-- >1;)if(t(a.date(n)))return!1;return!0}getMonthText(e){var t;let a=this.props.viewDate;return(t=a.localeData().monthsShort(a.month(e)).substring(0,3)).charAt(0).toUpperCase()+t.slice(1)}}class t4 extends p.Component{constructor(){super(...arguments),P(this,"disabledYearsCache",{}),P(this,"_updateSelectedYear",e=>{this.props.updateDate(e)})}render(){return p.createElement("div",{className:"rdtYears"},p.createElement("table",null,p.createElement("thead",null,this.renderNavigation())),p.createElement("table",null,p.createElement("tbody",null,this.renderYears())))}renderNavigation(){let e=this.getViewYear();return p.createElement(t1,{onClickPrev:()=>this.props.navigate(-10,"years"),onClickSwitch:()=>this.props.showView("years"),onClickNext:()=>this.props.navigate(10,"years"),switchContent:`${e}-${e+9}`})}renderYears(){let e=this.getViewYear(),t=[[],[],[]];for(let n=e-1;n<e+11;n++){var a;((a=n-e)<3?t[0]:a<7?t[1]:t[2]).push(this.renderYear(n))}return t.map((e,t)=>p.createElement("tr",{key:t},e))}renderYear(e){let t;let a=this.getSelectedYear(),n="rdtYear";this.isDisabledYear(e)?n+=" rdtDisabled":t=this._updateSelectedYear,a===e&&(n+=" rdtActive");let r={key:e,className:n,"data-value":e,onClick:t};return this.props.renderYear(r,e,this.props.selectedDate&&this.props.selectedDate.clone())}getViewYear(){return 10*parseInt(this.props.viewDate.year()/10,10)}getSelectedYear(){return this.props.selectedDate&&this.props.selectedDate.year()}isDisabledYear(e){let t=this.disabledYearsCache;if(void 0!==t[e])return t[e];let a=this.props.isValidDate;if(!a)return!1;let n=this.props.viewDate.clone().set({year:e}),r=n.endOf("year").dayOfYear()+1;for(;r-- >1;)if(a(n.dayOfYear(r)))return t[e]=!1,!1;return t[e]=!0,!0}}P(t4,"defaultProps",{renderYear:(e,t)=>p.createElement("td",{...e},t)});let t3={hours:{min:0,max:23,step:1},minutes:{min:0,max:59,step:1},seconds:{min:0,max:59,step:1},milliseconds:{min:0,max:999,step:1}};class t6 extends p.Component{constructor(e){var t;let a;super(e),this.constraints=(t=e.timeConstraints,a={},Object.keys(t3).forEach(e=>{a[e]={...t3[e],...t[e]||{}}}),a),this.state=this.getTimeParts(e.selectedDate||e.viewDate)}render(){let e=[],t=this.state;return this.getCounters().forEach((a,n)=>{n&&"ampm"!==a&&e.push(p.createElement("div",{key:`sep${n}`,className:"rdtCounterSeparator"},":")),e.push(this.renderCounter(a,t[a]))}),p.createElement("div",{className:"rdtTime"},p.createElement("table",null,this.renderHeader(),p.createElement("tbody",null,p.createElement("tr",null,p.createElement("td",null,p.createElement("div",{className:"rdtCounters"},e))))))}renderCounter(e,t){return"hours"===e&&this.isAMPM()&&0==(t=(t-1)%12+1)&&(t=12),"ampm"===e&&(t=-1!==this.props.timeFormat.indexOf(" A")?this.props.viewDate.format("A"):this.props.viewDate.format("a")),p.createElement("div",{key:e,className:"rdtCounter"},p.createElement("span",{className:"rdtBtn",onMouseDown:t=>this.onStartClicking(t,"increase",e)},""),p.createElement("div",{className:"rdtCount"},t),p.createElement("span",{className:"rdtBtn",onMouseDown:t=>this.onStartClicking(t,"decrease",e)},""))}renderHeader(){if(!this.props.dateFormat)return;let e=this.props.selectedDate||this.props.viewDate;return p.createElement("thead",null,p.createElement("tr",null,p.createElement("td",{className:"rdtSwitch",colSpan:"4",onClick:()=>this.props.showView("days")},e.format(this.props.dateFormat))))}onStartClicking(e,t,a){if(e&&e.button&&0!==e.button)return;if("ampm"===a)return this.toggleDayPart();let n={},r=document.body;n[a]=this[t](a),this.setState(n),this.timer=setTimeout(()=>{this.increaseTimer=setInterval(()=>{n[a]=this[t](a),this.setState(n)},70)},500),this.mouseUpListener=()=>{clearTimeout(this.timer),clearInterval(this.increaseTimer),this.props.setTime(a,parseInt(this.state[a],10)),r.removeEventListener("mouseup",this.mouseUpListener),r.removeEventListener("touchend",this.mouseUpListener)},r.addEventListener("mouseup",this.mouseUpListener),r.addEventListener("touchend",this.mouseUpListener)}toggleDayPart(){let e=parseInt(this.state.hours,10);e>=12?e-=12:e+=12,this.props.setTime("hours",e)}increase(e){let t=this.constraints[e],a=parseInt(this.state[e],10)+t.step;return a>t.max&&(a=t.min+(a-(t.max+1))),t7(e,a)}decrease(e){let t=this.constraints[e],a=parseInt(this.state[e],10)-t.step;return a<t.min&&(a=t.max+1-(t.min-a)),t7(e,a)}getCounters(){let e=[],t=this.props.timeFormat;return -1!==t.toLowerCase().indexOf("h")&&(e.push("hours"),-1!==t.indexOf("m")&&(e.push("minutes"),-1!==t.indexOf("s")&&(e.push("seconds"),-1!==t.indexOf("S")&&e.push("milliseconds")))),this.isAMPM()&&e.push("ampm"),e}isAMPM(){return -1!==this.props.timeFormat.toLowerCase().indexOf(" a")}getTimeParts(e){let t=e.hours();return{hours:t7("hours",t),minutes:t7("minutes",e.minutes()),seconds:t7("seconds",e.seconds()),milliseconds:t7("milliseconds",e.milliseconds()),ampm:t<12?"am":"pm"}}componentDidUpdate(e){this.props.selectedDate?this.props.selectedDate!==e.selectedDate&&this.setState(this.getTimeParts(this.props.selectedDate)):e.viewDate!==this.props.viewDate&&this.setState(this.getTimeParts(this.props.viewDate))}}function t7(e,t){let a={hours:1,minutes:2,seconds:2,milliseconds:3},n=t+"";for(;n.length<a[e];)n="0"+n;return n}function t9(e,t){return(t9=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function t8(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ae=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),a=function(){};return window.addEventListener("testPassiveEventSupport",a,t),window.removeEventListener("testPassiveEventSupport",a,t),e}},at=(void 0===l&&(l=0),function(){return++l}),aa={},an={},ar=["touchstart","touchmove"];function al(e,t){var a={};return -1!==ar.indexOf(t)&&u&&(a.passive=!e.props.preventDefault),a}let ai={YEARS:"years",MONTHS:"months",DAYS:"days",TIME:"time"},ao=function(){},as=D.oneOfType([D.instanceOf(L),D.instanceOf(Date),D.string]);class ac extends p.Component{constructor(e){super(e),P(this,"_renderCalendar",()=>{let e=this.props,t=this.state,a={viewDate:t.viewDate.clone(),selectedDate:this.getSelectedDate(),isValidDate:e.isValidDate,updateDate:this._updateDate,navigate:this._viewNavigate,moment:L,showView:this._showView};switch(t.currentView){case ai.YEARS:return a.renderYear=e.renderYear,p.createElement(t4,{...a});case ai.MONTHS:return a.renderMonth=e.renderMonth,p.createElement(t5,{...a});case ai.DAYS:return a.renderDay=e.renderDay,a.timeFormat=this.getFormat("time"),p.createElement(t2,{...a});default:return a.dateFormat=this.getFormat("date"),a.timeFormat=this.getFormat("time"),a.timeConstraints=e.timeConstraints,a.setTime=this._setTime,p.createElement(t6,{...a})}}),P(this,"_showView",(e,t)=>{let a=(t||this.state.viewDate).clone(),n=this.props.onBeforeNavigate(e,this.state.currentView,a);n&&this.state.currentView!==n&&(this.props.onNavigate(n),this.setState({currentView:n}))}),P(this,"viewToMethod",{days:"date",months:"month",years:"year"}),P(this,"nextView",{days:"time",months:"days",years:"months"}),P(this,"_updateDate",e=>{let t=this.state.currentView,a=this.getUpdateOn(this.getFormat("date")),n=this.state.viewDate.clone();n[this.viewToMethod[t]](parseInt(e.target.getAttribute("data-value"),10)),"days"===t&&(n.month(parseInt(e.target.getAttribute("data-month"),10)),n.year(parseInt(e.target.getAttribute("data-year"),10)));let r={viewDate:n};t===a?(r.selectedDate=n.clone(),r.inputValue=n.format(this.getFormat("datetime")),void 0===this.props.open&&this.props.input&&this.props.closeOnSelect&&this._closeCalendar(),this.props.onChange(n.clone())):this._showView(this.nextView[t],n),this.setState(r)}),P(this,"_viewNavigate",(e,t)=>{let a=this.state.viewDate.clone();a.add(e,t),e>0?this.props.onNavigateForward(e,t):this.props.onNavigateBack(-e,t),this.setState({viewDate:a})}),P(this,"_setTime",(e,t)=>{let a=(this.getSelectedDate()||this.state.viewDate).clone();a[e](t),this.props.value||this.setState({selectedDate:a,viewDate:a.clone(),inputValue:a.format(this.getFormat("datetime"))}),this.props.onChange(a)}),P(this,"_openCalendar",()=>{this.isOpen()||this.setState({open:!0},this.props.onOpen)}),P(this,"_closeCalendar",()=>{this.isOpen()&&this.setState({open:!1},()=>{this.props.onClose(this.state.selectedDate||this.state.inputValue)})}),P(this,"_handleClickOutside",()=>{let e=this.props;e.input&&this.state.open&&void 0===e.open&&e.closeOnClickOutside&&this._closeCalendar()}),P(this,"_onInputFocus",e=>{this.callHandler(this.props.inputProps.onFocus,e)&&this._openCalendar()}),P(this,"_onInputChange",e=>{if(!this.callHandler(this.props.inputProps.onChange,e))return;let t=e.target?e.target.value:e,a=this.localMoment(t,this.getFormat("datetime")),n={inputValue:t};a.isValid()?(n.selectedDate=a,n.viewDate=a.clone().startOf("month")):n.selectedDate=null,this.setState(n,()=>{this.props.onChange(a.isValid()?a:this.state.inputValue)})}),P(this,"_onInputKeyDown",e=>{this.callHandler(this.props.inputProps.onKeyDown,e)&&9===e.which&&this.props.closeOnTab&&this._closeCalendar()}),P(this,"_onInputClick",e=>{this.callHandler(this.props.inputProps.onClick,e)&&this._openCalendar()}),this.state=this.getInitialState()}render(){return p.createElement(ad,{className:this.getClassName(),onClickOut:this._handleClickOutside},this.renderInput(),p.createElement("div",{className:"rdtPicker"},this.renderView()))}renderInput(){if(!this.props.input)return;let e={type:"text",className:"form-control",value:this.getInputValue(),...this.props.inputProps,onFocus:this._onInputFocus,onChange:this._onInputChange,onKeyDown:this._onInputKeyDown,onClick:this._onInputClick};return this.props.renderInput?p.createElement("div",null,this.props.renderInput(e,this._openCalendar,this._closeCalendar)):p.createElement("input",{...e})}renderView(){return this.props.renderView(this.state.currentView,this._renderCalendar)}getInitialState(){let e=this.props,t=this.getFormat("datetime"),a=this.parseDate(e.value||e.initialValue,t);return this.checkTZ(),{open:!e.input,currentView:e.initialViewMode||this.getInitialView(),viewDate:this.getInitialViewDate(a),selectedDate:a&&a.isValid()?a:void 0,inputValue:this.getInitialInputValue(a)}}getInitialViewDate(e){let t;let a=this.props.initialViewDate;if(a){if((t=this.parseDate(a,this.getFormat("datetime")))&&t.isValid())return t;am('The initialViewDated given "'+a+'" is not valid. Using current date instead.')}else if(e&&e.isValid())return e.clone();return this.getInitialDate()}getInitialDate(){let e=this.localMoment();return e.hour(0).minute(0).second(0).millisecond(0),e}getInitialView(){let e=this.getFormat("date");return e?this.getUpdateOn(e):ai.TIME}parseDate(e,t){let a;return e&&"string"==typeof e?a=this.localMoment(e,t):e&&(a=this.localMoment(e)),a&&!a.isValid()&&(a=null),a}getClassName(){let e="rdt",t=this.props,a=t.className;return Array.isArray(a)?e+=" "+a.join(" "):a&&(e+=" "+a),t.input||(e+=" rdtStatic"),this.isOpen()&&(e+=" rdtOpen"),e}isOpen(){return!this.props.input||(void 0===this.props.open?this.state.open:this.props.open)}getUpdateOn(e){return this.props.updateOnView?this.props.updateOnView:e.match(/[lLD]/)?ai.DAYS:-1!==e.indexOf("M")?ai.MONTHS:-1!==e.indexOf("Y")?ai.YEARS:ai.DAYS}getLocaleData(){let e=this.props;return this.localMoment(e.value||e.defaultValue||new Date).localeData()}getDateFormat(){let e=this.getLocaleData(),t=this.props.dateFormat;return!0===t?e.longDateFormat("L"):t||""}getTimeFormat(){let e=this.getLocaleData(),t=this.props.timeFormat;return!0===t?e.longDateFormat("LT"):t||""}getFormat(e){if("date"===e)return this.getDateFormat();if("time"===e)return this.getTimeFormat();let t=this.getDateFormat(),a=this.getTimeFormat();return t&&a?t+" "+a:t||a}updateTime(e,t,a,n){let r={},l=n?"selectedDate":"viewDate";r[l]=this.state[l].clone()[e](t,a),this.setState(r)}localMoment(e,t,a){a=a||this.props;let n=null;return n=a.utc?L.utc(e,t,a.strictParsing):a.displayTimeZone?L.tz(e,t,a.displayTimeZone):L(e,t,a.strictParsing),a.locale&&n.locale(a.locale),n}checkTZ(){let{displayTimeZone:e}=this.props;!e||this.tzWarning||L.tz||(this.tzWarning=!0,am('displayTimeZone prop with value "'+e+'" is used but moment.js timezone is not loaded.',"error"))}componentDidUpdate(e){if(e===this.props)return;let t=!1,a=this.props;["locale","utc","displayZone","dateFormat","timeFormat"].forEach(function(n){e[n]!==a[n]&&(t=!0)}),t&&this.regenerateDates(),a.value&&a.value!==e.value&&this.setViewDate(a.value),this.checkTZ()}regenerateDates(){let e=this.props,t=this.state.viewDate.clone(),a=this.state.selectedDate&&this.state.selectedDate.clone();e.locale&&(t.locale(e.locale),a&&a.locale(e.locale)),e.utc?(t.utc(),a&&a.utc()):e.displayTimeZone?(t.tz(e.displayTimeZone),a&&a.tz(e.displayTimeZone)):(t.locale(),a&&a.locale());let n={viewDate:t,selectedDate:a};a&&a.isValid()&&(n.inputValue=a.format(this.getFormat("datetime"))),this.setState(n)}getSelectedDate(){if(void 0===this.props.value)return this.state.selectedDate;let e=this.parseDate(this.props.value,this.getFormat("datetime"));return!!(e&&e.isValid())&&e}getInitialInputValue(e){let t=this.props;return t.inputProps.value?t.inputProps.value:e&&e.isValid()?e.format(this.getFormat("datetime")):t.value&&"string"==typeof t.value?t.value:t.initialValue&&"string"==typeof t.initialValue?t.initialValue:""}getInputValue(){let e=this.getSelectedDate();return e?e.format(this.getFormat("datetime")):this.state.inputValue}setViewDate(e){let t;if(!e||!(t="string"==typeof e?this.localMoment(e,this.getFormat("datetime")):this.localMoment(e))||!t.isValid())return am("Invalid date passed to the `setViewDate` method: "+e);this.setState({viewDate:t})}navigate(e){this._showView(e)}callHandler(e,t){return!e||!1!==e(t)}}function am(e,t){let a="undefined"!=typeof window&&window.console;a&&(t||(t="warn"),a[t]("***react-datetime:"+e))}P(ac,"propTypes",{value:as,initialValue:as,initialViewDate:as,initialViewMode:D.oneOf([ai.YEARS,ai.MONTHS,ai.DAYS,ai.TIME]),onOpen:D.func,onClose:D.func,onChange:D.func,onNavigate:D.func,onBeforeNavigate:D.func,onNavigateBack:D.func,onNavigateForward:D.func,updateOnView:D.string,locale:D.string,utc:D.bool,displayTimeZone:D.string,input:D.bool,dateFormat:D.oneOfType([D.string,D.bool]),timeFormat:D.oneOfType([D.string,D.bool]),inputProps:D.object,timeConstraints:D.object,isValidDate:D.func,open:D.bool,strictParsing:D.bool,closeOnSelect:D.bool,closeOnTab:D.bool,renderView:D.func,renderInput:D.func,renderDay:D.func,renderMonth:D.func,renderYear:D.func}),P(ac,"defaultProps",{onOpen:ao,onClose:ao,onCalendarOpen:ao,onCalendarClose:ao,onChange:ao,onNavigate:ao,onBeforeNavigate:function(e){return e},onNavigateBack:ao,onNavigateForward:ao,dateFormat:!0,timeFormat:!0,utc:!1,className:"",input:!0,inputProps:{},timeConstraints:{},isValidDate:function(){return!0},strictParsing:!0,closeOnSelect:!1,closeOnTab:!0,closeOnClickOutside:!0,renderView:(e,t)=>t()}),P(ac,"moment",L);class au extends p.Component{constructor(){super(...arguments),P(this,"container",p.createRef())}render(){return p.createElement("div",{className:this.props.className,ref:this.container},this.props.children)}handleClickOutside(e){this.props.onClickOut(e)}setClickOutsideRef(){return this.container.current}}let ad=(c=au.displayName||au.name||"Component",s=o=function(e){function t(t){var a;return(a=e.call(this,t)||this).__outsideClickHandler=function(e){if("function"==typeof a.__clickOutsideHandlerProp){a.__clickOutsideHandlerProp(e);return}var t=a.getInstance();if("function"==typeof t.props.handleClickOutside){t.props.handleClickOutside(e);return}if("function"==typeof t.handleClickOutside){t.handleClickOutside(e);return}throw Error("WrappedComponent: "+c+" lacks a handleClickOutside(event) function for processing outside click events.")},a.__getComponentNode=function(){var e=a.getInstance();return i&&"function"==typeof i.setClickOutsideRef?i.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():(0,h.findDOMNode)(e)},a.enableOnClickOutside=function(){if("undefined"!=typeof document&&!an[a._uid]){void 0===u&&(u=ae()),an[a._uid]=!0;var e=a.props.eventTypes;e.forEach||(e=[e]),aa[a._uid]=function(e){null!==a.componentNode&&(a.props.preventDefault&&e.preventDefault(),a.props.stopPropagation&&e.stopPropagation(),!(a.props.excludeScrollbar&&(document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY)))&&function(e,t,a){if(e===t)return!0;for(;e.parentNode||e.host;){var n;if(e.parentNode&&((n=e)===t||(n.correspondingElement?n.correspondingElement.classList.contains(a):n.classList.contains(a))))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,a.componentNode,a.props.outsideClickIgnoreClass)===document&&a.__outsideClickHandler(e)},e.forEach(function(e){document.addEventListener(e,aa[a._uid],al(t8(a),e))})}},a.disableOnClickOutside=function(){delete an[a._uid];var e=aa[a._uid];if(e&&"undefined"!=typeof document){var t=a.props.eventTypes;t.forEach||(t=[t]),t.forEach(function(t){return document.removeEventListener(t,e,al(t8(a),t))}),delete aa[a._uid]}},a.getRef=function(e){return a.instanceRef=e},a._uid=at(),a}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t9(t,e);var a=t.prototype;return a.getInstance=function(){if(au.prototype&&!au.prototype.isReactComponent)return this;var e=this.instanceRef;return e.getInstance?e.getInstance():e},a.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(i&&"function"==typeof i.handleClickOutside&&(this.__clickOutsideHandlerProp=i.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw Error("WrappedComponent: "+c+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var e=this.props;e.excludeScrollbar;var t=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t.indexOf(a=l[n])>=0||(r[a]=e[a]);return r}(e,["excludeScrollbar"]);return au.prototype&&au.prototype.isReactComponent?t.ref=this.getRef:t.wrappedRef=this.getRef,t.disableOnClickOutside=this.disableOnClickOutside,t.enableOnClickOutside=this.enableOnClickOutside,(0,p.createElement)(au,t)},t}(p.Component),o.displayName="OnClickOutside("+c+")",o.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:i&&i.excludeScrollbar||!1,outsideClickIgnoreClass:"ignore-react-onclickoutside",preventDefault:!1,stopPropagation:!1},o.getClass=function(){return au.getClass?au.getClass():au},s);et(({input:e,field:{dateFormat:t,timeFormat:a,...n}})=>p.createElement(p.Fragment,null,p.createElement(ap,{value:e.value,onFocus:e.onFocus,onChange:e.onChange,dateFormat:t||"MMM DD, YYYY",timeFormat:a||!1,inputProps:{className:to},...n})));let ap=e=>{let[t,a]=(0,p.useState)(!1),n=(0,p.useRef)(null);return(0,p.useEffect)(()=>{let e=e=>{n.current&&e.target&&(n.current.contains(e.target)?a(!0):a(!1))};return document.addEventListener("mouseup",e,!1),()=>{document.removeEventListener("mouseup",e,!1)}},[document]),p.useEffect(()=>{n.current&&setTimeout(()=>{let t=n.current.querySelector('input[type="text"]');e.experimental_focusIntent&&t&&t&&t.focus()},100)},[e.experimental_focusIntent,n]),p.createElement(p.Fragment,null,p.createElement("div",{className:"tina-date-field",ref:n},p.createElement(ac,{...e,isOpen:t})))};et(({input:e,field:t,options:a,disabled:n=!1})=>{let r=a||t.options;return p.createElement("div",{className:`flex w-full ${"horizontal"===t.direction?"flex-wrap gap-y-1 gap-x-3":"flex-col gap-1"}`,id:e.name},null==r?void 0:r.map(e=>"object"==typeof e?e:{value:e,label:e}).map(a=>{let r=`field-${t.name}-option-${a.value}`,l=!!e.value&&e.value.includes(a.value);return p.createElement("div",{key:a.value},p.createElement("input",{className:"absolute w-0 h-0 opacity-0 cursor-pointer",type:"checkbox",name:e.name,id:r,value:a.value,checked:l,disabled:n,onChange:t=>{!0===t.target.checked?e.onChange([...e.value,t.target.value]):e.onChange([...e.value.filter(e=>e!==t.target.value)])}}),p.createElement("label",{className:"cursor-pointer flex group items-center gap-2",htmlFor:r},p.createElement("span",{className:`relative h-[18px] w-[18px] rounded border text-indigo-600 focus:ring-indigo-500 transition ease-out duration-150 ${l?"border-blue-500 bg-blue-500 shadow-sm group-hover:bg-blue-400 group-hover:border-blue-400":"border-gray-200 bg-white shadow-inner group-hover:bg-gray-100"}`},p.createElement(eI,{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[17px] h-[17px] transition ease-out duration-150 ${l?"opacity-100 text-white group-hover:opacity-80":"text-blue-500 opacity-0 grou-hover:opacity-30"}`})),p.createElement("span",{className:`relative transition ease-out duration-150 ${l?"text-gray-800 opacity-100":"text-gray-700 opacity-70 group-hover:opacity-100"}`},a.label)))}))}),et(({input:e,field:t})=>{let a=Q();return p.createElement("div",null,p.createElement("div",{className:"relative group"},p.createElement(tA,{cms:a,input:e,field:t})),p.createElement(tK,{cms:a,input:e}))}),et(({input:e,field:t,options:a})=>{let n=a||t.options,r=t.direction||"horizontal";return p.createElement(p.Fragment,null,p.createElement("input",{type:"text",id:e.name,className:"hidden",...e}),p.createElement("div",{className:`flex ${"horizontal"===r?"divide-x":"flex-col divide-y"} divide-gray-150 shadow-inner bg-gray-50 border border-gray-200 w-full justify-between rounded-md`},n?n.map(t=>{let a="object"==typeof t?t:{value:t,label:t};return a.icon?p.createElement(tq,{key:a.value,input:e,value:a.value,icon:a.icon}):p.createElement(tq,{key:a.value,input:e,value:a.value,label:a.label})}):e.value))});let ah="********";et(({field:e,form:t,meta:a,input:n,children:r})=>{let l=p.useRef(null),i=p.useRef(null),[o,s]=p.useState(!1),[c,m]=p.useState(),[u,d]=p.useState(),[h,f]=p.useState(n.value.passwordChangeRequired);return p.useEffect(()=>{c?c===u?(s(!1),t.change(e.name,{value:c,passwordChangeRequired:h})):(s(!0),t.change(e.name,void 0)):(s(!1),t.change(e.name,{passwordChangeRequired:h}))},[c,u,h]),p.createElement("div",{className:"flex flex-col"},p.createElement("div",{className:"flex flex-row space-x-4"},p.createElement(tJ,{autoComplete:"off",value:c??ah,ref:l,disabled:(null==e?void 0:e.disabled)??!1,error:o,placeholder:e.placeholder||"Password",onKeyDown:e=>{void 0===c&&m(""),void 0===u&&d("")},onChange:e=>{m(e.target.value)}}),p.createElement(tJ,{autoComplete:"off",ref:i,value:u??ah,disabled:(null==e?void 0:e.disabled)??!1,error:o,placeholder:e.confirmPlaceholder||"Confirm Password",onKeyDown:e=>{f(!0),void 0===c&&m(""),void 0===u&&d("")},onChange:e=>{d(e.target.value)}}),p.createElement(eF,{variant:"secondary",disabled:void 0===c&&void 0===u,onClick:()=>{s(!1),m(void 0),d(void 0),f(void 0),t.change(e.name,void 0)}},"Reset")),p.createElement("div",{className:"flex w-full items-center pl-1 pt-3"},p.createElement(tN,{field:{name:"passwordChangeRequired",component:"toggle"},input:{value:h??!0,onChange:()=>f(!h)},name:"passwordChangeRequired"}),p.createElement("div",null,p.createElement("label",{className:"block font-sans text-xs font-semibold text-gray-700 whitespace-normal h-full items-center ml-1"},"Require Password Change on Next Login"))))});class af{constructor(e){this.events=e,this.plugins={}}getType(e){return this.plugins[e]=this.plugins[e]||new ag(e,this.events)}findOrCreateMap(e){return this.getType(e)}add(e){this.findOrCreateMap(e.__type).add(e)}remove(e){this.findOrCreateMap(e.__type).remove(e)}all(e){return this.findOrCreateMap(e).all()}}class ag{constructor(e,t){this.__type=e,this.events=t,this.__plugins={}}add(e){e.__type||(e.__type=this.__type),this.__plugins[e.name]=e,this.events.dispatch({type:`plugin:add:${this.__type}`})}all(){return Object.keys(this.__plugins).map(e=>this.__plugins[e])}find(e){return this.__plugins[e]}remove(e){let t="string"==typeof e?e:e.name,a=this.__plugins[t];return delete this.__plugins[t],this.events.dispatch({type:`plugin:remove:${this.__type}`}),a}subscribe(e){return this.events.subscribe(`plugin:*:${this.__type}`,e)}}class av{constructor(){this.listeners=new Set}subscribe(e,t){let a=("string"==typeof e?[e]:e).map(e=>new ab(e,t));return a.forEach(e=>this.listeners.add(e)),()=>{a.forEach(e=>this.listeners.delete(e))}}dispatch(e){this.listeners&&Array.from(this.listeners.values()).forEach(t=>t.handleEvent(e))}}class ab{constructor(e,t){this.eventPattern=e,this.callback=t}handleEvent(e){return!!this.watchesEvent(e)&&(this.callback(e),!0)}watchesEvent(e){if("*"===this.eventPattern)return!0;let t=e.type.split(":"),a=this.eventPattern.split(":"),n=0,r=!1;for(;!r&&n<a.length;){let e="*"===a[n],l=a[n]===t[n];r=!(e||l),n++}return!r}}class ay{constructor(){this.accept="*"}async persist(e){return e.map(({directory:e,file:t})=>({id:t.name,type:"file",directory:e,filename:t.name}))}async list(){return{items:[],nextOffset:0}}async delete(){}}let aw=class{constructor(e,t){this.store=e,this.events=t,this._pageSize=36}get isConfigured(){return!(this.store instanceof ay)}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=e,this.events.dispatch({type:"media:pageSize",pageSize:e})}open(e={}){this.events.dispatch({type:"media:open",...e})}get accept(){return this.store.accept}async persist(e){try{this.events.dispatch({type:"media:upload:start",uploaded:e});let t=await this.store.persist(e);return this.events.dispatch({type:"media:upload:success",uploaded:e,media:t}),t}catch(t){throw console.error(t),this.events.dispatch({type:"media:upload:failure",uploaded:e,error:t}),t}}async delete(e){try{this.events.dispatch({type:"media:delete:start",media:e}),await this.store.delete(e),this.events.dispatch({type:"media:delete:success",media:e})}catch(t){throw this.events.dispatch({type:"media:delete:failure",media:e,error:t}),t}}async list(e){try{this.events.dispatch({type:"media:list:start",...e});let t=await this.store.list(e);return this.events.dispatch({type:"media:list:success",...e,media:t}),t}catch(t){throw this.events.dispatch({type:"media:list:failure",...e,error:t}),t}}};class ax extends Error{constructor(e){super(e.message),this.ERR_TYPE="MediaListError",this.title=e.title,this.docsLink=e.docsLink}}new ax({title:"Unauthorized",message:"You don't have access to this resource.",docsLink:"https://tina.io/docs/reference/media/overview"}),new ax({title:"Bad Route",message:"The Cloudinary API route is missing or misconfigured.",docsLink:"https://tina.io/docs/reference/media/external/authentication/"}),new ax({title:"An Error Occurred",message:"Something went wrong accessing your media from Tina Cloud.",docsLink:""});class aE{constructor(e){this.events=e,this._flags=new Map}get(e){return this._flags.get(e)}set(e,t){this._flags.set(e,t),this.events.dispatch({type:"flag:set",key:e,value:t})}}let aN=class{constructor(e={}){this._enabled=!1,this.api={},this.unsubscribeHooks={},this.events=new av,this.media=new aw(new ay,this.events),this.enable=()=>{this._enabled=!0,this.events.dispatch(aN.ENABLED)},this.disable=()=>{this._enabled=!1,this.events.dispatch(aN.DISABLED)},this.toggle=()=>{this.enabled?this.disable():this.enable()},this.plugins=new af(this.events),this.flags=new aE(this.events),e.media?this.media.store=e.media:this.media.store=new ay,e.mediaOptions&&e.mediaOptions.pageSize&&(this.media.pageSize=e.mediaOptions.pageSize),e.plugins&&e.plugins.forEach(e=>this.plugins.add(e)),e.apis&&Object.entries(e.apis).forEach(([e,t])=>this.registerApi(e,t)),e.enabled&&this.enable()}registerApi(e,t){if(this.unsubscribeHooks[e]&&this.unsubscribeHooks[e](),t.events instanceof av){let a=t.events.subscribe("*",this.events.dispatch),n=this.events.subscribe("*",e=>t.events.dispatch(e));this.unsubscribeHooks[e]=()=>{a(),n()}}this.api[e]=t}get enabled(){return this._enabled}get disabled(){return!this._enabled}};function ak({Component:e,props:t,...a}){return{__type:"screen",layout:"popup",...a,Component:a=>p.createElement(e,{...a,...t})}}function aC(e,t){return t=>p.createElement(ea,{name:t.input.name,label:`${e} Field not Registered`,tinaForm:t.tinaForm},p.createElement("p",{className:"whitespace-normal text-[15px] mt-2"},"The ",e," field is not registered. Some built-in field types are not bundled by default in an effort to control bundle size. Consult the Tina docs to learn how to use this field type."),p.createElement("p",{className:"whitespace-normal text-[15px] mt-2"},p.createElement("a",{className:"text-blue-500 underline",href:"https://tina.io/docs/editing/markdown/#registering-the-field-plugins",target:"_blank",rel:"noreferrer noopener"},"Tina Docs: Registering Field Plugins")))}function aD({navigateNext:e,navigatePrev:t,hasNext:a,hasPrev:n,variant:r="white"}){return p.createElement("div",{className:"w-full flex flex-shrink-0 justify-end gap-2 items-center"},p.createElement(eF,{variant:r,disabled:!n,onClick:t},p.createElement(eW,{className:"w-6 h-full mr-2 opacity-70"})," Previous"),p.createElement(eF,{variant:r,disabled:!a,onClick:e},"Next ",p.createElement(e0,{className:"w-6 h-full ml-2 opacity-70"})))}function aS({item:e,onClick:t,active:a}){let n="dir"===e.type?eq:eK,r=(e.thumbnails||{})["75x75"];return p.createElement("li",{className:`group relative flex shrink-0 items-center transition duration-150 ease-out cursor-pointer border-b border-gray-150 ${a?"bg-gradient-to-r from-white to-gray-50/50 text-blue-500 hover:bg-gray-50":"bg-white hover:bg-gray-50/50 hover:text-blue-500"}`,onClick:()=>{a?t(!1):t(e)}},e.new&&p.createElement("span",{className:"absolute top-1.5 left-1.5 rounded-full shadow bg-green-100 border border-green-200 text-[10px] tracking-wide	 font-bold text-green-600 px-1.5 py-0.5 z-10"},"NEW"),p.createElement("div",{className:"w-16 h-16 bg-gray-50 border-r border-gray-150 overflow-hidden flex justify-center flex-shrink-0"},tV(r)?p.createElement("img",{className:"object-contain object-center w-full h-full origin-center transition-all duration-150 ease-out group-hover:scale-110",src:r,alt:e.filename}):p.createElement(n,{className:"w-1/2 h-full fill-gray-300"})),p.createElement("span",{className:"text-base flex-grow w-full break-words truncate px-3 py-2"},e.filename))}function aM({item:e,active:t,onClick:a}){let n="dir"===e.type?eq:eK,r=(e.thumbnails||{})["400x400"];return p.createElement("li",{className:`relative pb-[100%] h-0 block border border-gray-100 rounded-md overflow-hidden flex justify-center shrink-0 w-full transition duration-150 ease-out ${t?"shadow-outline":"shadow hover:shadow-md hover:scale-103 hover:border-gray-150"} ${"dir"===e.type?"cursor-pointer":""}`},e.new&&p.createElement("span",{className:"absolute top-1.5 left-1.5 rounded-full shadow bg-green-100 border border-green-200 text-[10px] tracking-wide	 font-bold text-green-600 px-1.5 py-0.5 z-10"},"NEW"),p.createElement("button",{className:"absolute w-full h-full flex items-center justify-center bg-white",onClick:()=>{t?a(!1):a(e)}},tV(r)?p.createElement("img",{className:"object-contain object-center w-full h-full",src:r,alt:e.filename}):p.createElement("div",{className:"p-4 w-full flex flex-col gap-4 items-center justify-center"},p.createElement(n,{className:"w-[30%] h-auto fill-gray-300"}),p.createElement("span",{className:"block text-base text-gray-600 w-full break-words truncate"},e.filename))))}aN.ENABLED={type:"cms:enable"},aN.DISABLED={type:"cms:disable"},p.createContext(null),aC("Markdown"),aC("HTML");let az=({className:e="",...t})=>p.createElement("button",{className:"capitalize transition-colors duration-150 border-0 bg-transparent hover:text-blue-500 "+e,...t});function aF({directory:e="",setDirectory:t}){let a=function(e){var t,a;let n=RegExp("(?<prevDir>.*)/");return null==(a=null==(t=e.match(n))?void 0:t.groups)?void 0:a.prevDir}(e=e.replace(/^\/|\/$/g,""))||"";return"."===a&&(a=""),p.createElement("div",{className:"w-full flex items-center text-[16px] text-gray-300"},""!==e&&p.createElement(e_,{variant:"ghost",className:"mr-2",onClick:()=>t(a)},p.createElement(K,{className:"w-7 h-auto fill-gray-300 hover:fill-gray-900 transition duration-150 ease-out"})),p.createElement(az,{onClick:()=>t(""),className:""===e?"text-gray-500 font-bold":"text-gray-300 font-medium after:pl-1.5 after:content-['/']"},"Media"),e&&e.split("/").map((e,a,n)=>{let r=n.slice(0,a+1).join("/");return p.createElement(az,{className:"pl-1.5 "+(a+1===n.length?"text-gray-500 font-bold":"text-gray-300 font-medium after:pl-1.5 after:content-['/']"),key:r,onClick:()=>{t(r)}},e)}))}let a_=({close:e,deleteFunc:t,filename:a})=>p.createElement(I,null,p.createElement(W,null,p.createElement(J,{close:e},"Delete ",a),p.createElement(R,{padded:!0},p.createElement("p",null,"Are you sure you want to delete ",p.createElement("strong",null,a),"?")),p.createElement(T,null,p.createElement(eF,{style:{flexGrow:2},onClick:e},"Cancel"),p.createElement(eF,{style:{flexGrow:3},variant:"danger",onClick:()=>{t(),e()}},"Delete")))),aL=({onSubmit:e,close:t})=>{let[a,n]=p.useState("");return p.createElement(I,null,p.createElement(W,null,p.createElement(J,{close:t},"New Folder"),p.createElement(R,{padded:!0},p.createElement("p",{className:"text-base text-gray-700 mb-2"},"Please provide a name for your folder."),p.createElement("p",{className:"text-sm text-gray-500 mb-4 italic"},p.createElement("span",{className:"font-bold"},"Note"),"  If you navigate away before uploading a media item, the folder will disappear."),p.createElement(tF,{value:a,placeholder:"Folder Name",required:!0,onChange:e=>n(e.target.value)})),p.createElement(T,null,p.createElement(eF,{style:{flexGrow:2},onClick:t},"Cancel"),p.createElement(eF,{disabled:!a,style:{flexGrow:3},variant:"primary",onClick:()=>{a&&(e(a),t())}},"Create New Folder"))))},aO=({label:e,description:t,value:a})=>{let[n,r]=p.useState(!1),[l,i]=p.useState(!1);return p.createElement("div",{className:"w-full"},e&&p.createElement("label",{className:"w-full mb-1 block flex-1  text-sm font-bold leading-5 text-gray-700"},e),p.createElement("span",{onClick:()=>{!0!==n&&(r(!0),setTimeout(()=>{i(!0)},2500),setTimeout(()=>{r(!1),i(!1)},3e3),navigator.clipboard.writeText(a))},className:`shadow-inner text-base leading-5 whitespace-normal break-all px-3 py-2 text-gray-600 w-full bg-gray-50 border border-gray-200 transition-all ease-out duration-150 rounded-md relative overflow-hidden appearance-none flex items-center w-full cursor-pointer hover:bg-white hover:text-blue-500  ${n?"pointer-events-none":""}`},p.createElement(eR,{className:"relative text-blue-500 shrink-0 w-5 h-auto mr-1.5 -ml-0.5 z-20"})," ",a," ",n&&p.createElement("span",{className:`${l?"opacity-0":"opacity-100"} text-blue-500 transition-opacity	duration-500 absolute right-0 w-full h-full px-3 py-2 bg-white bg-opacity-90 flex items-center justify-center text-center tracking-wide font-medium z-10`},p.createElement("span",null,"Copied to clipboard!"))),t&&p.createElement("p",{className:"mt-2 text-sm text-gray-500"},t))},{useDropzone:aV}=_,a$=function(...e){let[t,a,n]=[0,e.length-1,"/"],r=RegExp("^"+n),l=RegExp(n+"$");return(e=e.map(function(e,n){return n===t&&"file://"===e||(n>t&&(e=e.replace(r,"")),n<a&&(e=e.replace(l,""))),e})).join(n)},aj=new ax({title:"Error fetching media",message:"Something went wrong while requesting the resource.",docsLink:"https://tina.io/docs/media/#media-store"}),aP=({activeItem:e,close:t,selectMediaItem:a,deleteMediaItem:n,allowDelete:r})=>{let l=e?(e.thumbnails||{})["1000x1000"]:"";return p.createElement("div",{className:`shrink-0 h-full flex flex-col items-start gap-3 overflow-y-auto bg-white border-l border-gray-100 bg-white shadow-md transition ease-out duration-150 ${e?"p-4 opacity-100 w-[35%] max-w-[560px] min-w-[240px]":"translate-x-8 opacity-0 w-[0px]"}`},e&&p.createElement(p.Fragment,null,p.createElement("div",{className:"flex grow-0 shrink-0 gap-2 w-full items-center justify-between"},p.createElement("h3",{className:"text-lg text-gray-600 w-full max-w-full break-words block truncate flex-1"},e.filename),p.createElement(e_,{variant:"ghost",className:"group grow-0 shrink-0",onClick:t},p.createElement(e1,{className:"w-7 h-auto text-gray-500 opacity-50 group-hover:opacity-100 transition duration-150 ease-out"}))),tV(l)?p.createElement("div",{className:"w-full max-h-[75%]"},p.createElement("img",{className:"block border border-gray-100 rounded-md overflow-hidden object-center object-contain max-w-full max-h-full m-auto shadow",src:l,alt:e.filename})):p.createElement("span",{className:"p-3 border border-gray-100 rounded-md overflow-hidden bg-gray-50 shadow"},p.createElement(eK,{className:"w-14 h-auto fill-gray-300"})),p.createElement("div",{className:"grow h-full w-full shrink flex flex-col gap-3 items-start justify-start"},p.createElement(aO,{value:t$(e.src),label:"URL"})),p.createElement("div",{className:"shrink-0 w-full flex flex-col justify-end items-start"},p.createElement("div",{className:"flex w-full gap-3"},a&&p.createElement(eF,{size:"medium",variant:"primary",className:"grow",onClick:()=>a(e)},"Insert",p.createElement(eB,{className:"ml-1 -mr-0.5 w-6 h-auto text-white opacity-70"})),r&&p.createElement(eF,{variant:"white",size:"medium",className:"grow max-w-[40%]",onClick:n},"Delete",p.createElement(q,{className:"ml-1 -mr-0.5 w-6 h-auto text-red-500 opacity-70"}))))))},aH=({onClick:e,uploading:t})=>p.createElement(eF,{variant:"primary",size:"custom",className:"text-sm h-10 px-6",busy:t,onClick:e},t?p.createElement(e2,null):p.createElement(p.Fragment,null,"Upload ",p.createElement(eT,{className:"w-6 h-full ml-2 opacity-70"}))),aB=e=>{let{extraText:t,...a}=e;return p.createElement("div",{className:"w-full h-full flex flex-col items-center justify-center",...a},t&&p.createElement("p",null,e),p.createElement(e2,{color:"var(--tina-color-primary)"}))},aI=({children:e})=>p.createElement("div",{className:"h-full flex-1 text-gray-700 flex flex-col relative bg-gray-50 outline-none active:outline-none focus:outline-none"},e),aT=(0,p.createContext)(void 0),aR=({children:e})=>{var t,a,n;let r=Q(),l=r.api.tina.isLocalMode,i=null==(n=null==(a=null==(t=r.api.tina.schema.schema)?void 0:t.config)?void 0:a.media)?void 0:n.tina,o=!!((null==i?void 0:i.mediaRoot)||(null==i?void 0:i.publicFolder))&&!l,[s,c]=(0,p.useState)(o?"loading":"synced");return(0,p.useEffect)(()=>{let e=async()=>{o&&c((await r.api.tina.getProject()).mediaBranch?"synced":"needs-sync")};r.media.store.isStatic||e()},[]),"needs-sync"==s?p.createElement("div",{className:"h-full flex items-center justify-center p-6 bg-gradient-to-t from-gray-200 to-transparent"},p.createElement("div",{className:"rounded-lg border shadow-sm px-4 lg:px-6 py-3 lg:py-4 bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-200 mx-auto mb-12"},p.createElement("div",{className:"flex items-start sm:items-center gap-2"},p.createElement(eY,{className:"w-7 h-auto flex-shrink-0 text-yellow-400 -mt-px"}),p.createElement("div",{className:"flex-1 flex flex-col items-start gap-0.5 text-base text-yellow-700"},"Media needs to be turned on for this project.",p.createElement("a",{className:"transition-all duration-150 ease-out text-blue-500 hover:text-blue-400 hover:underline underline decoration-blue-200 hover:decoration-blue-400 font-medium flex items-center justify-start gap-1",target:"_blank",href:`${r.api.tina.appDashboardLink}/media`},"Sync Your Media In Tina Cloud.",p.createElement(eU,{className:"w-5 h-auto flex-shrink-0"})))))):p.createElement(aT.Provider,{value:{syncStatus:s}},e)},aA=()=>{let e=(0,p.useContext)(aT);if(!e)throw Error("useSyncStatus must be used within a SyncStatusProvider");return e},aY=()=>{let{syncStatus:e}=aA();return p.createElement("div",{className:"p-12 text-xl opacity-50 text-center"},"synced"==e?"Drag and drop assets here":"Loading...")},aZ=({title:e,message:t,docsLink:a,...n})=>p.createElement("div",{className:"h-3/4 text-center flex flex-col justify-center",...n},p.createElement("h2",{className:"mb-3 text-xl text-gray-600"},e),p.createElement("div",{className:"mb-3 text-base text-gray-700"},t),p.createElement("a",{href:a,target:"_blank",rel:"noreferrer noopener",className:"font-bold text-blue-500 hover:text-blue-600 hover:underline transition-all ease-out duration-150"},"Learn More")),aK=({viewMode:e,setViewMode:t})=>{let a={base:"relative whitespace-nowrap flex items-center justify-center flex-1 block font-medium text-base py-1 transition-all ease-out duration-150 border",active:"bg-white text-blue-500 shadow-inner border-gray-50 border-t-gray-100",inactive:"bg-gray-50 text-gray-400 shadow border-gray-100 border-t-white"};return p.createElement("div",{className:"grow-0 flex justify-between rounded-md border border-gray-100"},p.createElement("button",{className:`${a.base} px-2.5 rounded-l-md ${"grid"===e?a.active:a.inactive}`,onClick:()=>{t("grid")}},p.createElement(eG,{className:"w-6 h-full opacity-70"})),p.createElement("button",{className:`${a.base} px-2 rounded-r-md ${"list"===e?a.active:a.inactive}`,onClick:()=>{t("list")}},p.createElement(eQ,{className:"w-8 h-full opacity-70"})))};ak({name:"Media Manager",Component:function({allowDelete:e,onSelect:t,close:a,...n}){let r,l;let i=Q(),[o,s]=(0,p.useState)(()=>i.media.isConfigured?"loading":"not-configured"),[c,m]=p.useState(!1),[u,d]=p.useState(!1),[h,f]=(0,p.useState)(aj),[g,v]=(0,p.useState)(n.directory),[b,y]=(0,p.useState)({items:[],nextOffset:void 0}),[w,x]=(0,p.useState)("grid"),[E,N]=(0,p.useState)(!1),[k,C]=(0,p.useState)([]),[D,S]=(0,p.useState)(""),M=k[k.length-1],z=()=>C([]),F=k.length>0,_=!!b.nextOffset;function L(){s("loading"),i.media.list({offset:M,limit:i.media.pageSize,directory:g,thumbnailSizes:[{w:75,h:75},{w:400,h:400},{w:1e3,h:1e3}]}).then(e=>{y(e),s("loaded")}).catch(e=>{console.error(e),"MediaListError"===e.ERR_TYPE?f(e):f(aj),s("error")})}(0,p.useEffect)(()=>{if(i.media.isConfigured)return L(),i.events.subscribe(["media:delete:success","media:pageSize"],L)},[M,g,i.media.isConfigured]);let O=e=>{e?"dir"===e.type?(v("."===e.directory||""===e.directory?e.filename:a$(e.directory,e.filename)),z()):N(e):N(!1)};e&&(r=e=>{i.media.delete(e)}),t&&(l=e=>{t(e),a&&a()});let[V,$]=(0,p.useState)(!1),{getRootProps:j,getInputProps:P,isDragActive:H}=aV({accept:tO(i.media.accept||tL),multiple:!0,onDrop:async(e,t)=>{try{$(!0);let a=await i.media.persist(e.map(e=>({directory:g||"/",file:e}))),n={"file-invalid-type":"Invalid file type","file-too-large":"File too large","file-too-small":"File too small","too-many-files":"Too many files"},r=e=>n[e.code]||(console.error(e),"Unknown error");if(t.length>0){let e=[];t.map(t=>{e.push(`${t.file.name}: ${t.errors.map(e=>r(e)).join(", ")}`)}),i.alerts.error(()=>p.createElement(p.Fragment,null,"Upload Failed. ",p.createElement("br",null),e.join(". "),"."))}0!==a.length&&(N(a[0]),y(e=>({items:[...a.map(e=>({...e,new:!0})),...e.items],nextOffset:e.nextOffset})))}catch{}$(!1)}}),{onClick:B,...I}=j();if((0,p.useEffect)(function(){let e=null==document?void 0:document.body;return e.style.overflow="hidden",()=>{e.style.overflow="auto"}},[]),"loading"===o||V)return p.createElement(aB,{extraText:D});if("not-configured"===o)return p.createElement(aZ,{title:"No Media Store Configured",message:"To use the media manager, you need to configure a Media Store.",docsLink:"https://tina.io/docs/reference/media/overview/"});if("error"===o){let{title:e,message:t,docsLink:a}=h;return p.createElement(aZ,{title:e,message:t,docsLink:a})}return p.createElement(p.Fragment,null,c&&p.createElement(a_,{filename:E?E.filename:"",deleteFunc:()=>{E&&(r(E),N(!1))},close:()=>m(!1)}),u&&p.createElement(aL,{onSubmit:e=>{v(t=>t?a$(t,e):e),z()},close:()=>d(!1)}),p.createElement(aI,null,p.createElement(aR,null,p.createElement("div",{className:"flex flex-wrap items-center bg-gray-50 border-b border-gray-150 gap-4 py-3 px-5 shadow-sm flex-shrink-0"},p.createElement("div",{className:"flex flex-1 items-center gap-4"},p.createElement(aK,{viewMode:w,setViewMode:x}),p.createElement(aF,{directory:g,setDirectory:v})),i.media.store.isStatic?null:p.createElement("div",{className:"flex flex-wrap items-center gap-4"},p.createElement(eF,{busy:!1,variant:"white",onClick:L,className:"whitespace-nowrap"},"Refresh",p.createElement(tr,{className:"w-6 h-full ml-2 opacity-70 text-blue-500"})),p.createElement(eF,{busy:!1,variant:"white",onClick:()=>{d(!0)},className:"whitespace-nowrap"},"New Folder",p.createElement(eq,{className:"w-6 h-full ml-2 opacity-70 text-blue-500"})),p.createElement(aH,{onClick:B,uploading:V}))),p.createElement("div",{className:"flex h-full overflow-hidden bg-white"},p.createElement("div",{className:"flex w-full flex-col h-full @container"},p.createElement("ul",{...I,className:`h-full grow overflow-y-auto transition duration-150 ease-out bg-gradient-to-b from-gray-50/50 to-gray-50 ${0===b.items.length||"list"===w&&"w-full flex flex-1 flex-col justify-start -mb-px"} ${b.items.length>0&&"grid"===w&&"w-full p-4 gap-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 4xl:grid-cols-6 6xl:grid-cols-9 auto-rows-auto content-start justify-start"} ${H?"border-2 border-blue-500 rounded-lg":""}`},p.createElement("input",{...P()}),"loaded"===o&&0===b.items.length&&p.createElement(aY,null),"list"===w&&b.items.map(e=>p.createElement(aS,{key:e.id,item:e,onClick:O,active:E&&E.id===e.id})),"grid"===w&&b.items.map(e=>p.createElement(aM,{key:e.id,item:e,onClick:O,active:E&&E.id===e.id}))),p.createElement("div",{className:"bg-gradient-to-r to-gray-50/50 from-gray-50 shrink-0 grow-0 border-t border-gray-150 py-3 px-5 shadow-sm z-10"},p.createElement(aD,{hasNext:_,navigateNext:()=>{b.nextOffset&&C([...k,b.nextOffset])},hasPrev:F,navigatePrev:()=>{C(k.slice(0,k.length-1))}}))),p.createElement(aP,{activeItem:E,close:()=>N(!1),selectMediaItem:l,allowDelete:!i.media.store.isStatic&&e,deleteMediaItem:()=>{m(!0)}})))))},Icon:function(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M20 4v12H8V4h12m0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 9.67l1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"}}]})(e)},layout:"fullscreen",props:{allowDelete:!0}}),ak({name:"Change Password",Component:function(e){let t=Q(),a=t.api.tina,[n,r]=(0,p.useState)(""),[l,i]=(0,p.useState)(""),[o,s]=(0,p.useState)(!1),[c,m]=(0,p.useState)(null),[u,d]=(0,p.useState)("idle"),[h,f]=(0,p.useState)(!1);(0,p.useEffect)(()=>{var e;null==(e=null==a?void 0:a.authProvider)||e.getUser().then(e=>f((null==e?void 0:e.passwordChangeRequired)??!1))},[]);let g=null;o&&n!==l&&(g="Passwords do not match"),o&&!n&&(g="Please enter a password");let v=async()=>{var e;m(null),d("busy");let l=await t.api.tina.request("mutation($password: String!) { updatePassword(password: $password) }",{variables:{password:n}});(null==l?void 0:l.updatePassword)?(s(!1),r(""),i(""),m("Password updated"),f(!1),await new Promise(e=>setTimeout(e,1e3)),null==(e=null==a?void 0:a.authProvider)||e.logout().then(async()=>{"function"==typeof(null==a?void 0:a.onLogout)&&(await a.onLogout(),await new Promise(e=>setTimeout(e,500))),window.location.href=new URL(window.location.href).pathname}).catch(e=>console.error(e))):m("Error updating password"),d("idle")};return p.createElement(p.Fragment,null,p.createElement("div",{className:"flex justify-center items-center h-full"},p.createElement("div",{className:"flex flex-col space-y-8 p-6"},h&&p.createElement("div",{className:"text-center text-red-500"},"Your password has expired. Please update your password."),p.createElement("label",{className:"block"},p.createElement("span",{className:"text-gray-700"},"New Password"),p.createElement(ts,{type:"password",name:"password",id:"password",placeholder:"Enter password",className:g?"border-red-500":"border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",value:n,onKeyDown:()=>{s(!0),m(null)},onChange:e=>r(e.target.value),required:!0})),p.createElement("label",{className:"block"},p.createElement("span",{className:"text-gray-700"},"Confirm New Password"),p.createElement(ts,{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm password",className:g?"border-red-500":"border-gray-300 focus:ring-indigo-500 focus:border-indigo-500",value:l,onKeyDown:()=>{s(!0),m(null)},onChange:e=>i(e.target.value),required:!0})),c&&p.createElement("div",{className:"text-center text-sm text-gray-500"},c),g&&p.createElement("div",{className:"text-center text-sm text-red-500"},g),p.createElement(eF,{onClick:v,disabled:g,variant:"primary",busy:"busy"===u},"Update"))))},Icon:function(e){return eP({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.65 10A5.99 5.99 0 007 6c-3.31 0-6 2.69-6 6s2.69 6 6 6a5.99 5.99 0 005.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}}]})(e)},layout:"fullscreen",navCategory:"Account"}),p.createContext(-1);let aq=()=>p.createElement("div",{className:"relative flex flex-col items-center justify-center text-center p-5 pb-16 w-full h-full overflow-y-auto",style:{animationName:"fade-in",animationDelay:"300ms",animationTimingFunction:"ease-out",animationIterationCount:1,animationFillMode:"both",animationDuration:"150ms"}},p.createElement(aU,{className:"block pb-5"},"\uD83E\uDD14"),p.createElement("h3",{className:"font-sans font-normal text-lg block pb-5"},"Hey, you don't have any fields added to this form."),p.createElement("p",{className:"block pb-5"},p.createElement("a",{className:"text-center rounded-3xl border border-solid border-gray-100 shadow-[0_2px_3px_rgba(0,0,0,0.12)] font-normal cursor-pointer text-[12px] transition-all duration-100 ease-out bg-white text-gray-700 py-3 pr-5 pl-14 relative no-underline inline-block hover:text-blue-500",href:"https://tinacms.org/docs/fields",target:"_blank"},p.createElement(aU,{className:"absolute left-5 top-1/2 origin-center -translate-y-1/2 transition-all duration-100 ease-out",style:{fontSize:24}},"\uD83D\uDCD6")," ","Field Setup Guide"))),aJ=({onSubmit:e})=>((0,p.useEffect)(()=>{let t=t=>{(t.metaKey||t.ctrlKey)&&"s"===t.key&&(t.preventDefault(),e())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e]),null),aG=({form:e,onPristineChange:t,...a})=>{let n=Q(),r=!!a.hideFooter,[l,i]=p.useState(!1),o=e.tinaForm,s=e.tinaForm.finalForm,c=n.api.tina.schema;p.useEffect(()=>{var e;let t=c.getCollectionByFullPath(o.relativePath);(null==(e=null==t?void 0:t.ui)?void 0:e.beforeSubmit)?o.beforeSubmit=e=>t.ui.beforeSubmit({cms:n,form:o,values:e}):o.beforeSubmit=void 0},[o.relativePath]);let m=p.useCallback(e=>{if(!e.destination||!s)return;let t=e.type;s.mutators.move(t,e.source.index,e.destination.index)},[o]);p.useEffect(()=>{let e=s.subscribe(({pristine:e})=>{t&&t(e)},{pristine:!0});return()=>{e()}},[s]);let u=o.getActiveField(e.activeFieldName);return p.createElement(C.l0,{key:o.id,form:o.finalForm,onSubmit:o.onSubmit},({handleSubmit:t,pristine:a,invalid:c,submitting:d,dirtySinceLastSubmit:h,hasValidationErrors:f})=>{let g=n.api.tina.usingProtectedBranch(),v=!a&&!d&&!f&&!(c&&!h),b=async()=>{v&&await t()},y=async()=>{g?i(!0):b()};return p.createElement(p.Fragment,null,l&&p.createElement(a0,{safeSubmit:b,crudType:o.crudType,relativePath:o.relativePath,values:o.values,close:()=>i(!1)}),p.createElement(S.Z5,{onDragEnd:m},p.createElement(aJ,{onSubmit:y}),p.createElement(e6,null,p.createElement(aW,{header:p.createElement(aX,{...u,id:o.id}),id:o.id},o&&o.fields.length?p.createElement(eC,{form:o,activeFieldName:e.activeFieldName,fields:u.fields}):p.createElement(aq,null))),!r&&p.createElement("div",{className:"relative flex-none w-full h-16 px-6 bg-white border-t border-gray-100	flex items-center justify-center"},p.createElement("div",{className:"flex-1 w-full flex justify-between gap-4 items-center max-w-form"},o.reset&&p.createElement(e7,{pristine:a,reset:async()=>{s.reset(),await o.reset()},style:{flexGrow:1}},o.buttons.reset),p.createElement(eF,{onClick:y,disabled:!v,busy:d,variant:"primary",style:{flexGrow:3}},d&&p.createElement(e2,null),!d&&o.buttons.save),o.actions.length>0&&p.createElement(te,{form:o,actions:o.actions})))))})},aW=({header:e,children:t,id:a})=>p.createElement("div",{"data-test":`form:${null==a?void 0:a.replace(/\\/g,"/")}`,className:"h-full overflow-y-auto max-h-full bg-gray-50"},e,p.createElement("div",{className:"py-5 px-6"},p.createElement("div",{className:"w-full flex justify-center"},p.createElement("div",{className:"w-full max-w-form"},t)))),aU=({className:e="",...t})=>p.createElement("span",{className:`text-[40px] leading-none inline-block ${e}`,...t}),aQ=e=>!isNaN(Number(e)),aX=e=>{var t;let a;let n=Q(),r=(null==(t=e.name)?void 0:t.split("."))||[];if(!r||0===r.length)return null;r.forEach((e,t)=>{aQ(e)||(a=t)});let l=r.slice(0,a);return p.createElement("button",{className:`relative z-40 group text-left w-full bg-white hover:bg-gray-50 py-2 border-t border-b shadow-sm
   border-gray-100 px-6 -mt-px`,onClick:()=>{n.dispatch({type:"forms:set-active-field-name",value:{formId:e.id,fieldName:l.length>0?l.join("."):null}})},tabIndex:-1},p.createElement("div",{className:"flex items-center justify-between gap-3 text-xs tracking-wide font-medium text-gray-700 group-hover:text-blue-400 uppercase max-w-form mx-auto"},e.label||e.name||"Back",p.createElement(tn,{className:"h-auto w-5 inline-block opacity-70 -mt-0.5 -mx-0.5"})))},a0=({close:e,safeSubmit:t,relativePath:a,values:n,crudType:r})=>{let l=Q().api.tina;l.branch;let[i,o]=p.useState(!1),[s,c]=p.useState(""),[m,u]=p.useState(""),d=e=>{localStorage.setItem("tina.createBranchState","starting"),localStorage.setItem("tina.createBranchState.fullPath",a),localStorage.setItem("tina.createBranchState.values",JSON.stringify(n)),localStorage.setItem("tina.createBranchState.kind",r),"create"===r?localStorage.setItem("tina.createBranchState.back",window.location.href.replace("/new","")):localStorage.setItem("tina.createBranchState.back",window.location.href);let t=window.location.hash,l=`#/branch/new?branch=${e}`,i=window.location.href.replace(t,l);window.location.href=i};return p.createElement(I,null,p.createElement(W,null,p.createElement(J,{close:e},p.createElement(eJ,{className:"w-6 h-auto mr-1 text-blue-500 opacity-70"})," ","Create Branch"),p.createElement(R,{padded:!0},p.createElement("p",{className:"text-base text-gray-700 mb-2"},"This branch is ",p.createElement("strong",null,"protected"),". Create a new branch to save your changes."),p.createElement(a1,{placeholder:"Branch Name",value:s,onChange:e=>{u(""),c(e.target.value.replace(/[^/\w-]+/g,"-").toLowerCase())}}),m&&p.createElement("div",{className:"mt-2 text-sm text-red-700"},m)),p.createElement(T,null,p.createElement(eF,{style:{flexGrow:1},onClick:e},"Cancel"),p.createElement(eF,{variant:"primary",style:{flexGrow:2},disabled:""===s||!!m||i,onClick:async()=>{if(o(!0),(await l.listBranches({includeIndexStatus:!1})).filter(e=>{var t;return null==(t=null==e?void 0:e.name)?void 0:t.startsWith("tina/")}).map(e=>e.name.replace("tina/","")).includes(s)){u("Branch already exists"),o(!1);return}m||d(s)}},"Create Branch and Save"),p.createElement(eL,{className:"-ml-2",toolbarItems:[{name:"override",label:"Save to Protected Branch",Icon:p.createElement(ti,{size:"1rem"}),onMouseDown:()=>{e(),t()}}]}))))},a1=({prefix:e="tina/",...t})=>p.createElement("div",{className:"border border-gray-200 focus-within:border-blue-200 bg-gray-100 focus-within:bg-blue-100 rounded-md shadow-sm focus-within:shadow-outline overflow-hidden flex items-stretch divide-x divide-gray-200 focus-within:divide-blue-100 w-full transition-all ease-out duration-150"},p.createElement("span",{className:"pl-3 pr-2 py-2 font-medium text-base text-gray-700 opacity-50"},e),p.createElement("input",{type:"text",className:"shadow-inner focus:outline-none block text-base placeholder:text-gray-300 px-3 py-2 text-gray-600 flex-1 bg-white focus:text-gray-900",...t})),a2=e=>{let t=e3(),a=p.useMemo(()=>es(),[e.id,e.initialValues]),n=p.useMemo(()=>new eE({...e,relativePath:e.id,id:a,onChange:({values:t})=>{e.onChange(t)},onSubmit:()=>{}}),[a,e.onChange]);return p.createElement(t,null,({zIndexShift:t})=>p.createElement(tU,{isExpanded:!0,style:{zIndex:t+1e3}},p.createElement(tW,{onClick:e.onClose},e.label),p.createElement(aG,{form:{tinaForm:n},hideFooter:!0})))},a5=(e,t)=>{let a=v.F3.findPath(e,t),n=v.F3.toDOMNode(e,e);n&&(n.focus(),setTimeout(()=>{x.YR.select(e,a)},1))},a4=(e,t)=>{let a=v.F3.findPath(e,t);x.YR.removeNodes(e,{at:a})},a3=(e,t)=>{let a=(0,v.vt)();p.useEffect(()=>{let n=n=>{a&&(0,O.P6)(e,n)&&(n.preventDefault(),t())};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[a])},a6=(e,t,a)=>{let n=Q(),{dispatch:r}=ee("field:focus"),[l,i]=p.useState(!1),o=v.F3.findPath(e,t),s=`${a}.children.${o.join(".children.")}.props`;return{isExpanded:l,handleClose:()=>{i(!1),a5(e,t)},handleRemove:()=>{a4(e,t)},handleSelect:()=>{n.dispatch({type:"forms:set-active-field-name",value:{formId:n.state.activeFormId,fieldName:s}}),r({id:n.state.activeFormId,fieldName:s})}}},a7=p.createContext({fieldName:"",rawMode:!1,setRawMode:()=>{},templates:[]}),a9=()=>p.useContext(a7),a8=()=>p.useContext(a7),ne=({inline:e,children:t})=>p.createElement(e?"span":"div",{contentEditable:!1,style:{userSelect:"none"},className:"relative"},t),nt=({attributes:e,children:t,element:a,onChange:n,editor:r})=>{let l=(0,v.vt)(),{templates:i,fieldName:o}=a8(),{handleClose:s,handleRemove:c,handleSelect:m,isExpanded:u}=a6(r,a,o);a3("enter",()=>{(0,f.s2K)(r,[{type:f.JBe,children:[{text:""}]}])}),a3("space",()=>{(0,f.s2K)(r,[{text:" "}],{match:e=>{if(x.W_.isElement(e)&&e.type===nF)return!0},select:!0})});let d=i.find(e=>e.name===a.name),h={activeTemplate:d,element:a,editor:r,onChange:n,onClose:s};if(!d)return null;let g=nn(d,h);return p.createElement("span",{...e},t,p.createElement(ne,{inline:!0},p.createElement("span",{style:{margin:"0 0.5px"},className:"relative inline-flex shadow-sm rounded-md leading-none"},l&&p.createElement("span",{className:"absolute inset-0 ring-2 ring-blue-100 ring-inset rounded-md z-10 pointer-events-none"}),p.createElement("span",{style:{fontWeight:"inherit",maxWidth:"275px"},className:"truncate cursor-pointer relative inline-flex items-center justify-start px-2 py-0.5 rounded-l-md border border-gray-200 bg-white  hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",onMouseDown:m},g),p.createElement(nl,{onOpen:m,onRemove:c})),u&&p.createElement(nr,{...h})))},na=({attributes:e,children:t,element:a,editor:n,onChange:r})=>{let l=(0,v.vt)(),{templates:i,fieldName:o}=a8(),{handleClose:s,handleRemove:c,handleSelect:m,isExpanded:u}=a6(n,a,o);a3("enter",()=>{(0,f.s2K)(n,[{type:f.JBe,children:[{text:""}]}])});let d=i.find(e=>e.name===a.name),h={activeTemplate:d,element:a,editor:n,onChange:r,onClose:s};if(!d)return null;let g=nn(d,h);return p.createElement("div",{...e,className:"w-full my-2"},t,p.createElement(ne,{inline:!1},p.createElement("span",{className:"relative w-full inline-flex shadow-sm rounded-md"},l&&p.createElement("span",{className:"absolute inset-0 ring-2 ring-blue-100 ring-inset rounded-md z-10 pointer-events-none"}),p.createElement("span",{onMouseDown:m,className:"truncate cursor-pointer w-full relative inline-flex items-center justify-start px-4 py-2 rounded-l-md border border-gray-200 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},g),p.createElement(nl,{onOpen:m,onRemove:c})),u&&p.createElement(nr,{...h})))},nn=(e,t)=>{let a=e.fields.find(e=>e.isTitle),n=e.label||e.name;if(a){let e=t.element.props[a.name];e&&(n=`${n}: ${e}`)}return n},nr=({editor:e,element:t,activeTemplate:a,onClose:n,onChange:r})=>{let l=[...v.F3.findPath(e,t),a.name].join(".");return p.createElement(a2,{id:l,label:a.label,fields:a.fields,initialValues:t.props,onChange:r,onClose:n})},nl=({onOpen:e,onRemove:t})=>p.createElement(w.J,{as:"span",className:"-ml-px relative block"},p.createElement(w.J.Button,{as:"span",className:"cursor-pointer h-full relative inline-flex items-center px-1 py-0.5 rounded-r-md border border-gray-200 bg-white text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},p.createElement(ey,{title:"Open options"})),p.createElement(y.u,{as:p.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},p.createElement(w.J.Panel,{className:"z-30 absolute origin-top-right right-0"},p.createElement("div",{className:"mt-2 -mr-1 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},p.createElement("div",{className:"py-1"},p.createElement("span",{onClick:e,className:eo("cursor-pointer text-left w-full block px-4 py-2 text-sm hover:bg-gray-100 hover:text-gray-900")},"Edit"),p.createElement("button",{onMouseDown:e=>{e.preventDefault(),t()},className:eo("cursor-pointer text-left w-full block px-4 py-2 text-sm hover:bg-gray-100 hover:text-gray-900")},"Remove")))))),ni=(0,f.xje)({key:"code_block",isElement:!0,isVoid:!0,isInline:!1}),no=(0,f.xje)({key:"html",isElement:!0,isVoid:!0,isInline:!1}),ns=(0,f.xje)({key:"html_inline",isElement:!0,isVoid:!0,isInline:!0}),nc=({attributes:e,children:t,element:a,editor:n,onChange:r})=>{let l=(0,v.vt)(),{fieldName:i}=a8(),{handleClose:o,handleRemove:s,handleSelect:c,isExpanded:m}=a6(n,a,i);return a3("enter",()=>{(0,f.s2K)(n,[{type:f.JBe,children:[{text:""}]}])}),p.createElement("span",{...e,className:""},t,a.url?p.createElement("div",{className:`relative w-full max-w-full flex justify-start ${tV(a.url)?"items-start gap-3":"items-center gap-2"}`},p.createElement("button",{className:`flex-shrink min-w-0 focus-within:shadow-outline focus-within:border-blue-500 rounded outline-none overflow-visible cursor-pointer border-none hover:opacity-60 transition ease-out duration-100 ${l?"shadow-outline border-blue-500":""}`,onClick:c},tV(a.url)?p.createElement(tP,{src:a.url}):p.createElement(tH,{src:a.url})),p.createElement(tI,{onClick:e=>{e.stopPropagation(),s()}})):p.createElement("button",{className:"outline-none relative hover:opacity-60 w-full",onClick:c},p.createElement("div",{className:"text-center rounded-[5px] bg-gray-100 text-gray-300 leading-[1.35] py-3 text-[15px] font-normal transition-all ease-out duration-100 hover:opacity-60"},"Click to select an image")),m&&p.createElement(nm,{onChange:r,initialValues:a,onClose:o,element:a}))},nm=e=>p.createElement(a2,{id:"image-form",label:"Image",fields:[{label:"URL",name:"url",component:"image",clearable:!0},{label:"Caption",name:"caption",component:"text"},{label:"Alt",name:"alt",component:"text"}],initialValues:e.initialValues,onChange:e.onChange,onClose:e.onClose}),nu=(0,f.xje)({key:"img",isVoid:!0,isInline:!0,isElement:!0,component:e=>p.createElement(nc,{...e,onChange:t=>{let a=v.F3.findPath(e.editor,e.element);(0,f.fLV)(e.editor,t,{at:a})}})}),nd=(e,t)=>{tV(t.src)?nD(e,{type:"img",children:[{text:""}],url:t.src,caption:"",alt:""}):nD(e,{type:"a",url:t.src,title:t.filename,children:[{text:t.filename}]}),(0,f.NhL)(e,{force:!0})},np="break",nh=(0,f.xje)({key:np,isElement:!0,isInline:!0,isVoid:!0,component:e=>p.createElement(p.Fragment,null,p.createElement("br",{className:e.className,...e.attributes}),e.children),handlers:{onKeyDown:(e,{options:{rules:t=[]}})=>a=>{let n=(0,f.xmC)(e);n&&t.forEach(({hotkey:t,query:r})=>{(0,O.P6)(t,a)&&(0,f.VqB)(n,r)&&(a.preventDefault(),a.stopPropagation(),(0,f.s2K)(e,[{type:np,children:[{text:""}]},{type:"text",text:""}],{select:!0}))})}},options:{rules:[{hotkey:"shift+enter"}]}}),nf=e=>(0,f.See)(e),ng=(e,t)=>{if(e.selection){let a=(0,f.Ow4)(e,e.selection);if(!a)return;let[n]=a;!(0,f.kKo)(n)||(0,f.P99)(e,n,f.sTz)||(0,f.P99)(e,n,f.Zvw)||t()}},nv=(e,t)=>{ng(e,()=>(0,f.kQP)(e,{type:t}))},nb=e=>{if((0,f.zwG)(e,{match:t=>t.type===(0,f.bbC)(e,f.sTz)}))return;let t={type:f.sTz,value:"",lang:"javascript",children:[{type:"text",text:""}]};(0,f._YE)(e)?(0,f.oUB)(e,t):(0,f.Lfo)(e,t)},ny=[{mode:"block",type:f.GDC,match:"# ",preFormat:nf},{mode:"block",type:f.oGK,match:"## ",preFormat:nf},{mode:"block",type:f.o3Y,match:"### ",preFormat:nf},{mode:"block",type:f.jB_,match:"#### ",preFormat:nf},{mode:"block",type:f.$H6,match:"##### ",preFormat:nf},{mode:"block",type:f.KWL,match:"###### ",preFormat:nf},{mode:"block",type:f.ahg,match:"> ",preFormat:nf},{mode:"block",type:f.sTz,match:"```",triggerAtBlockStart:!1,preFormat:nf,format:e=>{nb(e)}},{mode:"block",type:f.cIJ,match:["---","-","___ "],format:e=>{(0,f.fLV)(e,{type:f.cIJ}),(0,f.s2K)(e,{type:f.mnA,children:[{text:""}]})}},{mode:"block",type:f.f86,match:["* ","- "],preFormat:nf,format:e=>nv(e,f.HtX)},{mode:"block",type:f.f86,match:["1. ","1) "],preFormat:nf,format:e=>nv(e,f.kN6)},{mode:"block",type:f.oGR,match:"[] "},{mode:"block",type:f.oGR,match:"[x] ",format:e=>(0,f.fLV)(e,{type:f.oGR,checked:!0},{match:t=>(0,f.Lqh)(e,t)})},{mode:"mark",type:[f.Qpp,f.mZ5],match:"***"},{mode:"mark",type:f.Qpp,match:"**"},{mode:"mark",type:f.mZ5,match:"*"},{mode:"mark",type:f.mZ5,match:"_"},{mode:"mark",type:f.QMB,match:"`"}],nw=[f.GDC,f.oGK,f.o3Y,f.o3Y,f.jB_,f.$H6,f.KWL,f.JBe],nx={types:[f.ahg,f.GDC,f.oGK,f.o3Y,f.o3Y,f.jB_,f.$H6,f.KWL],defaultType:f.JBe},nE=(0,f.xje)({key:"WITH_CORRECT_NODE_BEHAVIOR",withOverrides:e=>{let{deleteBackward:t,insertBreak:a}=e;return e.insertBreak=()=>{if(!e.selection||!x.e6.isCollapsed(e.selection))return a();let t=x.y$.parent(e.selection.anchor.path),n=x.NB.get(e,t);if((0,f.kKo)(n)&&x.ML.isVoid(e,n)){x.ML.insertNode(e,{type:"p",children:[{text:""}]});return}a()},e.deleteBackward=a=>{if(!e.selection||!x.e6.isCollapsed(e.selection)||0!==e.selection.anchor.offset)return t(a);let n=x.y$.parent(e.selection.anchor.path),r=x.NB.get(e,n);if(0===x.NB.string(r).length&&x.y$.hasPrevious(n)){let t=x.y$.previous(n),a=x.NB.get(e,t);if((0,f.kKo)(a)&&x.ML.isVoid(e,a)){x.YR.removeNodes(e),x.ML.normalize(e,{force:!0});return}}t(a)},e}}),nN=[(0,f.AFf)(),nE(),(0,f.wQW)({options:{rules:ny}}),(0,f.z$X)({options:{rules:[{hotkey:"mod+enter"},{hotkey:"mod+shift+enter",before:!0},{hotkey:"enter",query:{start:!0,end:!0,allow:f.Nlc}}]}}),(0,f.gH_)({options:{rules:[{...nx,hotkey:"Enter",predicate:f.ptC},{...nx,hotkey:"Backspace",predicate:f._YE}]}}),nh({options:{rules:[{hotkey:"shift+enter"},{hotkey:"enter",query:{allow:[f.sTz,f.ahg]}}]}})],nk=[(0,f.DRt)(),(0,f.ZZF)(),ni(),no(),ns(),(0,f.DLO)(),(0,f.pJg)(),(0,f.Td$)(),(0,f.wFy)(),(0,f.sWz)(),(0,f.V8Y)(),(0,f.x_z)(),(0,f.kdp)()],nC=e=>[n_,nF,"img"].includes(e.type)?{...e,children:[{type:"text",text:""}],id:Date.now()}:e.children?e.children.length?{...e,children:e.children.map(nC),id:Date.now()}:{...e,children:[{text:""}],id:Date.now()}:e,nD=(e,t)=>{(0,f.s2K)(e,[t]),setTimeout(()=>{x.YR.move(e)},1)},nS=(e,t)=>{let a=v.F3.toDOMNode(e,e);a&&(a.focus(),setTimeout(()=>{nM(e)?(0,f.fLV)(e,t):(0,f.s2K)(e,[t])},1))},nM=e=>{var t;if(!e.selection)return!1;let[a]=x.ML.node(e,e.selection),n=e.selection.focus,r=(0,f.xmC)(e);return!x.NB.string(a)&&!(null==(t=a.children)?void 0:t.some(t=>x.ML.isInline(e,t)))&&x.ML.isStart(e,n,r[1])},nz={isNodeActive:(e,t)=>{let a=(0,f.bbC)(e,t);return!!(null==e?void 0:e.selection)&&(0,f.zwG)(e,{match:{type:a}})},isMarkActive:(e,t)=>!!(null==e?void 0:e.selection)&&(0,f.yw6)(e,t),isListActive:(e,t)=>{let a=!!(null==e?void 0:e.selection)&&(0,f.j8F)(e);return!!a&&a.list[0].type===t},currentNodeSupportsMDX:e=>(0,f.DYv)(e,{match:{type:nw}}),normalize:nC},nF="mdxJsxTextElement",n_="mdxJsxFlowElement",nL=e=>{let t=t=>{let a=v.F3.findPath(e.editor,e.element);(0,f.fLV)(e.editor,{props:t},{at:a})};return e.inline?p.createElement(nt,{...e,onChange:t}):p.createElement(na,{...e,onChange:t})},nO=(0,f.xje)({key:nF,isInline:!0,isVoid:!0,isElement:!0,component:e=>p.createElement(nL,{...e,inline:!0})}),nV=(0,f.xje)({key:n_,isVoid:!0,isElement:!0,component:e=>p.createElement(nL,{...e,inline:!1})}),n$=(e,t)=>{let a=!t.inline;nz.currentNodeSupportsMDX(e)&&(a?(nS(e,{type:n_,name:t.name,children:[{text:""}],props:t.defaultItem?t.defaultItem:{}}),(0,f.NhL)(e,{force:!0})):nD(e,{type:nF,name:t.name,children:[{text:""}],props:t.defaultItem?t.defaultItem:{}}))},nj=e=>{let t={type:"a",url:"",title:"",children:[{text:""}]};if((0,f.zbr)(e.selection)){let[,t]=(0,f.Zg$)(e,{match:t=>!x.ML.isEditor(t)&&x.W_.isElement(t)&&(0,f.bbC)(e,f.uJg)});x.YR.select(e,t)}if(nT(e)){let[a]=nI(e);t.url=a[0].url,t.title=a[0].title,nB(e)}(0,f.qEX)(e,t,{split:!0})},nP=e=>!x.ML.isEditor(e)&&x.W_.isElement(e)&&e.type===f.uJg,nH=e=>{let[t,a]=p.useState({url:"",title:""}),[n,r]=p.useState({}),l=(0,f.sZ5)(),i=p.useMemo(()=>l.selection,[]);(0,p.useEffect)(()=>{let[e]=nI(l);a({url:e&&e[0].url?e[0].url:"",title:e&&e[0].title?e[0].title:""})},[l,a]);let o=p.useCallback(()=>{let t=(0,f.tVv)(l,{match:nP,at:i});if(t)for(let[,e]of t)(0,f.fLV)(l,n,{match:nP,at:e});e.onClose()},[l,n]),s=p.useCallback(()=>p.createElement(eF,{variant:"primary",onClick:o},"Update Link"),[o]);return p.createElement(a2,{id:e.id,label:"Link",fields:[{label:"URL",name:"url",component:"text"},{label:"Title",name:"title",component:"text"},{component:s,name:"update"}],initialValues:t,onChange:e=>r(e),onClose:()=>{""===t.title&&""===t.url&&nB(l,i),e.onClose()}})},nB=(e,t)=>{(0,f.LKm)(e,{match:nP,at:t||void 0})},nI=e=>(0,f.tVv)(e,{match:nP}),nT=e=>{let[t]=nI(e);return!!t},nR=({hidden:e,label:t,active:a,onMouseDown:n,icon:r,options:l,name:i,isLastItem:o=!1,tinaForm:s})=>{let c=(0,f.sZ5)(),[m,u]=p.useState(null),d=Q();p.useEffect(()=>{c.selection&&u(c.selection)},[JSON.stringify(c.selection)]);let[h,g]=p.useState(!1);if(l)return p.createElement(w.J,{as:"div",className:"relative z-10 w-full"},p.createElement(w.J.Button,{as:"span",className:`cursor-pointer w-full inline-flex justify-center items-center px-2 py-2 rounded-l-md border-l border-b border-t border-gray-200 bg-white text-sm font-medium text-gray-600 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${o?"border-r rounded-r-md":"border-r-0"}`,onMouseDown:e=>{e.preventDefault()}},p.createElement("span",{className:"sr-only"},"Open options"),p.createElement(ew,null)),p.createElement(y.u,{as:p.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},p.createElement(w.J.Panel,null,({close:e})=>p.createElement("div",{className:"origin-top-left absolute left-0 mt-2 -mr-1 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},p.createElement("div",{className:"py-2 tina-prose"},p.createElement("span",{onMouseDown:()=>e()},l))))));if("image"===r)return p.createElement("span",{className:"relative"},p.createElement("span",{"data-test":`${i}Button`,className:`cursor-pointer w-full inline-flex relative justify-center items-center px-2 py-2 border-l border-b border-t border-r-0 border-gray-200 text-sm font-medium  hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${a?"bg-gray-50 text-blue-500":"bg-white text-gray-600"} ${o?"border-r rounded-r-md":"border-r-0"}`,style:{visibility:e?"hidden":"visible",pointerEvents:e?"none":"auto"},onMouseDown:e=>{e.preventDefault(),d.media.open({allowDelete:!0,directory:"",onSelect:e=>{nd(c,e)}})}},p.createElement("span",{className:"sr-only"},t),p.createElement(eb,{name:r})));if("link"===r){let n=!c.selection||(0,f.zbr)(c.selection)&&!nT(c);return p.createElement("span",{className:"relative"},p.createElement("span",{"data-test":`${i}Button`,className:`cursor-pointer w-full inline-flex relative justify-center items-center px-2 py-2 border-l border-b border-t border-r-0 border-gray-200 text-sm font-medium  hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${a?"bg-gray-50 text-blue-500":n?"bg-gray-50 text-gray-300":"bg-white text-gray-600"} ${o?"border-r rounded-r-md":"border-r-0"}`,style:{visibility:e?"hidden":"visible",pointerEvents:e?"none":"auto"},onMouseDown:e=>{e.preventDefault(),n||(nj(c),g(e=>!e))}},p.createElement("span",{className:"sr-only"},t),p.createElement(eb,{name:r})),h&&p.createElement(nH,{id:s.id,selection:m,onClose:()=>{g(!1)},onChange:e=>console.log(e)}))}return p.createElement("span",{"data-test":`${i}Button`,className:`cursor-pointer w-full inline-flex relative justify-center items-center px-2 py-2 border-l border-b border-t border-r-0 border-gray-200 text-sm font-medium  hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${a?"bg-gray-50 text-blue-500":"bg-white text-gray-600"} ${o?"border-r rounded-r-md":"border-r-0"}`,style:{visibility:e?"hidden":"visible",pointerEvents:e?"none":"auto"},onMouseDown:n},p.createElement("span",{className:"sr-only"},t),p.createElement(eb,{name:r}))},nA=({editor:e,templates:t})=>p.createElement(w.J,{as:"span",className:"relative z-10 block",style:{width:"85px"}},({open:a})=>p.createElement(p.Fragment,null,p.createElement(w.J.Button,{as:"span",onMouseDown:e=>{e.preventDefault()},className:`cursor-pointer relative inline-flex items-center px-2 py-2 rounded-r-md border text-sm font-medium transition-all ease-out duration-150 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 ${a?"bg-gray-50 border-gray-200 text-blue-500":"text-white border-blue-500 bg-blue-500"}`},p.createElement("span",{className:"text-sm font-semibold tracking-wide align-baseline mr-1"},"Embed"),p.createElement(ex,{className:`origin-center transition-all ease-out duration-150 ${a?"rotate-45":""}`})),p.createElement(y.u,{as:p.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},p.createElement(w.J.Panel,null,({close:a})=>p.createElement("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none max-h-[13rem] overflow-y-auto"},p.createElement("div",{className:"sticky z-10 top-0 w-full h-8 -mb-8 opacity-10 bg-gradient-to-b from-blue-600 to-transparent"}),p.createElement("div",{className:"relative py-1 z-20"},t.map(t=>p.createElement("span",{key:t.name,onMouseDown:n=>{n.preventDefault(),a(),n$(e,t)},className:"relative z-30 hover:bg-gray-400/10 hover:text-blue-500 cursor-pointer pointer-events-auto px-4 py-2 text-sm w-full flex items-center"},t.label||t.name)),p.createElement("div",{className:"absolute top-0 w-full h-8 bg-gradient-to-b from-white to-transparent"}),p.createElement("div",{className:"absolute bottom-0 w-full h-8 bg-gradient-to-t from-white to-transparent"})),p.createElement("div",{className:"sticky z-10 bottom-0 w-full h-8 -mt-8 opacity-10 bg-gradient-to-t from-blue-600 to-transparent"})))))),nY=({toolbarItems:e,itemsShown:t,showEmbed:a})=>p.createElement(w.J,{as:"span",className:"relative z-10 block w-full"},p.createElement(w.J.Button,{"data-test":"popoverRichTextButton",as:"span",className:`cursor-pointer relative w-full justify-center inline-flex border border-gray-200 focus:border-blue-500 items-center px-2 py-2 bg-white text-sm font-medium text-gray-600 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 pointer-events-auto ${a?"rounded-none":"rounded-r-md"}`,onMouseDown:e=>{e.preventDefault()}},p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}))),p.createElement(y.u,{as:p.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},p.createElement(w.J.Panel,null,({close:a})=>p.createElement("div",{className:"origin-top-right absolute right-0 mt-2 -mr-1 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none py-1"},e.map((e,n)=>n<t-1?null:p.createElement("span",{"data-test":`${e.name}OverflowButton`,key:e.name,onMouseDown:t=>{t.preventDefault(),a(),e.onMouseDown(t)},className:eo(e.active?"bg-gray-50 text-blue-500":"bg-white text-gray-600","hover:bg-gray-50 hover:text-blue-500 cursor-pointer pointer-events-auto px-4 py-2 text-sm w-full flex items-center")},p.createElement("div",{className:"mr-2 opacity-80"},p.createElement(eb,{name:e.name}))," ",e.label)))))),nZ=(e,t)=>{p.useEffect(()=>{let a=new ResizeObserver(e=>{for(let a of e)t(a)});return e.current&&a.observe(e.current),()=>a.disconnect()},[e.current])},nK=({children:e,position:t})=>{let a=p.useRef(),n=(0,f.sZ5)(),{selection:r}=n;return p.useEffect(()=>{let e=a.current;if(e){if(!r||!(0,f.KyJ)(n)||x.e6.isCollapsed(r)||""===(0,f.eNq)(n,r)){e.classList.add("hidden"),e.classList.remove("block");return}e.classList.add("block"),e.classList.remove("hidden"),(async()=>{if(a.current){let e=window.getSelection().getRangeAt(0),{x:n,y:r}=await (0,V.oo)(e,a.current,{placement:t||"top",middleware:[(0,V.RR)(),(0,V.uY)()]});Object.assign(a.current.style,{left:`${n}px`,top:`${r}px`})}})()}},[JSON.stringify(r),a.current]),p.createElement("div",{ref:a,className:"absolute z-10"},e)},nq=[{name:f.GDC,render:p.createElement("h1",{className:"my-0 text-4xl font-medium"},"Heading 1")},{name:f.oGK,render:p.createElement("h2",{className:"my-0 text-3xl font-medium"},"Heading 2")},{name:f.o3Y,render:p.createElement("h3",{className:"my-0 text-2xl font-semibold"},"Heading 3")},{name:f.jB_,render:p.createElement("h4",{className:"my-0 text-xl font-bold"},"Heading 4")},{name:f.$H6,render:p.createElement("h5",{className:"my-0 text-lg font-bold"},"Heading 5")},{name:f.KWL,render:p.createElement("h6",{className:"my-0 text-base font-bold"},"Heading 6")},{name:f.JBe,render:p.createElement("p",{className:"my-0"},"Paragraph")}];function nJ({templates:e,tinaForm:t}){let{setRawMode:a}=a9(),n=e.length>0,r=p.useRef(null),l=(0,f.sZ5)(),i=nz.isMarkActive(l,f.Qpp),o=nz.isMarkActive(l,f.QMB),s=nz.isMarkActive(l,f.mZ5),c=nz.isNodeActive(l,f.uJg),m=nz.isListActive(l,f.HtX),u=nz.isListActive(l,f.kN6),d=nz.isNodeActive(l,f.sTz),h=nz.isNodeActive(l,f.ahg),g=nz.isNodeActive(l,"img"),v=[{tinaForm:t,name:"heading",label:"Heading",active:!1,options:nq.map(e=>p.createElement("span",{key:e.name,onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),(0,f.uPr)(l,{activeType:e.name})},className:eo("hover:bg-gray-100 hover:text-gray-900 cursor-pointer block px-4 py-2 text-sm w-full text-left")},e.render))},{tinaForm:t,name:"link",label:"Link",active:c},{tinaForm:t,name:"image",label:"Image",active:g},{tinaForm:t,name:"quote",label:"Quote",active:h,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),(0,f.uPr)(l,{activeType:f.ahg})}},{tinaForm:t,name:"ul",label:"Bullet List",active:m,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),(0,f.kQP)(l,{type:f.HtX})}},{tinaForm:t,name:"ol",label:"List",active:u,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),(0,f.kQP)(l,{type:f.kN6})}},{tinaForm:t,name:"code",label:"Code",active:o,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),(0,f.w9d)(l,{key:f.QMB})}},{tinaForm:t,name:"codeBlock",label:"Code Block",active:d,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),nb(l)}},{tinaForm:t,name:"bold",label:"Bold",active:i,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),(0,f.w9d)(l,{key:f.Qpp})}},{tinaForm:t,name:"italic",label:"Italic",active:s,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),(0,f.w9d)(l,{key:f.mZ5})}},{tinaForm:t,name:"raw",label:"Raw",active:!1,onMouseDown:()=>a(!0)}],[b,y]=p.useState(v.length);return nZ(r,e=>{y(Math.floor((e.target.getBoundingClientRect().width-(n?85:0))/40))}),p.createElement("div",{className:"sticky top-1 inline-flex shadow rounded-md mb-2 z-50 max-w-full",style:{width:`${40*v.length+(n?85:0)}px`}},p.createElement("div",{ref:r,className:"grid w-full",style:{gridTemplateColumns:n?"1fr 85px":"1fr"}},p.createElement("div",{className:"grid",style:{gridTemplateColumns:"repeat(auto-fit, minmax(40px, 1fr))",gridTemplateRows:"auto",gridAutoRows:0}},v.map((e,a)=>{let r=a+1===b;return b<v.length&&r?p.createElement(nY,{key:e.name,itemsShown:b,toolbarItems:v,showEmbed:n}):p.createElement(nR,{tinaForm:t,key:e.name,name:e.name,hidden:a+1>b,active:e.active,onMouseDown:e.onMouseDown,label:e.label,options:e.options,icon:e.name,isLastItem:r&&!n})})),n&&p.createElement(nA,{templates:e,editor:l})))}let nG=()=>{let e=(0,f.sZ5)(),t=nz.isNodeActive(e,f.uJg);return p.createElement(nK,{position:"bottom"},t&&p.createElement("button",{onMouseDown:t=>{t.preventDefault(),nB(e)},className:"mt-2 cursor-pointer hover:bg-gray-100 border border-gray-200 rounded-md bg-gray-100 text-gray-600 py-1 px-2"},"Clear"))},nW=e=>({message:e.message,position:e.position&&{endColumn:e.position.end.column,startColumn:e.position.start.column,startLineNumber:e.position.start.line,endLineNumber:e.position.end.line}}),nU=e=>{if(!e)return"";let t=nW(e);return t?`${t.message}${t.position?` at line: ${t.position.startLineNumber}, column: ${t.position.startColumn}`:""}`:null},nQ=(0,f.xje)({key:"invalid_markdown",isVoid:!0,isInline:!1,isElement:!0,component:({attributes:e,element:t,children:a})=>p.createElement("div",{...e},p.createElement(nX,{error:t}),a)});function nX({error:e}){let t=nU(e),{setRawMode:a}=a9();return p.createElement("div",{contentEditable:!1,className:"bg-red-50 sm:rounded-lg"},p.createElement("div",{className:"px-4 py-5 sm:p-6"},p.createElement("h3",{className:"text-lg leading-6 font-medium text-red-800"},"Error parsing markdown"),p.createElement("div",{className:"mt-2 max-w-xl text-sm text-red-800 space-y-4"},p.createElement("p",null,t),p.createElement("p",null,"To fix these errors, edit the content in raw-mode."),p.createElement("button",{onClick:()=>a(!0),className:"rounded-l-md border-r-0 shadow rounded-md bg-white cursor-pointer relative inline-flex items-center px-2 py-2 border border-gray-200 hover:text-white text-sm font-medium transition-all ease-out duration-150 hover:bg-gray-500 focus:z-10 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"},"Switch to raw-mode"))))}let n0=e=>{let t=p.useMemo(()=>{var t,a;return(null==(a=null==(t=e.input.value)?void 0:t.children)?void 0:a.length)?e.input.value.children.map(nz.normalize):[{type:"p",children:[{type:"text",text:""}]}]},[]),a=p.useMemo(()=>(0,f.ZUk)([...nN,...nk,nV(),nO(),nu(),nQ(),(0,f.Tvz)()],{components:eg()}),[]),n=[e.tinaForm.id,e.input.name].join("."),r=p.useMemo(()=>es()+n,[n]),l=p.useRef(null);return p.useEffect(()=>{l.current&&setTimeout(()=>{var t;let a=null==(t=l.current)?void 0:t.querySelector('[role="textbox"]');e.field.experimental_focusIntent&&a&&a&&a.focus()},100)},[e.field.experimental_focusIntent,l]),p.createElement("div",{ref:l,className:"with-toolbar"},p.createElement(f.hv7,{id:r,initialValue:t,plugins:a,onChange:t=>{e.input.onChange({type:"root",children:t})},firstChildren:p.createElement(p.Fragment,null,p.createElement(nJ,{tinaForm:e.tinaForm,templates:e.field.templates,inlineOnly:!1}),p.createElement(nG,null))}))};et(e=>{let[t,a]=p.useState(!1),[n,r]=p.useState(0);return p.useMemo(()=>{let{reset:t}=e.form;e.form.reset=e=>(r(e=>e+1),t(e))},[]),p.createElement(a7.Provider,{key:n,value:{fieldName:e.field.name,templates:e.field.templates,rawMode:t,setRawMode:a}},p.createElement("div",{className:"min-h-[100px] max-w-full tina-prose relative shadow-inner focus-within:shadow-outline focus-within:border-blue-500 block w-full bg-white border border-gray-200 text-gray-600 focus-within:text-gray-900 rounded-md px-3 py-2"},p.createElement(n0,{...e})))}),et(e=>{let[t,a]=p.useState(0);return p.useMemo(()=>{let{reset:t}=e.form;e.form.reset=e=>(a(e=>e+1),t(e))},[]),p.createElement(a7.Provider,{key:t,value:{fieldName:e.field.name,templates:e.field.templates,rawMode:e.rawMode,setRawMode:e.setRawMode}},p.createElement("div",{className:"min-h-[100px] max-w-full tina-prose relative shadow-inner focus-within:shadow-outline focus-within:border-blue-500 block w-full bg-white border border-gray-200 text-gray-600 focus-within:text-gray-900 rounded-md px-3 py-2"},e.rawMode?e.rawEditor:p.createElement(n0,{...e})))});d.z.object({name:d.z.string(),protected:d.z.boolean().optional().default(!1),githubPullRequestUrl:d.z.string().optional()}).array().nonempty(),d.z.object({status:d.z.union([d.z.literal("complete"),d.z.literal("unknown"),d.z.literal("failed"),d.z.literal("inprogress")]).optional(),timestamp:d.z.number().optional()}),d.z.object({type:d.z.literal("root"),children:d.z.array(d.z.object({type:d.z.string(),children:d.z.any().array()})).refine(e=>{let t=e[0];return t&&"p"===t.type},{message:"Table cell content cannot contain block elements like headers, blockquotes, or lists."}).refine(e=>{var t;if(e.length>1){let a=e[1];return a&&1===a.children.length&&!(null==(t=a.children[0])?void 0:t.text)}return!0},{message:"Table cells can only have 1 block level element."})})}}]);