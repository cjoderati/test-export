"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{99747:function(e,t,n){n.d(t,{C9Q:function(){return nK},CET:function(){return iH},CQF:function(){return B},F5_:function(){return of},FIU:function(){return ob},H15:function(){return re},Jk9:function(){return og},KCC:function(){return od},Kul:function(){return iU},L4j:function(){return rv},L_G:function(){return rh},MQT:function(){return oO},MTn:function(){return g.MT},Mfv:function(){return ry},O9X:function(){return id},QEM:function(){return oC},SV0:function(){return iC},TUE:function(){return iS},VdF:function(){return os},W65:function(){return o_},YP0:function(){return N},Yvd:function(){return ok},ZUk:function(){return iu},_xc:function(){return ik},bbC:function(){return rm},c$S:function(){return oA},hv7:function(){return i6},iNf:function(){return n5},iZo:function(){return rp},iwx:function(){return D},jlz:function(){return oh},lMF:function(){return ip},ldk:function(){return oi},mTi:function(){return iv},mnA:function(){return ra},nCz:function(){return nA},oe7:function(){return oa},phS:function(){return oj},qnz:function(){return on},rO3:function(){return iI},s3t:function(){return rg},s8L:function(){return rd},sZ5:function(){return iW},uPr:function(){return i4},vHQ:function(){return oB},x0q:function(){return y.x0},xje:function(){return nZ},y1X:function(){return b.y1}});var r,o,i,a,l,u,c,s,f,d,p,v=n(70024),h=n(67294),y=n(53416),b=n(46977),g=n(13467),m=n(37173),j=n(9488),w=n(97103),O=n(92858),E=n(96391),C=n(86010),k=n(38651),_=n(77493);let S=(e="")=>e.length?e[0].toUpperCase()+e.slice(1):"",x=(e="")=>e.length?`${e}Store`:"store",P=(e="")=>`use${S(e)}Store`,B=(e,{scope:t,initialStore:n,name:r=""}={})=>{let o=P(null==n?void 0:n.name),i=x(null==n?void 0:n.name),a=P(r),l=x(r),u=n?n[o]().get:{},c=n?n[o]().set:{},s=n?n[o]().use:{},f=n?n[i].atom:{};Object.keys(e).forEach(n=>{let r=(0,v.cn)(e[n]);f[n]=r,u[n]=e=>(0,v.Dv)(r,null!=e?e:t),c[n]=e=>(0,v.b9)(r,null!=e?e:t),s[n]=e=>(0,v.KO)(r,null!=e?e:t)});let d={[a]:e=>{if(e){let n={...u},r={...c},o={...s};return Object.keys(n).forEach(r=>{let o=n[r];n[r]=n=>{var r;return o(null!==(r=null!=n?n:e)&&void 0!==r?r:t)}}),Object.keys(r).forEach(n=>{let o=r[n];r[n]=n=>{var r;return o(null!==(r=null!=n?n:e)&&void 0!==r?r:t)}}),Object.keys(o).forEach(n=>{let r=o[n];o[n]=n=>{var o;return r(null!==(o=null!=n?n:e)&&void 0!==o?o:t)}}),{get:n,set:r,use:o}}return{get:u,set:c,use:s}},[l]:{atom:f},name:r};return{...d,[l]:{...d[l],scope:t,extend:(e,n)=>B(e,{scope:t,initialStore:d,...n})}}};function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let A=v.zt,D="element",{elementStore:F,useElementStore:T}=B({element:null},{name:"element"}),L=({element:e,scope:t,children:n})=>{let r=T().set.element(t),o=T().set.element(D);return(0,h.useEffect)(()=>{r(e),o(e)},[e,r,o]),n},K=({element:e,scope:t,children:n,...r})=>h.createElement(A,M({initialValues:[[F.atom.element,e]],scope:D},r),h.createElement(A,M({initialValues:[[F.atom.element,e]],scope:t},r),h.createElement(L,{element:e,scope:t},n))),N=(e=D)=>T().get.element(e)||(console.warn("The `useElement(pluginKey)` hook must be used inside the node component's context"),{}),z=({attributes:e,children:t,text:n,leaf:r,editor:o,nodeProps:i,...a})=>h.createElement("span",M({},e,a),t);var I=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},U=function(e,t){return e===t||e!=e&&t!=t},R=function(e,t){for(var n=e.length;n--;)if(U(e[n][0],t))return n;return -1},V=Array.prototype.splice;function H(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}H.prototype.clear=function(){this.__data__=[],this.size=0},H.prototype.delete=function(e){var t=this.__data__,n=R(t,e);return!(n<0)&&(n==t.length-1?t.pop():V.call(t,n,1),--this.size,!0)},H.prototype.get=function(e){var t=this.__data__,n=R(t,e);return n<0?void 0:t[n][1]},H.prototype.has=function(e){return R(this.__data__,e)>-1},H.prototype.set=function(e,t){var n=this.__data__,r=R(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function $(e,t){return e(t={exports:{}},t.exports),t.exports}var q="object"==typeof W&&W&&W.Object===Object&&W,G="object"==typeof self&&self&&self.Object===Object&&self,Q=q||G||Function("return this")(),Z=Q.Symbol,Y=Object.prototype,X=Y.hasOwnProperty,J=Y.toString,ee=Z?Z.toStringTag:void 0,et=function(e){var t=X.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(e){}var o=J.call(e);return r&&(t?e[ee]=n:delete e[ee]),o},en=Object.prototype.toString,er=Z?Z.toStringTag:void 0,eo=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":er&&er in Object(e)?et(e):en.call(e)},ei=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ea=function(e){if(!ei(e))return!1;var t=eo(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},el=Q["__core-js_shared__"],eu=(r=/[^.]+$/.exec(el&&el.keys&&el.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",ec=Function.prototype.toString,es=function(e){if(null!=e){try{return ec.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ef=/^\[object .+?Constructor\]$/,ed=Object.prototype,ep=Function.prototype.toString,ev=ed.hasOwnProperty,eh=RegExp("^"+ep.call(ev).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ey=function(e,t){var n,r=null==e?void 0:e[t];return ei(n=r)&&(!eu||!(eu in n))&&(ea(n)?eh:ef).test(es(n))?r:void 0},eb=ey(Q,"Map"),eg=ey(Object,"create"),em=Object.prototype.hasOwnProperty,ej=Object.prototype.hasOwnProperty;function ew(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ew.prototype.clear=function(){this.__data__=eg?eg(null):{},this.size=0},ew.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ew.prototype.get=function(e){var t=this.__data__;if(eg){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return em.call(t,e)?t[e]:void 0},ew.prototype.has=function(e){var t=this.__data__;return eg?void 0!==t[e]:ej.call(t,e)},ew.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=eg&&void 0===t?"__lodash_hash_undefined__":t,this};var eO=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},eE=function(e,t){var n=e.__data__;return eO(t)?n["string"==typeof t?"string":"hash"]:n.map};function eC(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ek(e){var t=this.__data__=new H(e);this.size=t.size}eC.prototype.clear=function(){this.size=0,this.__data__={hash:new ew,map:new(eb||H),string:new ew}},eC.prototype.delete=function(e){var t=eE(this,e).delete(e);return this.size-=t?1:0,t},eC.prototype.get=function(e){return eE(this,e).get(e)},eC.prototype.has=function(e){return eE(this,e).has(e)},eC.prototype.set=function(e,t){var n=eE(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ek.prototype.clear=function(){this.__data__=new H,this.size=0},ek.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ek.prototype.get=function(e){return this.__data__.get(e)},ek.prototype.has=function(e){return this.__data__.has(e)},ek.prototype.set=function(e,t){var n=this.__data__;if(n instanceof H){var r=n.__data__;if(!eb||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new eC(r)}return n.set(e,t),this.size=n.size,this};var e_=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},eS=function(){try{var e=ey(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ex=function(e,t,n){"__proto__"==t&&eS?eS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},eP=Object.prototype.hasOwnProperty,eB=function(e,t,n){var r=e[t];eP.call(e,t)&&U(r,n)&&(void 0!==n||t in e)||ex(e,t,n)},eM=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?ex(n,l,u):eB(n,l,u)}return n},eA=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},eD=function(e){return null!=e&&"object"==typeof e},eF=function(e){return eD(e)&&"[object Arguments]"==eo(e)},eT=Object.prototype,eL=eT.hasOwnProperty,eK=eT.propertyIsEnumerable,eN=eF(function(){return arguments}())?eF:function(e){return eD(e)&&eL.call(e,"callee")&&!eK.call(e,"callee")},ez=Array.isArray,eI=function(){return!1},eU=$(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Q.Buffer:void 0,i=o?o.isBuffer:void 0;e.exports=i||eI}),eR=/^(?:0|[1-9]\d*)$/,eV=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&eR.test(e))&&e>-1&&e%1==0&&e<t},eH=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},eW={};eW["[object Float32Array]"]=eW["[object Float64Array]"]=eW["[object Int8Array]"]=eW["[object Int16Array]"]=eW["[object Int32Array]"]=eW["[object Uint8Array]"]=eW["[object Uint8ClampedArray]"]=eW["[object Uint16Array]"]=eW["[object Uint32Array]"]=!0,eW["[object Arguments]"]=eW["[object Array]"]=eW["[object ArrayBuffer]"]=eW["[object Boolean]"]=eW["[object DataView]"]=eW["[object Date]"]=eW["[object Error]"]=eW["[object Function]"]=eW["[object Map]"]=eW["[object Number]"]=eW["[object Object]"]=eW["[object RegExp]"]=eW["[object Set]"]=eW["[object String]"]=eW["[object WeakMap]"]=!1;var e$=function(e){return function(t){return e(t)}},eq=$(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&q.process,i=function(){try{var e=r&&r.require&&r.require("util").types;if(e)return e;return o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i}),eG=eq&&eq.isTypedArray,eQ=eG?e$(eG):function(e){return eD(e)&&eH(e.length)&&!!eW[eo(e)]},eZ=Object.prototype.hasOwnProperty,eY=function(e,t){var n=ez(e),r=!n&&eN(e),o=!n&&!r&&eU(e),i=!n&&!r&&!o&&eQ(e),a=n||r||o||i,l=a?eA(e.length,String):[],u=l.length;for(var c in e)(t||eZ.call(e,c))&&!(a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||eV(c,u)))&&l.push(c);return l},eX=Object.prototype,eJ=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eX)},e0=function(e,t){return function(n){return e(t(n))}},e1=e0(Object.keys,Object),e2=Object.prototype.hasOwnProperty,e9=function(e){if(!eJ(e))return e1(e);var t=[];for(var n in Object(e))e2.call(e,n)&&"constructor"!=n&&t.push(n);return t},e3=function(e){return null!=e&&eH(e.length)&&!ea(e)},e6=function(e){return e3(e)?eY(e):e9(e)},e4=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},e8=Object.prototype.hasOwnProperty,e7=function(e){if(!ei(e))return e4(e);var t=eJ(e),n=[];for(var r in e)"constructor"==r&&(t||!e8.call(e,r))||n.push(r);return n},e5=function(e){return e3(e)?eY(e,!0):e7(e)},te=$(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Q.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}),tt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},tn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},tr=function(){return[]},to=Object.prototype.propertyIsEnumerable,ti=Object.getOwnPropertySymbols,ta=ti?function(e){return null==e?[]:tn(ti(e=Object(e)),function(t){return to.call(e,t)})}:tr,tl=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},tu=e0(Object.getPrototypeOf,Object),tc=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)tl(t,ta(e)),e=tu(e);return t}:tr,ts=function(e,t,n){var r=t(e);return ez(e)?r:tl(r,n(e))},tf=function(e){return ts(e,e6,ta)},td=function(e){return ts(e,e5,tc)},tp=ey(Q,"DataView"),tv=ey(Q,"Promise"),th=ey(Q,"Set"),ty=ey(Q,"WeakMap"),tb="[object Map]",tg="[object Promise]",tm="[object Set]",tj="[object WeakMap]",tw="[object DataView]",tO=es(tp),tE=es(eb),tC=es(tv),tk=es(th),t_=es(ty),tS=eo;(tp&&tS(new tp(new ArrayBuffer(1)))!=tw||eb&&tS(new eb)!=tb||tv&&tS(tv.resolve())!=tg||th&&tS(new th)!=tm||ty&&tS(new ty)!=tj)&&(tS=function(e){var t=eo(e),n="[object Object]"==t?e.constructor:void 0,r=n?es(n):"";if(r)switch(r){case tO:return tw;case tE:return tb;case tC:return tg;case tk:return tm;case t_:return tj}return t});var tx=tS,tP=Object.prototype.hasOwnProperty,tB=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&tP.call(e,"index")&&(n.index=e.index,n.input=e.input),n},tM=Q.Uint8Array,tA=function(e){var t=new e.constructor(e.byteLength);return new tM(t).set(new tM(e)),t},tD=function(e,t){var n=t?tA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},tF=/\w*$/,tT=function(e){var t=new e.constructor(e.source,tF.exec(e));return t.lastIndex=e.lastIndex,t},tL=Z?Z.prototype:void 0,tK=tL?tL.valueOf:void 0,tN=function(e,t){var n=t?tA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},tz=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return tA(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return tD(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return tN(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return tT(e);case"[object Symbol]":return tK?Object(tK.call(e)):{}}},tI=Object.create,tU=function(){function e(){}return function(t){if(!ei(t))return{};if(tI)return tI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),tR=function(e){return"function"!=typeof e.constructor||eJ(e)?{}:tU(tu(e))},tV=eq&&eq.isMap,tH=tV?e$(tV):function(e){return eD(e)&&"[object Map]"==tx(e)},tW=eq&&eq.isSet,t$=tW?e$(tW):function(e){return eD(e)&&"[object Set]"==tx(e)},tq="[object Arguments]",tG="[object Function]",tQ="[object Object]",tZ={};tZ[tq]=tZ["[object Array]"]=tZ["[object ArrayBuffer]"]=tZ["[object DataView]"]=tZ["[object Boolean]"]=tZ["[object Date]"]=tZ["[object Float32Array]"]=tZ["[object Float64Array]"]=tZ["[object Int8Array]"]=tZ["[object Int16Array]"]=tZ["[object Int32Array]"]=tZ["[object Map]"]=tZ["[object Number]"]=tZ[tQ]=tZ["[object RegExp]"]=tZ["[object Set]"]=tZ["[object String]"]=tZ["[object Symbol]"]=tZ["[object Uint8Array]"]=tZ["[object Uint8ClampedArray]"]=tZ["[object Uint16Array]"]=tZ["[object Uint32Array]"]=!0,tZ["[object Error]"]=tZ[tG]=tZ["[object WeakMap]"]=!1;var tY=function e(t,n,r,o,i,a){var l,u=1&n,c=2&n,s=4&n;if(r&&(l=i?r(t,o,i,a):r(t)),void 0!==l)return l;if(!ei(t))return t;var f=ez(t);if(f){if(l=tB(t),!u)return tt(t,l)}else{var d,p,v,h,y=tx(t),b=y==tG||"[object GeneratorFunction]"==y;if(eU(t))return te(t,u);if(y==tQ||y==tq||b&&!i){if(l=c||b?{}:tR(t),!u)return c?(p=(d=l)&&eM(t,e5(t),d),eM(t,tc(t),p)):(h=(v=l)&&eM(t,e6(t),v),eM(t,ta(t),h))}else{if(!tZ[y])return i?t:{};l=tz(t,y,u)}}a||(a=new ek);var g=a.get(t);if(g)return g;a.set(t,l),t$(t)?t.forEach(function(o){l.add(e(o,n,r,o,t,a))}):tH(t)&&t.forEach(function(o,i){l.set(i,e(o,n,r,i,t,a))});var m=s?c?td:tf:c?e5:e6,j=f?void 0:m(t);return e_(j||t,function(o,i){j&&(o=t[i=o]),eB(l,i,e(o,n,r,i,t,a))}),l},tX=function(e){return"symbol"==typeof e||eD(e)&&"[object Symbol]"==eo(e)},tJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,t0=/^\w*$/,t1=function(e,t){if(ez(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||tX(e))||t0.test(e)||!tJ.test(e)||null!=t&&e in Object(t)};function t2(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(t2.Cache||eC),n}t2.Cache=eC;var t9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t3=/\\(\\)?/g,t6=(i=(o=t2(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(t9,function(e,n,r,o){t.push(r?o.replace(t3,"$1"):n||e)}),t},function(e){return 500===i.size&&i.clear(),e})).cache,o),t4=1/0,t8=Z?Z.prototype:void 0,t7=t8?t8.toString:void 0,t5=function e(t){if("string"==typeof t)return t;if(ez(t))return I(t,e)+"";if(tX(t))return t7?t7.call(t):"";var n=t+"";return"0"==n&&1/t==-t4?"-0":n},ne=function(e,t){return ez(e)?e:t1(e,t)?[e]:t6(null==e?"":t5(e))},nt=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},nn=1/0,nr=function(e){if("string"==typeof e||tX(e))return e;var t=e+"";return"0"==t&&1/e==-nn?"-0":t},no=function(e,t){t=ne(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[nr(t[n++])];return n&&n==r?e:void 0},ni=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i},na=function(e,t){var n,r;return t=ne(t,e),n=e,null==(e=(r=t).length<2?n:no(n,ni(r,0,-1)))||delete e[nr(nt(t))]},nl=Object.prototype,nu=Function.prototype.toString,nc=nl.hasOwnProperty,ns=nu.call(Object),nf=function(e){if(!eD(e)||"[object Object]"!=eo(e))return!1;var t=tu(e);if(null===t)return!0;var n=nc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&nu.call(n)==ns},nd=function(e){return nf(e)?void 0:e},np=Z?Z.isConcatSpreadable:void 0,nv=function(e){return ez(e)||eN(e)||!!(np&&e&&e[np])},nh=function e(t,n,r,o,i){var a=-1,l=t.length;for(r||(r=nv),i||(i=[]);++a<l;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):tl(i,u):o||(i[i.length]=u)}return i},ny=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},nb=Math.max,ng=function(e,t,n){return t=nb(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=nb(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),ny(e,this,l)}},nm=function(e){return e},nj=Date.now,nw=(a=eS?function(e,t){return eS(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:nm,l=0,u=0,function(){var e=nj(),t=16-(e-u);if(u=e,t>0){if(++l>=800)return arguments[0]}else l=0;return a.apply(void 0,arguments)}),nO=nw(ng(c=function(e,t){var n={};if(null==e)return n;var r=!1;t=I(t,function(t){return t=ne(t,e),r||(r=t.length>1),t}),eM(e,td(e),n),r&&(n=tY(n,7,nd));for(var o=t.length;o--;)na(n,t[o]);return n},void 0,function(e){return(null==e?0:e.length)?nh(e,1):[]}),c+"");let nE=(0,g.MT)("event-editor")({blur:null,focus:null,last:null}),nC=nE.set,nk=nE.get;nE.use;let n_="plate",nS=Symbol("global-plate"),nx=(0,v.cn)(n_),nP=()=>(0,v.KO)(nx,nS)[0],{plateStore:nB,usePlateStore:nM}=(({decorate:e=null,editor:t=null,id:n,isRendered:r=!1,keyDecorate:o="1",keyEditor:i="1",keySelection:a="1",onChange:l=null,editorRef:u=null,plugins:c=[],rawPlugins:s=[],readOnly:f=!1,renderElement:d=null,renderLeaf:p=null,value:v=null,...h}={})=>{let y=B({decorate:e,editor:t,id:n,isRendered:r,keyDecorate:o,keyEditor:i,keySelection:a,onChange:l,editorRef:u,plugins:c,rawPlugins:s,readOnly:f,renderElement:d,renderLeaf:p,value:v,...h},{scope:n_,name:"plate"});return{plateStore:y.plateStore,usePlateStore:e=>{let t=nP();return(0,m.$K)(e)||y.usePlateStore(e).get.id(e)?y.usePlateStore(e):y.usePlateStore(t)}}})(),nA=e=>nM(e).get,nD=e=>nM(e).set,nF=e=>nM(e).use,nT=(e,t)=>{let n=nD(t)[e]();return(0,h.useCallback)(()=>{n((0,y.x0)())},[n])},nL=e=>{let t=nT("keyDecorate",e);return(0,h.useCallback)(()=>{t()},[t])},nK=({node:e,path:t=[],source:n,apply:r,query:o})=>{let i=[e,t];(0,w.Vq)(i,o)&&(n instanceof Function?r(e,n()):r(e,n)),(0,w.jg)(e)&&e.children.forEach((e,i)=>{nK({node:e,path:t.concat([i]),source:n,apply:r,query:o})})};var nN=function(e,t){return nw(ng(e,t,nm),e+"")},nz=function(e,t,n){(void 0===n||U(e[t],n))&&(void 0!==n||t in e)||ex(e,t,n)},nI=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var l=i[++r];if(!1===t(o[l],l,o))break}return e},nU=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},nR=function(e,t,n,r,o,i,a){var l=nU(e,n),u=nU(t,n),c=a.get(u);if(c){nz(e,n,c);return}var s=i?i(l,u,n+"",e,t,a):void 0,f=void 0===s;if(f){var d=ez(u),p=!d&&eU(u),v=!d&&!p&&eQ(u);(s=u,d||p||v)?ez(l)?s=l:eD(l)&&e3(l)?s=tt(l):p?(f=!1,s=te(u,!0)):v?(f=!1,s=tN(u,!0)):s=[]:nf(u)||eN(u)?(s=l,eN(l))?s=eM(l,e5(l)):(!ei(l)||ea(l))&&(s=tR(u)):f=!1}f&&(a.set(u,s),o(s,u,r,i,a),a.delete(u)),nz(e,n,s)},nV=function e(t,n,r,o,i){t!==n&&nI(n,function(a,l){if(i||(i=new ek),ei(a))nR(t,n,l,r,e,o,i);else{var u=o?o(nU(t,l),a,l+"",t,n,i):void 0;void 0===u&&(u=a),nz(t,l,u)}},e5)},nH=function e(t,n,r,o,i,a){return ei(t)&&ei(n)&&(a.set(n,t),nV(t,n,void 0,e,a),a.delete(n)),t},nW=function(e,t,n){if(!ei(n))return!1;var r=typeof t;return("number"==r?!!(e3(n)&&eV(t,n.length)):"string"==r&&t in n)&&U(n[t],e)},n$=function(e){return nN(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&nW(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t})},nq=n$(function(e,t,n,r){nV(e,t,n,r)}),nG=nN(function(e){return e.push(void 0,nH),ny(nq,void 0,e)});let nQ=(e,t={},n)=>{var r;if(t[e.key]){let{plugins:r,then:o,...i}=t[e.key];e=nG(i,e),n||null==r||r.forEach(t=>{e.plugins||(e.plugins=[]),e.plugins.find(e=>e.key===t.key)||e.plugins.push(t)})}e.plugins&&(e.plugins=e.plugins.map(e=>nQ(e,t,!0)));let{then:o}=e;return o?(void 0===e._thenReplaced&&(e._thenReplaced=0),e._thenReplaced<3&&(e.then=(n,r)=>{let i={key:e.key,...o(n,r)};return nG(nQ(i,t),i)},e._thenReplaced++)):null!==(r=t[e.key])&&void 0!==r&&r.then&&(e.then=t[e.key].then),e},nZ=e=>(t,n={})=>(n[e.key]=t,nQ({...e},n)),nY="deserializeAst",nX=nZ({key:nY,editor:{insertData:{format:"application/x-slate-fragment",getFragment:({data:e})=>{let t;let n=decodeURIComponent(window.atob(e));try{t=JSON.parse(n)}catch(e){}return t}}}}),nJ=(e,t={})=>(0,w.Zg)(e,{...t,block:!0}),n0=(e,t)=>{var n;let{selection:r}=e;if(!r)return!1;let o=null===(n=nJ(e,t))||void 0===n?void 0:n[1];return!!o&&((0,w.Vi)(e,r.focus,o)||(0,w.ul)(e.selection)&&(0,w.Vi)(e,r.anchor,o))},n1=e=>{let t=(0,w._6)(e);t&&Object.keys(t).forEach(t=>{(0,w.Ho)(e,t)})},n2="editorProtocol",n9=nZ({key:n2,withOverrides:e=>{let{deleteBackward:t,deleteForward:n,deleteFragment:r}=e,o=()=>{n0(e)&&n1(e)};return e.deleteBackward=e=>{t(e),o()},e.deleteForward=e=>{n(e),o()},e.deleteFragment=e=>{r(e),o()},e}}),n3="event-editor",n6=nZ({key:n3,handlers:{onFocus:e=>()=>{nC.focus(e.id)},onBlur:e=>()=>{nk.focus()===e.id&&nC.focus(null),nC.blur(e.id)}}}),n4=nZ({key:"history",withOverrides:e=>(0,O.VC)(e)}),n8="inline-void",n7=nZ({key:n8,withOverrides:e=>{let{isInline:t}=e,{isVoid:n}=e,r=[],o=[];return e.plugins.forEach(e=>{e.isInline&&r.push(e.type),e.isVoid&&o.push(e.type)}),e.isInline=e=>!!r.includes(e.type)||t(e),e.isVoid=e=>!!o.includes(e.type)||n(e),e}}),n5=(e,t)=>{let n=[];return[...e.plugins].reverse().forEach(e=>{var r;let o=null===(r=e.inject.pluginsByKey)||void 0===r?void 0:r[t.key];o&&n.push(o)}),[t,...n]},re=(e,{data:t,dataTransfer:n})=>e.every(e=>{var r,o;let i=null===(r=e.editor)||void 0===r?void 0:null===(o=r.insertData)||void 0===o?void 0:o.query;return!i||i({data:t,dataTransfer:n})}),rt=(e,t,{fragment:n,...r})=>{(0,w.kR)(e,()=>{t.some(e=>{var t,o,i;return(null===(t=e.editor)||void 0===t?void 0:null===(o=t.insertData)||void 0===o?void 0:null===(i=o.preInsert)||void 0===i?void 0:i.call(o,n,r))===!0}),e.insertFragment(n)})},rn=(e,{data:t,dataTransfer:n})=>(e.forEach(e=>{var r,o;let i=null===(r=e.editor)||void 0===r?void 0:null===(o=r.insertData)||void 0===o?void 0:o.transformData;i&&(t=i(t,{dataTransfer:n}))}),t),rr=(e,{fragment:t,...n})=>(e.forEach(e=>{var r,o;let i=null===(r=e.editor)||void 0===r?void 0:null===(o=r.insertData)||void 0===o?void 0:o.transformFragment;i&&(t=i(t,n))}),t),ro="insertData",ri=nZ({key:ro,withOverrides:e=>{let{insertData:t}=e;return e.insertData=n=>{[...e.plugins].reverse().some(t=>{var r;let o=t.editor.insertData;if(!o)return!1;let i=n5(e,t),{format:a,getFragment:l}=o;if(!a)return!1;let u=n.getData(a);if(!u)return;if(!re(i,{data:u,dataTransfer:n}))return!1;u=rn(i,{data:u,dataTransfer:n});let c=null==l?void 0:l({data:u,dataTransfer:n});return null!==(r=c)&&void 0!==r&&!!r.length&&!!(c=rr(i,{fragment:c,data:u,dataTransfer:n})).length&&(rt(e,i,{fragment:c,data:u,dataTransfer:n}),!0)})||t(n)},e}}),ra="p",rl="nodeFactory",ru=nZ({key:rl,withOverrides:e=>(e.blockFactory=t=>({type:rm(e,ra),children:[{text:""}],...t}),e.childrenFactory=()=>[e.blockFactory()],e)}),rc="prevSelection",rs=nZ({key:rc,handlers:{onKeyDown:e=>t=>{t.persist(),e.currentKeyboardEvent=t}},withOverrides:e=>{let{apply:t}=e;return e.apply=n=>{if("set_selection"===n.type){let{properties:r}=n;e.prevSelection=r,t(n),e.currentKeyboardEvent=null;return}t(n)},e}}),rf=nZ({key:"react",withOverrides:e=>(0,E.BU)(e)}),rd="\r",rp="\n",rv="\xa0",rh=" ",ry="	",rb=e=>{var t;return null!==(t=null==e?void 0:e.pluginsByKey)&&void 0!==t?t:{}},rg=(e,t)=>{var n;return null!==(n=rb(e)[t])&&void 0!==n?n:{key:t}},rm=(e,t)=>{var n,r;return null!==(n=null!==(r=rg(e,t).type)&&void 0!==r?r:t)&&void 0!==n?n:""},rj=e=>t=>(0,w.Gs)(t)||(0,w.kK)(t)&&e.isInline(t),rw=e=>()=>({type:e,children:[]}),rO=(e,t)=>e.some((e,n,r)=>{let o=r[n-1];return 0!==n&&t(e)!==t(o)}),rE=(e,t,n)=>{let r=rO(e,t),{fragment:o}=e.reduce((e,o)=>{if(r&&t(o)){let t=e.precedingBlock;t||(t=n(),e.precedingBlock=t,e.fragment.push(t)),t.children.push(o)}else e.fragment.push(o),e.precedingBlock=null;return e},{fragment:[],precedingBlock:null});return o},rC=e=>e.length?e:[{text:""}],rk=(e,t,n)=>e=(e=rE(e=rC(e),t,n)).map(e=>(0,w.kK)(e)?{...e,children:rk(e.children,t,n)}:e),r_=(e,{descendants:t})=>rk(t,rj(e),rw(rm(e,ra)));/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function rS(e){return"[object Object]"===Object.prototype.toString.call(e)}function rx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rP=new WeakMap,rB=new WeakMap;class rM{}class rA extends rM{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:n}=e;this.offset=t,this.path=n}}class rD extends rM{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();var{offset:t,path:n}=e;this.offset=t,this.path=n}}var rF=(e,t)=>{var n=e.text.length;rP.set(e,[n,t])},rT=e=>rP.get(e),rL=(e,t)=>{var n=e.text.length;rB.set(e,[n,t])},rK=e=>rB.get(e);function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(t){rx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rI=new WeakSet,rU=e=>{var t=[],n=e=>{if(null!=e){var r=t[t.length-1];if("string"==typeof e){var o={text:e};rI.add(o),e=o}if(_.xv.isText(e)){var i=e;_.xv.isText(r)&&rI.has(r)&&rI.has(i)&&_.xv.equals(r,i,{loose:!0})?r.text+=i.text:t.push(i)}else if(_.W_.isElement(e))t.push(e);else if(e instanceof rM){var a=t[t.length-1];_.xv.isText(a)||(n(""),a=t[t.length-1]),e instanceof rA?rF(a,e):e instanceof rD&&rL(a,e)}else throw Error("Unexpected hyperscript child object: ".concat(e))}};for(var r of e.flat(1/0))n(r);return t};function rR(e,t,n){return rz(rz({},t),{},{children:rU(n)})}function rV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rV(Object(n),!0).forEach(function(t){rx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var rW={anchor:function(e,t,n){return new rA(t)},cursor:function(e,t,n){return[new rA(t),new rD(t)]},editor:(s=_.Jh,(e,t,n)=>{var r,o=[];for(var i of n)_.e6.isRange(i)?r=i:o.push(i);var a=rU(o),l={},u=s();for(var[c,f]of(Object.assign(u,t),u.children=a,_.NB.texts(u))){var d=rT(c),p=rK(c);if(null!=d){var[v]=d;l.anchor={path:f,offset:v}}if(null!=p){var[h]=p;l.focus={path:f,offset:h}}}if(l.anchor&&!l.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!l.anchor&&l.focus)throw Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return null!=r?u.selection=r:_.e6.isRange(l)&&(u.selection=l),u}),element:rR,focus:function(e,t,n){return new rD(t)},fragment:function(e,t,n){return rU(n)},selection:function(e,t,n){var r=n.find(e=>e instanceof rA),o=n.find(e=>e instanceof rD);if(!r||null==r.offset||null==r.path)throw Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!o||null==o.offset||null==o.path)throw Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return rz({anchor:{offset:r.offset,path:r.path},focus:{offset:o.offset,path:o.path}},t)},text:function(e,t,n){var r=rU(n);if(r.length>1)throw Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[o]=r;if(null==o&&(o={text:""}),!_.xv.isText(o))throw Error("\n    The <text> hyperscript tag can only contain text content as children.");return rI.delete(o),Object.assign(o,t),o}},r$=e=>function(t,n){for(var r,o,i,a=arguments.length,l=Array(a>2?a-2:0),u=2;u<a;u++)l[u-2]=arguments[u];var c=e[t];if(!c)throw Error("No hyperscript creator found for tag: <".concat(t,">"));return null==n&&(n={}),!1!==rS(r=n)&&(void 0===(o=r.constructor)||!1!==rS(i=o.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf"))||(l=[n].concat(l),n={}),c(t,n,l=l.filter(e=>!!e).flat())},rq=e=>{var t={};for(var n in e)!function(n){var r=e[n];if("object"!=typeof r)throw Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(r));t[n]=(e,t,n)=>rR("element",rH(rH({},r),t),n)}(n);return t},rG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{elements:t={}}=e,n=rq(t);return r$(rH(rH(rH({},rW),n),e.creators))}();let rQ=(e,t)=>Array.from(t.childNodes).map(r8(e)).flat(),rZ=(e,t)=>{if("BODY"===t.nodeName)return rG("fragment",{},rQ(e,t))},rY=e=>{if("BR"===e.nodeName)return"\n"};var rX=function(){if(!arguments.length)return[];var e=arguments[0];return ez(e)?e:[e]};let rJ=(e,t,{element:n,deserializeLeaf:r})=>{var o;let{deserializeHtml:i,isElement:a,isLeaf:l,type:u}=t;if(!i)return;let{attributeNames:c,query:s,isLeaf:f,isElement:d,rules:p}=i,{getNode:v}=i,h=d||a,y=f||l;if(!r&&!h||r&&!y||p&&!p.some(({validNodeName:e="*",validStyle:r,validClassName:o,validAttribute:i})=>{if(e){let t=rX(e);if(t.length&&!t.includes(n.nodeName)&&"*"!==e)return!1}if(o&&!n.classList.contains(o))return!1;if(r)for(let[e,o]of Object.entries(r)){var a;if(!rX(o).includes(n.style[e])&&"*"!==o||"*"===o&&!n.style[e])return;let r=null===(a=t.inject.props)||void 0===a?void 0:a.defaultNodeValue;if(r&&r===n.style[e])return!1}if(i){if("string"==typeof i){if(!n.getAttributeNames().includes(i))return!1}else for(let[e,t]of Object.entries(i)){let r=rX(t),o=n.getAttribute(e);if(!(0,m.$K)(o)||!r.includes(o))return!1}}return!0})||s&&!s(n))return;if(!v){if(h)v=()=>({type:u});else{if(!y)return;v=()=>({[u]:!0})}}let b=null!==(o=v(n,{}))&&void 0!==o?o:{};if(Object.keys(b).length){if(n5(e,t).forEach(e=>{var t,r;let o=null===(t=e.deserializeHtml)||void 0===t?void 0:null===(r=t.getNode)||void 0===r?void 0:r.call(t,n,b);o&&(b={...b,...o})}),c){let e={};for(let t of n.getAttributeNames())c.includes(t)&&(e[t]=n.getAttribute(t));Object.keys(e).length&&(b.attributes=e)}return{...i,node:b}}},r0=(e,t)=>{let n;return[...e.plugins].reverse().some(r=>!!(n=rJ(e,r,{element:t}))),n},r1=(e,t)=>{let n=r0(e,t);if(n){var r;let{node:o,withoutChildren:i}=n,a=null!==(r=o.children)&&void 0!==r?r:rQ(e,t);return(!a.length||i)&&(a=[{text:""}]),rG("element",o,a)}},r2=(e,t)=>{let n={};return[...e.plugins].reverse().forEach(r=>{let o=rJ(e,r,{element:t,deserializeLeaf:!0});o&&(n={...n,...o.node})}),n},r9=(e,t)=>{let n=r2(e,t);return rQ(e,t).reduce((e,t)=>{if(!t)return e;if((0,w.kK)(t))Object.keys(n).length&&i_({node:t,source:n,query:{filter:([e])=>(0,w.Gs)(e)}}),e.push(t);else{let r={...n};(0,w.Gs)(t)&&t.text&&Object.keys(r).forEach(e=>{r[e]&&t[e]&&(r[e]=t[e])}),e.push(rG("text",r,t))}return e},[])},r3=e=>e.nodeType===Node.TEXT_NODE,r6=e=>{if(r3(e)){var t,n;let r=null!==(t=null===(n=e.textContent)||void 0===n?void 0:n.replace(/^\n+|\n+$/g,""))&&void 0!==t?t:"";return r.length>0?r:null}},r4=e=>e.nodeType===Node.ELEMENT_NODE,r8=e=>t=>{let n=r6(t);if(n)return n;if(!r4(t))return null;let r=rY(t);if(r)return r;let o=rZ(e,t);return o?o:r1(e,t)||r9(e,t)},r7=(e,t)=>r8(e)(t),r5=(e,t=!0)=>{let n=document.createElement("body");return n.innerHTML=e,t&&(n.innerHTML=n.innerHTML.replace(/(\r\n|\n|\r|\t)/gm,"")),n},oe=(e,{element:t,stripWhitespace:n=!0})=>{"string"==typeof t&&(t=r5(t,n));let r=r7(e,t);return r_(e,{descendants:r})},ot=e=>new DOMParser().parseFromString(e,"text/html"),on="deserializeHtml",or=nZ({key:on,then:e=>({editor:{insertData:{format:"text/html",getFragment:({data:t})=>oe(e,{element:ot(t).body})}}})}),oo=(e,t)=>{if(!t(e))return;let n=e.firstChild;for(;n;){let r=n,o=n.previousSibling;n=n.nextSibling,oo(r,t),r.previousSibling||r.nextSibling||r.parentNode||!n||o===n.previousSibling||!n.parentNode?r.previousSibling||r.nextSibling||r.parentNode||!n||n.previousSibling||n.nextSibling||n.parentNode||(o?n=o.nextSibling?o.nextSibling.nextSibling:null:e.firstChild&&(n=e.firstChild.nextSibling)):n=o?o.nextSibling:e.firstChild}},oi=(e,t)=>{oo(e,e=>!r4(e)||t(e))},oa=e=>{oi(e,e=>{if("BR"!==e.tagName)return!0;let t=document.createTextNode(rp);return e.parentElement&&e.parentElement.replaceChild(t,e),!1})},ol=["BR","IMG","TH","TD"],ou=e=>!ol.includes(e.nodeName)&&!e.innerHTML.trim(),oc=e=>{if(ou(e)){let{parentElement:t}=e;e.remove(),t&&oc(t)}},os=e=>{oi(e,e=>(oc(e),!0))},of=(e,t)=>{let n=document.createElement(t);for(let{name:t}of(n.innerHTML=e.innerHTML,e.attributes)){let r=e.getAttribute(t);r&&n.setAttribute(t,r)}return e.parentNode&&e.parentNode.replaceChild(n,e),n},od=e=>{oi(e,e=>("FONT"===e.tagName&&(e.textContent?of(e,"span"):e.remove()),!0))},op=e=>e.startsWith("#"),ov=e=>{e.outerHTML=e.innerHTML},oh=e=>{oi(e,e=>{if("A"!==e.tagName)return!0;let t=e.getAttribute("href");if((!t||op(t))&&ov(e),t&&e.querySelector("img"))for(let t of e.querySelectorAll("span"))t.innerText||ov(t);return!0})},oy=(e,t)=>{oo(e,e=>!r3(e)||t(e))},ob=e=>{oy(e,e=>{if(/^\n\s*$/.test(e.data)&&(e.previousElementSibling||e.nextElementSibling))return e.remove(),!0;if(e.data=e.data.replace(/\n\s*/g,"\n"),e.data.includes(rd)||e.data.includes(rp)||e.data.includes(rv)){let t=e.data.includes(rh),n=/\S/.test(e.data),r=e.data.includes(rp);if(!(t||n)&&!r)return e.data===rv?e.data=rh:e.remove(),!0;if(e.previousSibling&&"BR"===e.previousSibling.nodeName&&e.parentElement){e.parentElement.removeChild(e.previousSibling);let t=e.data.match(/^[\r\n]+/),n=t?t[0].length:0;e.data=e.data.substring(n).replace(RegExp(rp,"g"),rh).replace(RegExp(rd,"g"),rh),e.data=`
${e.data}`}else e.data=e.data.replace(RegExp(rp,"g"),rh).replace(RegExp(rd,"g"),rh)}return!0})},og=e=>/^(address|blockquote|body|center|dir|div|dl|fieldset|form|h[1-6]|hr|isindex|menu|noframes|noscript|ol|p|pre|table|ul|dd|dt|frameset|li|tbody|td|tfoot|th|thead|tr|html)$/i.test(e.nodeName),om=e=>"TABLE"===e.nodeName,oj=e=>{oi(e,e=>{if(!e.getAttribute("style"))return!0;if(og(e)&&!om(e)){let{style:{backgroundColor:t,color:n,fontFamily:r,fontSize:o,fontStyle:i,fontWeight:a,textDecoration:l}}=e;if(t||n||r||o||i||a||l){let t=document.createElement("span");["initial","inherit"].includes(n)||(t.style.color=n),t.style.fontFamily=r,t.style.fontSize=o,["normal","initial","inherit"].includes(n)||(t.style.fontStyle=i),["normal",400].includes(a)||(t.style.fontWeight=a),t.style.textDecoration=l,t.innerHTML=e.innerHTML,e.innerHTML=t.outerHTML}}return!0})},ow=(e,t)=>{let n=null;return oi(e,e=>!t(e)||(n=e,!1)),n},oO=(e,t)=>!!ow(e,t),oE=()=>NodeFilter.FILTER_ACCEPT,oC=e=>{let t=[],n=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode:oE}),r=n.nextNode();for(;r;)r.nodeValue&&t.push(r.nodeValue),r=n.nextNode();return t},ok=e=>e.nodeType===Node.COMMENT_NODE,o_=e=>{let t=e.trim().replace(RegExp("â€‹","g"),"");return`<body>${t}</body>`},oS=e=>{let t=e.indexOf("<html");return -1===t?e:e.substring(t)},ox=e=>{let t=e.lastIndexOf("</html>");return -1===t?e:e.substring(0,t+7)},oP=[e=>oS(ox(e)),e=>e.replace(/(\r\n|\r)/gm,"\n")],oB=e=>oP.reduce((e,t)=>t(e),e),oM=(e,t)=>{oo(e,e=>!ok(e)||t(e))},oA=(e,t,n)=>{let r=e=>ok(e)&&e.data===n;oM(e,e=>{if(e.data===t){let t=e.nextSibling;for(e.remove();t&&!r(t);){let{nextSibling:e}=t;t.remove(),t=e}t&&r(t)&&t.remove()}return!0})};var oD=function(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r},oF=function(e,t){if(null==e)return e;if(!e3(e))return e&&nI(e,t,e6);for(var n=e.length,r=f?n:-1,o=Object(e);(f?r--:++r<n)&&!1!==t(o[r],r,o););return e},oT=function(e,t,n,r){return oF(e,function(e,o,i){t(r,e,n(e),i)}),r};function oL(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new eC;++t<n;)this.add(e[t])}oL.prototype.add=oL.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oL.prototype.has=function(e){return this.__data__.has(e)};var oK=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},oN=function(e,t,n,r,o,i){var a=1&n,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=i.get(e),s=i.get(t);if(c&&s)return c==t&&s==e;var f=-1,d=!0,p=2&n?new oL:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],h=t[f];if(r)var y=a?r(h,v,f,t,e,i):r(v,h,f,e,t,i);if(void 0!==y){if(y)continue;d=!1;break}if(p){if(!oK(t,function(e,t){if(!p.has(t)&&(v===e||o(v,e,n,r,i)))return p.push(t)})){d=!1;break}}else if(!(v===h||o(v,h,n,r,i))){d=!1;break}}return i.delete(e),i.delete(t),d},oz=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},oI=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},oU=Z?Z.prototype:void 0,oR=oU?oU.valueOf:void 0,oV=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new tM(e),new tM(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return U(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=oz;case"[object Set]":var u=1&r;if(l||(l=oI),e.size!=t.size&&!u)break;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var s=oN(l(e),l(t),r,o,i,a);return a.delete(e),s;case"[object Symbol]":if(oR)return oR.call(e)==oR.call(t)}return!1},oH=Object.prototype.hasOwnProperty,oW=function(e,t,n,r,o,i){var a=1&n,l=tf(e),u=l.length;if(u!=tf(t).length&&!a)return!1;for(var c=u;c--;){var s=l[c];if(!(a?s in t:oH.call(t,s)))return!1}var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=a;++c<u;){var h=e[s=l[c]],y=t[s];if(r)var b=a?r(y,h,s,t,e,i):r(h,y,s,e,t,i);if(!(void 0===b?h===y||o(h,y,n,r,i):b)){p=!1;break}v||(v="constructor"==s)}if(p&&!v){var g=e.constructor,m=t.constructor;g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m)&&(p=!1)}return i.delete(e),i.delete(t),p},o$="[object Arguments]",oq="[object Array]",oG="[object Object]",oQ=Object.prototype.hasOwnProperty,oZ=function(e,t,n,r,o,i){var a=ez(e),l=ez(t),u=a?oq:tx(e),c=l?oq:tx(t);u=u==o$?oG:u,c=c==o$?oG:c;var s=u==oG,f=c==oG,d=u==c;if(d&&eU(e)){if(!eU(t))return!1;a=!0,s=!1}if(d&&!s)return i||(i=new ek),a||eQ(e)?oN(e,t,n,r,o,i):oV(e,t,u,n,r,o,i);if(!(1&n)){var p=s&&oQ.call(e,"__wrapped__"),v=f&&oQ.call(t,"__wrapped__");if(p||v){var h=p?e.value():e,y=v?t.value():t;return i||(i=new ek),o(h,y,n,r,i)}}return!!d&&(i||(i=new ek),oW(e,t,n,r,o,i))},oY=function e(t,n,r,o,i){return t===n||(null!=t&&null!=n&&(eD(t)||eD(n))?oZ(t,n,r,o,e,i):t!=t&&n!=n)},oX=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var u=(l=n[o])[0],c=e[u],s=l[1];if(a&&l[2]){if(void 0===c&&!(u in e))return!1}else{var f=new ek;if(r)var d=r(c,s,u,e,t,f);if(!(void 0===d?oY(s,c,3,r,f):d))return!1}}return!0},oJ=function(e){return e==e&&!ei(e)},o0=function(e){for(var t=e6(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,oJ(o)]}return t},o1=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},o2=function(e){var t=o0(e);return 1==t.length&&t[0][2]?o1(t[0][0],t[0][1]):function(n){return n===e||oX(n,e,t)}},o9=function(e,t,n){var r=null==e?void 0:no(e,t);return void 0===r?n:r},o3=function(e,t){return null!=e&&t in Object(e)},o6=function(e,t,n){t=ne(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=nr(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&eH(o)&&eV(a,o)&&(ez(e)||eN(e))},o4=function(e){var t;return t1(e)?(t=nr(e),function(e){return null==e?void 0:e[t]}):function(t){return no(t,e)}},o8=function(e){if("function"==typeof e)return e;if(null==e)return nm;if("object"==typeof e){var t,n;return ez(e)?(t=e[0],n=e[1],t1(t)&&oJ(n)?o1(nr(t),n):function(e){var r=o9(e,t);return void 0===r&&r===n?null!=e&&o6(e,t,o3):oY(n,r,3)}):o2(e)}return o4(e)},o7=(d=function(e,t,n){ex(e,n,t)},function(e,t){var n=ez(e)?oD:oT,r=p?p():{};return n(e,d,o8(t),r)}),o5=n$(function(e,t,n){nV(e,t,n)});let ie=(e,t)=>{let n={...t},{then:r}=n;if(r){delete n.then;let{plugins:t}=n,i=ie(e,nG(r(e,n),n));if(t&&i.plugins){var o;let e=o5(o7(t,"key"),o7(i.plugins,"key"));i.plugins=null==(o=e)?[]:I(e6(o),function(e){return o[e]})}return i}return n},it=e=>(void 0===e.type&&(e.type=e.key),e.options||(e.options={}),e.inject||(e.inject={}),e.editor||(e.editor={}),e),ir=(e,t)=>{t&&t.forEach(t=>{let n=it(t);if(n=ie(e,n),e.pluginsByKey[n.key]){let t=e.plugins.indexOf(e.pluginsByKey[n.key]),r=nG(n,e.pluginsByKey[n.key]);t>=0&&(e.plugins[t]=r),e.pluginsByKey[n.key]=r}else e.plugins.push(n),e.pluginsByKey[n.key]=n;ir(e,n.plugins)})},io=(e,{disableCorePlugins:t,plugins:n=[]})=>{let r=[];if(!0!==t){var o,i,a,l,u,c,s,f,d,p,v,h,y,b,g,m,j,w,O,E;"object"==typeof t&&null!=t&&t.react||r.push(null!==(o=null==e?void 0:null===(i=e.pluginsByKey)||void 0===i?void 0:i.react)&&void 0!==o?o:rf()),"object"==typeof t&&null!=t&&t.history||r.push(null!==(a=null==e?void 0:null===(l=e.pluginsByKey)||void 0===l?void 0:l.history)&&void 0!==a?a:n4()),"object"==typeof t&&null!=t&&t.nodeFactory||r.push(null!==(u=null==e?void 0:null===(c=e.pluginsByKey)||void 0===c?void 0:c[rl])&&void 0!==u?u:ru()),"object"==typeof t&&null!=t&&t.eventEditor||r.push(null!==(s=null==e?void 0:null===(f=e.pluginsByKey)||void 0===f?void 0:f[n3])&&void 0!==s?s:n6()),"object"==typeof t&&null!=t&&t.inlineVoid||r.push(null!==(d=null==e?void 0:null===(p=e.pluginsByKey)||void 0===p?void 0:p[n8])&&void 0!==d?d:n7()),"object"==typeof t&&null!=t&&t.insertData||r.push(null!==(v=null==e?void 0:null===(h=e.pluginsByKey)||void 0===h?void 0:h[ro])&&void 0!==v?v:ri()),"object"==typeof t&&null!=t&&t.selection||r.push(null!==(y=null==e?void 0:null===(b=e.pluginsByKey)||void 0===b?void 0:b[rc])&&void 0!==y?y:rs()),"object"==typeof t&&null!=t&&t.deserializeHtml||r.push(null!==(g=null==e?void 0:null===(m=e.pluginsByKey)||void 0===m?void 0:m[on])&&void 0!==g?g:or()),"object"==typeof t&&null!=t&&t.deserializeAst||r.push(null!==(j=null==e?void 0:null===(w=e.pluginsByKey)||void 0===w?void 0:w[nY])&&void 0!==j?j:nX()),"object"==typeof t&&null!=t&&t.editorProtocol||r.push(null!==(O=null==e?void 0:null===(E=e.pluginsByKey)||void 0===E?void 0:E[n2])&&void 0!==O?O:n9())}r=[...r,...n],e.plugins=[],e.pluginsByKey={},ir(e,r),e.plugins.forEach(t=>{if(t.overrideByKey){let n=e.plugins.map(e=>nQ(e,t.overrideByKey));e.plugins=[],e.pluginsByKey={},ir(e,n)}})},ii=e=>()=>{console.warn(`editor.${e} should have been overriden but was not. Please report this issue here: https://github.com/udecode/plate/issues`)},ia=(e,{id:t,plugins:n=[],disableCorePlugins:r}={})=>{let o=e;return o.id=null!=t?t:o.id,o.prevSelection=null,o.currentKeyboardEvent=null,o.reset=()=>ii("reset"),o.redecorate=()=>ii("redecorate"),o.plate={get set(){return null}},o.key||(o.key=Math.random()),io(o,{plugins:n,disableCorePlugins:r}),o.plugins.forEach(e=>{e.withOverrides&&(o=e.withOverrides(o,e))}),o};var il=function(e){return tY(e,5)};let iu=(e,{components:t,overrideByKey:n}={})=>{let r={};return(n&&(r=il(n)),t&&Object.keys(t).forEach(e=>{r[e]||(r[e]={}),r[e].component=t[e]}),Object.keys(r).length)?e.map(e=>nQ(e,r)):e},ic=({editor:e=(0,w.tc)(),plugins:t=[],components:n,overrideByKey:r,normalizeInitialValue:o,...i}={})=>{let a=ia(e,{plugins:t=iu(t,{components:n,overrideByKey:r}),...i});return o&&(0,w.Nh)(a,{force:!0}),a},is=(e,t)=>{let n=rX(t);return Object.values(e.pluginsByKey).filter(e=>n.includes(e.type)).map(e=>e.key)},id=(e,t)=>{var n,r;return null!==(n=null===(r=rg(e,t).inject)||void 0===r?void 0:r.props)&&void 0!==n?n:{}},ip=(e,t)=>{var n;return null!==(n=rg(e,t).options)&&void 0!==n?n:{}},iv=(e,t)=>t.map(t=>rm(e,t)),ih=e=>`slate-${e}`,iy=({attributes:e,nodeProps:t,props:n,type:r})=>{let o={};if(n){var i;o=null!==(i="function"==typeof n?n(t):n)&&void 0!==i?i:{}}!o.nodeProps&&e&&(o.nodeProps=e),(t={...t,...o}).nodeProps&&Object.keys(t.nodeProps).forEach(e=>{var n,r;(null===(n=t.nodeProps)||void 0===n?void 0:n[e])===void 0&&(null===(r=t.nodeProps)||void 0===r||delete r[e])});let{className:a}=t;return{...t,className:(0,C.Z)(ih(r),a)}};var ib=$(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n=()=>"undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o=()=>({add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n()?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"}),i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function l(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(e){return u(e,t)}),o=function(e){return r.some(function(t){return c(t,e)})};return null==n?o:o(n)}function u(e,t){var n=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var l in r)o[r[l]]=!1;var u=!0,c=!1,d=void 0;try{for(var p,v=i[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){var h=p.value,y=h.endsWith("?")&&h.length>1;y&&(h=h.slice(0,-1));var b=f(h),g=r[b];1!==a&&g||(n?o.key=b:o.which=s(h)),g&&(o[g]=!y||null)}}catch(e){c=!0,d=e}finally{try{!u&&v.return&&v.return()}finally{if(c)throw d}}return o}function c(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&(null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r)return!1}return!0}function s(e){return i[e=f(e)]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=o()[e]||e}t.default=l,t.isHotkey=l,t.isCodeHotkey=function(e,t){return l(e,t)},t.isKeyHotkey=function(e,t){return l(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=c,t.toKeyCode=s,t.toKeyName=f});ib&&ib.__esModule&&Object.prototype.hasOwnProperty.call(ib,"default")&&ib.default,ib.isHotkey,ib.isCodeHotkey;var ig=ib.isKeyHotkey;ib.parseHotkey,ib.compareHotkey,ib.toKeyCode,ib.toKeyName;let im={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",splitBlock:"enter",tab:"tab",untab:"shift+tab",undo:"mod+z"},ij={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},iw={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},iO=e=>{let t=im[e],n=ij[e],r=iw[e],o=t&&ig(t),i=n&&ig(n),a=r&&ig(r);return e=>!!(o&&o(e)||m.jB&&i&&i(e)||!m.jB&&a&&a(e))},iE=e=>(t,n,{composing:r}={})=>!!iO(e)(n)&&!!r===(0,k.bH)(t),iC={isBold:iO("bold"),isCompose:iO("compose"),isMoveBackward:iO("moveBackward"),isMoveForward:iO("moveForward"),isDeleteBackward:iO("deleteBackward"),isDeleteForward:iO("deleteForward"),isDeleteLineBackward:iO("deleteLineBackward"),isDeleteLineForward:iO("deleteLineForward"),isDeleteWordBackward:iO("deleteWordBackward"),isDeleteWordForward:iO("deleteWordForward"),isExtendBackward:iO("extendBackward"),isExtendForward:iO("extendForward"),isExtendLineBackward:iO("extendLineBackward"),isExtendLineForward:iO("extendLineForward"),isItalic:iO("italic"),isMoveLineBackward:iO("moveLineBackward"),isMoveLineForward:iO("moveLineForward"),isMoveWordBackward:iO("moveWordBackward"),isMoveWordForward:iO("moveWordForward"),isRedo:iO("redo"),isSoftBreak:iO("insertSoftBreak"),isSplitBlock:iO("splitBlock"),isTab:iE("tab"),isTransposeCharacter:iO("transposeCharacter"),isUndo:iO("undo"),isUntab:iE("untab")},ik=(e,t,n)=>{var r;let o=null===(r=t.inject.props)||void 0===r?void 0:r.validTypes;if(!o)return;let i=is(e,o),a={};return i.forEach(e=>{a[e]=n}),{inject:{pluginsByKey:a}}},i_=e=>{nK({...e,apply:o5})},iS=e=>({key:"",type:"",editor:{},inject:{},options:{},...e}),ix=(e,t)=>{let n=il(t);if(e.plugins.forEach(e=>{var t;let r=null===(t=e.normalizeInitialValue)||void 0===t?void 0:t.call(e,n);r&&(n=r)}),!oY(t,n))return n},iP=(e,t)=>{let n=e.plugins.flatMap(t=>{var n,r;return null!==(n=null===(r=t.decorate)||void 0===r?void 0:r.call(t,e,t))&&void 0!==n?n:[]});if(t&&n.push(t),n.length)return e=>{let t=[],r=e=>{null!=e&&e.length&&(t=[...t,...e])};return n.forEach(t=>{r(t(e))}),t}},iB=(e,t)=>{if(!t)return!1;let n=t(e);return null!=n?n:e.isPropagationStopped()},iM=(e,{editableProps:t,handlerKey:n})=>{let r=[];r=e.plugins.flatMap(t=>{var r,o,i;return null!==(r=null===(o=t.handlers)||void 0===o?void 0:null===(i=o[n])||void 0===i?void 0:i.call(o,e,t))&&void 0!==r?r:[]});let o=null==t?void 0:t[n];if(r.length||o)return e=>!!r.some(t=>iB(e,t))||iB(e,o)},iA=(e,{key:t,inject:{props:n}},r)=>{var o,i,a;let{element:l,text:u,className:c,style:s}=r,f=null!=l?l:u;if(!f||!n)return;let{nodeKey:d=t,styleKey:p=d,validTypes:v,classNames:h,transformClassName:y,transformNodeValue:b,transformStyle:g,validNodeValues:m,defaultNodeValue:j}=n;if(v&&(0,w.kK)(f)&&f.type&&!v.includes(f.type))return;let O=f[d];if(!O||m&&!m.includes(O)||O===j)return;let E={},k={...r,nodeValue:O},_=null!==(o=null==b?void 0:b(k))&&void 0!==o?o:O;return l&&(E.className=(0,C.Z)(c,`slate-${d}-${O}`)),(null!=h&&h[O]||y)&&(E.className=null!==(i=null==y?void 0:y(k))&&void 0!==i?i:(0,C.Z)(c,null==h?void 0:h[_])),p&&(E.style=null!==(a=null==g?void 0:g(k))&&void 0!==a?a:{...s,[p]:_}),E},iD=(e,t)=>(e.plugins.forEach(n=>{if(n.inject.props){let r=iA(e,n,t);r&&(t={...t,...r})}}),{...t,editor:e}),iF=e=>{let t=e.plugins.flatMap(t=>{var n,r,o;return null!==(n=null===(r=t.handlers)||void 0===r?void 0:null===(o=r.onChange)||void 0===o?void 0:o.call(r,e,t))&&void 0!==n?n:[]});return e=>t.some(t=>{if(!t)return!1;let n=t(e);return null!=n&&n})},iT=(e,{key:t,type:n,component:r,props:o})=>i=>{let{element:a,children:l}=i;if(a.type===n){let u=null!=r?r:E.Qr,c=e.plugins.flatMap(e=>{var t,n;return null!==(t=null===(n=e.inject)||void 0===n?void 0:n.aboveComponent)&&void 0!==t?t:[]}),s=e.plugins.flatMap(e=>{var t,n;return null!==(t=null===(n=e.inject)||void 0===n?void 0:n.belowComponent)&&void 0!==t?t:[]});i=iy({attributes:a.attributes,nodeProps:i,props:o,type:n});let f=l;s.forEach(e=>{let n=e({...i,key:t});n&&(f=n({...i,children:f}))});let d=h.createElement(u,i,f);return c.forEach(e=>{let n=e({...i,key:t});n&&(d=n({...i,children:d}))}),h.createElement(K,{element:a,scope:t},d)}},iL=(e,t)=>{let n=[];return e.plugins.forEach(t=>{t.isElement&&n.push(iT(e,t))}),r=>{let o;let i=iD(e,r);return(n.some(e=>!!(o=e(i))),o)?o:t?t(i):h.createElement(E.Qr,i)}},iK=(e,{key:t,type:n=t,component:r,props:o})=>e=>{let{leaf:t,children:i}=e;return t[n]?(e=iy({attributes:t.attributes,props:o,nodeProps:e,type:n}),h.createElement(null!=r?r:z,e,i)):i},iN=(e,t)=>{let n=[];return e.plugins.forEach(t=>{t.isLeaf&&t.key&&n.push(iK(e,t))}),r=>{let o=iD(e,r);return(n.forEach(e=>{let t=e(o);void 0!==t&&(o.children=t)}),t)?t(o):h.createElement(z,o)}},iz=e=>{let t=nA(e).editor(),n=nD(e).editor();return(0,h.useCallback)(()=>{n(ic({id:t.id,plugins:t.plugins,disableCorePlugins:!0}))},[t,n])},iI=e=>nA(e).editor(),iU=e=>(nA(e).keySelection(),iI(e).selection),iR=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],iV=({id:e,...t}={})=>{var n,r,o;let i=iI(e),a=nA(e),l=a.keyDecorate(),u=a.readOnly(),c=null===(n=a.decorate())||void 0===n?void 0:n.fn,s=null===(r=a.renderLeaf())||void 0===r?void 0:r.fn,f=null===(o=a.renderElement())||void 0===o?void 0:o.fn,d=(0,h.useMemo)(()=>iP(i,null!=c?c:null==t?void 0:t.decorate),[null==t?void 0:t.decorate,i,c]),p=(0,h.useMemo)(()=>{if(l&&d)return e=>d(e)},[d,l]),v=(0,h.useMemo)(()=>iL(i,null!=f?f:null==t?void 0:t.renderElement),[null==t?void 0:t.renderElement,i,f]),y=(0,h.useMemo)(()=>iN(i,null!=s?s:null==t?void 0:t.renderLeaf),[null==t?void 0:t.renderLeaf,i,s]),b=(0,j.NY)(()=>{let e={decorate:p,renderElement:v,renderLeaf:y};return(0,m.$K)(u)&&(e.readOnly=u),iR.forEach(n=>{let r=iM(i,{editableProps:t,handlerKey:n});r&&(e[n]=r)}),e},[p,t,v,y,u]);return(0,j.NY)(()=>({...nO(t,[...iR,"renderElement","renderLeaf"]),...b}),[t,b])},iH=()=>(0,E._7)(),iW=()=>(0,E.ui)(),i$=({setState:e,state:t,nextState:n,nextStateValue:r=n})=>{(0,h.useEffect)(()=>{n!==t&&void 0!==n&&e(r)},[e,t,n,r])},iq=({id:e,disableCorePlugins:t,value:n,onChange:r,plugins:o,editorRef:i,decorate:a,renderElement:l,renderLeaf:u,readOnly:c})=>{let s=iI(e),f=nF(e),[d,p]=f.value(),[v,y]=f.editorRef(),[b,g]=f.decorate(),[m,j]=f.renderElement(),[w,O]=f.renderLeaf(),[E,C]=f.rawPlugins(),[,k]=f.plugins(),[_,S]=f.onChange(),[x,P]=f.readOnly();i$({state:d,setState:p,nextState:n}),i$({state:x,setState:P,nextState:c}),i$({state:E,setState:k,nextState:o,nextStateValue:null!=o?o:[]}),i$({state:null==_?void 0:_.fn,setState:S,nextState:r,nextStateValue:r?{fn:r}:null}),i$({state:null==v?void 0:v.ref,setState:y,nextState:i,nextStateValue:i?{ref:i}:null}),i$({state:null==b?void 0:b.fn,setState:g,nextState:a,nextStateValue:a?{fn:a}:null}),i$({state:null==m?void 0:m.fn,setState:j,nextState:l,nextStateValue:l?{fn:l}:null}),i$({state:null==w?void 0:w.fn,setState:O,nextState:u,nextStateValue:u?{fn:u}:null}),(0,h.useEffect)(()=>{o!==E&&(C(E),io(s,{plugins:o,disableCorePlugins:t}),k(s.plugins))},[t,s,E,o,k,C])},iG=({id:e})=>{var t;let n=iI(e),r=nA(e).value(),o=nD(e).value(),i=null===(t=nA(e).onChange())||void 0===t?void 0:t.fn,a=(0,h.useCallback)(e=>{iF(n)(e)||null==i||i(e),o(e)},[n,o,i]);return(0,h.useMemo)(()=>({key:n.key,editor:n,onChange:a,value:r,initialValue:r}),[n,a,r])},iQ=["readOnly","plugins","onChange","decorate","renderElement","renderLeaf"],iZ=({id:e})=>{let t=iH(),n=iz(e),r=nL(e),o=nM(e),i=Object.fromEntries(iQ.map(e=>[e,o.set[e]()])),a=(0,h.useMemo)(()=>i,[]);return(0,h.useEffect)(()=>{t.reset=n,t.redecorate=r,t.plate={set:a}},[t,n,r,a]),null},iY=({plugin:e})=>{var t;let n=iH();return null===(t=e.useHooks)||void 0===t||t.call(e,n,e),null},iX=({id:e})=>{var t;let n=nD(e).isRendered(),r=nA(e).plugins(),o=iH(),i=null===(t=nA(e).editorRef())||void 0===t?void 0:t.ref;return(0,h.useEffect)(()=>(n(!0),()=>{n(!1)}),[n]),(0,h.useEffect)(()=>"function"==typeof i?(i(o),()=>i(null)):i?(i.current=o,()=>{i.current=null}):void 0,[i,o]),h.createElement(h.Fragment,null,r.map(e=>h.createElement(iY,{key:e.key,plugin:e})))},iJ=(0,h.memo)(({id:e})=>{let t=iW(),n=nT("keyEditor",e),r=nT("keySelection",e);return(0,h.useEffect)(()=>{n()}),(0,h.useEffect)(()=>{r()},[t.selection,r]),null}),i0=({children:e,renderEditable:t,editableRef:n,firstChildren:r,...o})=>{let{id:i}=o,{plugins:a}=iH(),l=iV(o),u=h.createElement(E.CX,M({ref:n},l)),c=null,s=null;a.forEach(e=>{let{renderBeforeEditable:t,renderAfterEditable:n}=e;n&&(c=h.createElement(h.Fragment,null,c,n(l))),t&&(s=h.createElement(h.Fragment,null,s,t(l)))});let f=h.createElement(h.Fragment,null,r,s,t?t(u):u,h.createElement(iZ,{id:i}),h.createElement(iJ,{id:i}),h.createElement(iX,{id:i}),c,e);return a.forEach(e=>{let{renderAboveEditable:t}=e;t&&(f=t({children:f}))}),f},i1=({children:e,...t})=>(iq(t),h.createElement(h.Fragment,null,e)),i2=({normalizeInitialValue:e,...t})=>{let{id:n=n_,editor:r,initialValue:o,value:i,children:a,plugins:l,disableCorePlugins:u,onChange:c,editorRef:s,decorate:f,renderElement:d,renderLeaf:p,readOnly:v}=t,y=(0,h.useMemo)(()=>null!=r?r:ic({id:n,plugins:l,disableCorePlugins:u}),[]),b=(0,h.useMemo)(()=>{let t=null!=o?o:i;t||(t=y.children.length?y.children:y.childrenFactory());let n=ix(y,t);return n&&(t=n),y.children=t,e&&(0,w.Nh)(y,{force:!0}),y.children},[]);return h.createElement(A,{initialValues:[[nB.atom.id,n],[nB.atom.editor,y],[nB.atom.plugins,y.plugins],[nB.atom.rawPlugins,l],[nB.atom.readOnly,v],[nB.atom.value,b],[nB.atom.decorate,{fn:f}],[nB.atom.onChange,{fn:c}],[nB.atom.editorRef,{ref:s}],[nB.atom.renderElement,{fn:d}],[nB.atom.renderLeaf,{fn:p}]],scope:n},h.createElement(A,{initialValues:[[nx,n]],scope:nS},h.createElement(i1,t,a)))},i9=e=>{let{id:t}=e;return h.createElement(i2,M({key:null==t?void 0:t.toString()},e))},i3=({id:e,children:t})=>{let n=iG({id:e}),{plugins:r}=nA(e).editor(),o=h.createElement(E.mH,n,t);return null==r||r.forEach(e=>{let{renderAboveSlate:t}=e;t&&(o=t({children:o}))}),o},i6=({children:e,editableRef:t,firstChildren:n,renderEditable:r,editableProps:o,...i})=>{let{id:a=n_}=i,l=nA(a).id(),u=h.createElement(i3,{id:a},h.createElement(i0,M({id:a,editableRef:t,firstChildren:n,renderEditable:r},o),e));return l?u:h.createElement(i9,i,u)},i4=(e,t,n)=>{let{activeType:r,inactiveType:o=rm(e,ra)}=t;if(!r||!e.selection)return;let i=(0,w.zw)(e,{...n,match:{type:r}});i&&r===o||(0,w.oU)(e,{type:i?o:r})}}}]);